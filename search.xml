<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Goè¯­è¨€è¿›é˜¶â€”â€”æ•°æ®ç»“æ„ä¹‹æ ˆå’Œé˜Ÿåˆ—</title>
      <link href="/hypo-Z.github.io/2022/03/02/go-yu-yan-jin-jie-shu-ju-jie-gou-zhi-zhan-he-dui-lie/"/>
      <url>/hypo-Z.github.io/2022/03/02/go-yu-yan-jin-jie-shu-ju-jie-gou-zhi-zhan-he-dui-lie/</url>
      
        <content type="html"><![CDATA[<h1 id="Goè¯­è¨€è¿›é˜¶â€”â€”æ•°æ®ç»“æ„ä¹‹æ ˆå’Œé˜Ÿåˆ—"><a href="#Goè¯­è¨€è¿›é˜¶â€”â€”æ•°æ®ç»“æ„ä¹‹æ ˆå’Œé˜Ÿåˆ—" class="headerlink" title="Goè¯­è¨€è¿›é˜¶â€”â€”æ•°æ®ç»“æ„ä¹‹æ ˆå’Œé˜Ÿåˆ—"></a>Goè¯­è¨€è¿›é˜¶â€”â€”æ•°æ®ç»“æ„ä¹‹æ ˆå’Œé˜Ÿåˆ—</h1><h2 id="ä¸€ã€ç®€ä»‹"><a href="#ä¸€ã€ç®€ä»‹" class="headerlink" title="ä¸€ã€ç®€ä»‹"></a>ä¸€ã€ç®€ä»‹</h2><p>ç”±ä¹‹å‰çš„æ–‡ç« å¯çŸ¥ï¼Œå­˜å‚¨æ•°æ®å…ƒç´ å°†æ•°æ®æ”¾å…¥æˆ–åˆ é™¤å­˜å‚¨ç©ºé—´å†…ï¼Œæœ€åŸºæœ¬çš„ç»“æ„æ˜¯æ•°ç»„å’Œé“¾è¡¨ï¼Œè€Œè·å–æ•°æ®å…ƒç´ çš„æ–¹å¼æœ‰å¤šç§å½¢å¼ï¼Œä½†æœ€ç®€å•çš„æ˜¯å–æœ€å‰æˆ–æœ€åã€‚</p><p>æ ˆï¼ˆstackï¼‰ï¼šå…ˆè¿›åå‡ºï¼Œå°±åƒå †ä¸œè¥¿ä¸€æ ·ï¼Œéœ€è¦å°†åé¢çš„å–äº†æ‰èƒ½å–å‰é¢çš„ã€‚</p><p>é˜Ÿåˆ—ï¼ˆqueueï¼‰ï¼šå…ˆè¿›å…ˆå‡ºï¼Œæ’é˜Ÿã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç”¨æ•°æ®ç»“æ„ï¼š<code>é“¾è¡¨</code>ï¼ˆå¯è¿ç»­æˆ–ä¸è¿ç»­çš„å°†æ•°æ®ä¸æ•°æ®å…³è”èµ·æ¥çš„ç»“æ„ï¼‰ï¼Œæˆ– <code>æ•°ç»„</code>ï¼ˆè¿ç»­çš„å†…å­˜ç©ºé—´ï¼ŒæŒ‰ç´¢å¼•å–å€¼ï¼‰ æ¥å®ç° <code>æ ˆï¼ˆstackï¼‰</code> å’Œ <code>é˜Ÿåˆ— (queue)</code>ã€‚</p><h2 id="äºŒã€æ•°ç»„æ ˆArrayStack"><a href="#äºŒã€æ•°ç»„æ ˆArrayStack" class="headerlink" title="äºŒã€æ•°ç»„æ ˆArrayStack"></a>äºŒã€æ•°ç»„æ ˆArrayStack</h2><p>æ•°ç»„å½¢å¼çš„ä¸‹å‹æ ˆï¼Œåè¿›å…ˆå‡ºï¼š</p><p>ä½¿ç”¨åˆ‡ç‰‡æ¥å®ç°ï¼š</p><h3 id="2-1-ç»“æ„"><a href="#2-1-ç»“æ„" class="headerlink" title="2.1 ç»“æ„"></a>2.1 ç»“æ„</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// æ•°ç»„æ ˆï¼Œåè¿›å…ˆå‡º</span><span class="token keyword">type</span> ArrayStack <span class="token keyword">struct</span> <span class="token punctuation">{</span>    array <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>   <span class="token comment">// åº•å±‚åˆ‡ç‰‡</span>    size  <span class="token builtin">int</span>        <span class="token comment">// æ ˆçš„å…ƒç´ æ•°é‡</span>    lock  sync<span class="token punctuation">.</span>Mutex <span class="token comment">// ä¸ºäº†å¹¶å‘å®‰å…¨ä½¿ç”¨çš„é”</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-2-å…¥æ ˆï¼š"><a href="#2-2-å…¥æ ˆï¼š" class="headerlink" title="2.2 å…¥æ ˆï¼š"></a>2.2 å…¥æ ˆï¼š</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// å…¥æ ˆ</span><span class="token keyword">func</span> <span class="token punctuation">(</span>stack <span class="token operator">*</span>ArrayStack<span class="token punctuation">)</span> <span class="token function">Push</span><span class="token punctuation">(</span>v <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    stack<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">defer</span> stack<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// æ”¾å…¥åˆ‡ç‰‡ä¸­ï¼Œåè¿›çš„å…ƒç´ æ”¾åœ¨æ•°ç»„æœ€åé¢</span>    stack<span class="token punctuation">.</span>array <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span>array<span class="token punctuation">,</span> v<span class="token punctuation">)</span>    <span class="token comment">// æ ˆä¸­å…ƒç´ æ•°é‡+1</span>    stack<span class="token punctuation">.</span>size <span class="token operator">=</span> stack<span class="token punctuation">.</span>size <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å°†å…ƒç´ åŠ åˆ°æ•°ç»„æœ€åé¢ï¼Œä½¿ç”¨é”ä¿è¯å¹¶å‘å®‰å…¨ï¼Œåˆ‡ç‰‡å®¹é‡ä¼šè‡ªåŠ¨æ‰©å®¹ã€‚</p><h3 id="2-3-å‡ºæ ˆ"><a href="#2-3-å‡ºæ ˆ" class="headerlink" title="2.3 å‡ºæ ˆ"></a>2.3 å‡ºæ ˆ</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token punctuation">(</span>stack <span class="token operator">*</span>ArrayStack<span class="token punctuation">)</span> <span class="token function">Pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>    stack<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">defer</span> stack<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// æ ˆä¸­å…ƒç´ å·²ç©º</span>    <span class="token keyword">if</span> stack<span class="token punctuation">.</span>size <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>        <span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"empty"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token comment">// æ ˆé¡¶å…ƒç´ </span>    v <span class="token operator">:=</span> stack<span class="token punctuation">.</span>array<span class="token punctuation">[</span>stack<span class="token punctuation">.</span>size<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>    <span class="token comment">// åˆ‡ç‰‡æ”¶ç¼©ï¼Œä½†å¯èƒ½å ç”¨ç©ºé—´è¶Šæ¥è¶Šå¤§</span>    <span class="token comment">//stack.array = stack.array[0 : stack.size-1]</span>    <span class="token comment">// åˆ›å»ºæ–°çš„åˆ‡ç‰‡ï¼Œç©ºé—´å ç”¨ä¸ä¼šè¶Šæ¥è¶Šå¤§ï¼Œä½†å¯èƒ½ç§»åŠ¨å…ƒç´ æ¬¡æ•°è¿‡å¤š</span>    newArray <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> stack<span class="token punctuation">.</span>size<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> stack<span class="token punctuation">.</span>size<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> stack<span class="token punctuation">.</span>size<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>        newArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> stack<span class="token punctuation">.</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span>    <span class="token punctuation">}</span>    stack<span class="token punctuation">.</span>array <span class="token operator">=</span> newArray    <span class="token comment">// æ ˆä¸­å…ƒç´ æ•°é‡-1</span>    stack<span class="token punctuation">.</span>size <span class="token operator">=</span> stack<span class="token punctuation">.</span>size <span class="token operator">-</span> <span class="token number">1</span>    <span class="token keyword">return</span> v<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿”å›æ ˆé¡¶å…ƒç´ ï¼Œä½¿ç”¨é”ä¿è¯å¹¶å‘å®‰å…¨ï¼Œåˆ›å»ºæ–°çš„åˆ‡ç‰‡å°†ä½™ä¸‹çš„å…ƒç´ å¤åˆ¶åˆ°æ–°åˆ‡ç‰‡ï¼Œå³å‚¨å­˜ç©ºé—´é™å®¹</p><h3 id="2-4-è·å–æ ˆé¡¶å…ƒç´ "><a href="#2-4-è·å–æ ˆé¡¶å…ƒç´ " class="headerlink" title="2.4 è·å–æ ˆé¡¶å…ƒç´ "></a>2.4 è·å–æ ˆé¡¶å…ƒç´ </h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// è·å–æ ˆé¡¶å…ƒç´ </span><span class="token keyword">func</span> <span class="token punctuation">(</span>stack <span class="token operator">*</span>ArrayStack<span class="token punctuation">)</span> <span class="token function">Peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>    <span class="token comment">// æ ˆä¸­å…ƒç´ å·²ç©º</span>    <span class="token keyword">if</span> stack<span class="token punctuation">.</span>size <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>        <span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"empty"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token comment">// æ ˆé¡¶å…ƒç´ å€¼</span>    v <span class="token operator">:=</span> stack<span class="token punctuation">.</span>array<span class="token punctuation">[</span>stack<span class="token punctuation">.</span>size<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>    <span class="token keyword">return</span> v<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-5-è·å–æ ˆå¤§å°å’Œåˆ¤æ–­æ˜¯å¦ä¸ºç©º"><a href="#2-5-è·å–æ ˆå¤§å°å’Œåˆ¤æ–­æ˜¯å¦ä¸ºç©º" class="headerlink" title="2.5 è·å–æ ˆå¤§å°å’Œåˆ¤æ–­æ˜¯å¦ä¸ºç©º"></a>2.5 è·å–æ ˆå¤§å°å’Œåˆ¤æ–­æ˜¯å¦ä¸ºç©º</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// æ ˆå¤§å°</span><span class="token keyword">func</span> <span class="token punctuation">(</span>stack <span class="token operator">*</span>ArrayStack<span class="token punctuation">)</span> <span class="token function">Size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> stack<span class="token punctuation">.</span>size<span class="token punctuation">}</span><span class="token comment">// æ ˆæ˜¯å¦ä¸ºç©º</span><span class="token keyword">func</span> <span class="token punctuation">(</span>stack <span class="token operator">*</span>ArrayStack<span class="token punctuation">)</span> <span class="token function">IsEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> stack<span class="token punctuation">.</span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-6-ä¸¾ä¸ªğŸŒ°"><a href="#2-6-ä¸¾ä¸ªğŸŒ°" class="headerlink" title="2.6 ä¸¾ä¸ªğŸŒ°"></a>2.6 ä¸¾ä¸ªğŸŒ°</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    arrayStack <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>ArrayStack<span class="token punctuation">)</span>    arrayStack<span class="token punctuation">.</span><span class="token function">Push</span><span class="token punctuation">(</span><span class="token string">"cat"</span><span class="token punctuation">)</span>    arrayStack<span class="token punctuation">.</span><span class="token function">Push</span><span class="token punctuation">(</span><span class="token string">"dog"</span><span class="token punctuation">)</span>    arrayStack<span class="token punctuation">.</span><span class="token function">Push</span><span class="token punctuation">(</span><span class="token string">"hen"</span><span class="token punctuation">)</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"size:"</span><span class="token punctuation">,</span> arrayStack<span class="token punctuation">.</span><span class="token function">Size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"pop:"</span><span class="token punctuation">,</span> arrayStack<span class="token punctuation">.</span><span class="token function">Pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"pop:"</span><span class="token punctuation">,</span> arrayStack<span class="token punctuation">.</span><span class="token function">Pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"size:"</span><span class="token punctuation">,</span> arrayStack<span class="token punctuation">.</span><span class="token function">Size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    arrayStack<span class="token punctuation">.</span><span class="token function">Push</span><span class="token punctuation">(</span><span class="token string">"drag"</span><span class="token punctuation">)</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"pop:"</span><span class="token punctuation">,</span> arrayStack<span class="token punctuation">.</span><span class="token function">Pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go">size<span class="token punctuation">:</span> <span class="token number">3</span>pop<span class="token punctuation">:</span> henpop<span class="token punctuation">:</span> dogsize<span class="token punctuation">:</span> <span class="token number">1</span>pop<span class="token punctuation">:</span> drag<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸‰ã€æ•°ç»„é˜Ÿåˆ—ArrayQueue"><a href="#ä¸‰ã€æ•°ç»„é˜Ÿåˆ—ArrayQueue" class="headerlink" title="ä¸‰ã€æ•°ç»„é˜Ÿåˆ—ArrayQueue"></a>ä¸‰ã€æ•°ç»„é˜Ÿåˆ—ArrayQueue</h2><p>ä¸æ•°ç»„æ ˆç±»ä¼¼ï¼Œä½†æ˜¯å…ƒç´ æ˜¯å…ˆè¿›å…ˆå‡º</p><h3 id="3-1-ç»“æ„ï¼š"><a href="#3-1-ç»“æ„ï¼š" class="headerlink" title="3.1 ç»“æ„ï¼š"></a>3.1 ç»“æ„ï¼š</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// æ•°ç»„é˜Ÿåˆ—ï¼Œå…ˆè¿›å…ˆå‡º</span><span class="token keyword">type</span> ArrayQueue <span class="token keyword">struct</span> <span class="token punctuation">{</span>    array <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>   <span class="token comment">// åº•å±‚åˆ‡ç‰‡</span>    size  <span class="token builtin">int</span>        <span class="token comment">// é˜Ÿåˆ—çš„å…ƒç´ æ•°é‡</span>    lock  sync<span class="token punctuation">.</span>Mutex <span class="token comment">// ä¸ºäº†å¹¶å‘å®‰å…¨ä½¿ç”¨çš„é”</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-2-å…¥é˜Ÿ"><a href="#3-2-å…¥é˜Ÿ" class="headerlink" title="3.2 å…¥é˜Ÿ"></a>3.2 å…¥é˜Ÿ</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// å…¥é˜Ÿ</span><span class="token keyword">func</span> <span class="token punctuation">(</span>queue <span class="token operator">*</span>ArrayQueue<span class="token punctuation">)</span> <span class="token function">Add</span><span class="token punctuation">(</span>v <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    queue<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">defer</span> queue<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// æ”¾å…¥åˆ‡ç‰‡ä¸­ï¼Œåè¿›çš„å…ƒç´ æ”¾åœ¨æ•°ç»„æœ€åé¢</span>    queue<span class="token punctuation">.</span>array <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>queue<span class="token punctuation">.</span>array<span class="token punctuation">,</span> v<span class="token punctuation">)</span>    <span class="token comment">// é˜Ÿä¸­å…ƒç´ æ•°é‡+1</span>    queue<span class="token punctuation">.</span>size <span class="token operator">=</span> queue<span class="token punctuation">.</span>size <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å’Œå…¥æ ˆä¸€æ ·ï¼Œå…ƒç´ éƒ½æ˜¯ç›´æ¥å­˜æ”¾æ•°ç»„çš„æœ€åæ–¹</p><h3 id="3-3-å‡ºé˜Ÿ"><a href="#3-3-å‡ºé˜Ÿ" class="headerlink" title="3.3 å‡ºé˜Ÿ"></a>3.3 å‡ºé˜Ÿ</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// å‡ºé˜Ÿ</span><span class="token keyword">func</span> <span class="token punctuation">(</span>queue <span class="token operator">*</span>ArrayQueue<span class="token punctuation">)</span> <span class="token function">Remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>    queue<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">defer</span> queue<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// é˜Ÿä¸­å…ƒç´ å·²ç©º</span>    <span class="token keyword">if</span> queue<span class="token punctuation">.</span>size <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>        <span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"empty"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token comment">// é˜Ÿåˆ—æœ€å‰é¢å…ƒç´ </span>    v <span class="token operator">:=</span> queue<span class="token punctuation">.</span>array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token comment">/*    ç›´æ¥åŸä½ç§»åŠ¨ï¼Œä½†ç¼©å®¹åç»§çš„ç©ºé—´ä¸ä¼šè¢«é‡Šæ”¾        for i := 1; i &lt; queue.size; i++ {            // ä»ç¬¬ä¸€ä½å¼€å§‹è¿›è¡Œæ•°æ®ç§»åŠ¨            queue.array[i-1] = queue.array[i]        }        // åŸæ•°ç»„ç¼©å®¹        queue.array = queue.array[0 : queue.size-1]    */</span>    <span class="token comment">// åˆ›å»ºæ–°çš„æ•°ç»„ï¼Œç§»åŠ¨æ¬¡æ•°è¿‡å¤š</span>    newArray <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> queue<span class="token punctuation">.</span>size<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> queue<span class="token punctuation">.</span>size<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> queue<span class="token punctuation">.</span>size<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>        <span class="token comment">// ä»è€æ•°ç»„çš„ç¬¬ä¸€ä½å¼€å§‹è¿›è¡Œæ•°æ®ç§»åŠ¨</span>        newArray<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> queue<span class="token punctuation">.</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span>    <span class="token punctuation">}</span>    queue<span class="token punctuation">.</span>array <span class="token operator">=</span> newArray    <span class="token comment">// é˜Ÿä¸­å…ƒç´ æ•°é‡-1</span>    queue<span class="token punctuation">.</span>size <span class="token operator">=</span> queue<span class="token punctuation">.</span>size <span class="token operator">-</span> <span class="token number">1</span>    <span class="token keyword">return</span> v<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>ç¼©å®¹</code>å³å°†åŸåˆ‡ç‰‡ç¬¬ä¸€ä½åé¢çš„å…ƒç´ å¤åˆ¶åˆ°æ–°åˆ‡ç‰‡</p><h2 id="å››ã€é“¾è¡¨æ ˆLinkStack"><a href="#å››ã€é“¾è¡¨æ ˆLinkStack" class="headerlink" title="å››ã€é“¾è¡¨æ ˆLinkStack"></a>å››ã€é“¾è¡¨æ ˆLinkStack</h2><h3 id="4-1ç»“æ„"><a href="#4-1ç»“æ„" class="headerlink" title="4.1ç»“æ„"></a>4.1ç»“æ„</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// é“¾è¡¨æ ˆï¼Œåè¿›å…ˆå‡º</span><span class="token keyword">type</span> LinkStack <span class="token keyword">struct</span> <span class="token punctuation">{</span>    root <span class="token operator">*</span>LinkNode  <span class="token comment">// é“¾è¡¨èµ·ç‚¹</span>    size <span class="token builtin">int</span>        <span class="token comment">// æ ˆçš„å…ƒç´ æ•°é‡</span>    lock sync<span class="token punctuation">.</span>Mutex <span class="token comment">// ä¸ºäº†å¹¶å‘å®‰å…¨ä½¿ç”¨çš„é”</span><span class="token punctuation">}</span><span class="token comment">// é“¾è¡¨èŠ‚ç‚¹</span><span class="token keyword">type</span> LinkNode <span class="token keyword">struct</span> <span class="token punctuation">{</span>    Next  <span class="token operator">*</span>LinkNode    Value <span class="token builtin">string</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä½¿ç”¨æœ€ç®€å•çš„åˆ—è¡¨ç»“æ„</p><h3 id="4-2-å…¥æ ˆ"><a href="#4-2-å…¥æ ˆ" class="headerlink" title="4.2 å…¥æ ˆ"></a>4.2 å…¥æ ˆ</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// å…¥æ ˆ</span><span class="token keyword">func</span> <span class="token punctuation">(</span>stack <span class="token operator">*</span>LinkStack<span class="token punctuation">)</span> <span class="token function">Push</span><span class="token punctuation">(</span>v <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    stack<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">defer</span> stack<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// å¦‚æœæ ˆé¡¶ä¸ºç©ºï¼Œé‚£ä¹ˆå¢åŠ èŠ‚ç‚¹</span>    <span class="token keyword">if</span> stack<span class="token punctuation">.</span>root <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>        stack<span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token function">new</span><span class="token punctuation">(</span>LinkNode<span class="token punctuation">)</span>        stack<span class="token punctuation">.</span>root<span class="token punctuation">.</span>Value <span class="token operator">=</span> v    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token comment">// å¦åˆ™æ–°å…ƒç´ æ’å…¥é“¾è¡¨çš„å¤´éƒ¨</span>        <span class="token comment">// åŸæ¥çš„é“¾è¡¨</span>        preNode <span class="token operator">:=</span> stack<span class="token punctuation">.</span>root        <span class="token comment">// æ–°èŠ‚ç‚¹</span>        newNode <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>LinkNode<span class="token punctuation">)</span>        newNode<span class="token punctuation">.</span>Value <span class="token operator">=</span> v        <span class="token comment">// åŸæ¥çš„é“¾è¡¨é“¾æ¥åˆ°æ–°å…ƒç´ åé¢</span>        newNode<span class="token punctuation">.</span>Next <span class="token operator">=</span> preNode        <span class="token comment">// å°†æ–°èŠ‚ç‚¹æ”¾åœ¨å¤´éƒ¨</span>        stack<span class="token punctuation">.</span>root <span class="token operator">=</span> newNode    <span class="token punctuation">}</span>    <span class="token comment">// æ ˆä¸­å…ƒç´ æ•°é‡+1</span>    stack<span class="token punctuation">.</span>size <span class="token operator">=</span> stack<span class="token punctuation">.</span>size <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å°†æ–°å…ƒç´ æ”¾åœ¨åŸé“¾è¡¨çš„å¤´éƒ¨å³æ»¡è¶³äº†æ ˆçš„åè¿›å…ˆå‡º</p><h3 id="4-3-å‡ºæ ˆ"><a href="#4-3-å‡ºæ ˆ" class="headerlink" title="4.3 å‡ºæ ˆ"></a>4.3 å‡ºæ ˆ</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// å‡ºæ ˆ</span><span class="token keyword">func</span> <span class="token punctuation">(</span>stack <span class="token operator">*</span>LinkStack<span class="token punctuation">)</span> <span class="token function">Pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>    stack<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">defer</span> stack<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// æ ˆä¸­å…ƒç´ å·²ç©º</span>    <span class="token keyword">if</span> stack<span class="token punctuation">.</span>size <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>        <span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"empty"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token comment">// é¡¶éƒ¨å…ƒç´ è¦å‡ºæ ˆ</span>    topNode <span class="token operator">:=</span> stack<span class="token punctuation">.</span>root    v <span class="token operator">:=</span> topNode<span class="token punctuation">.</span>Value    <span class="token comment">// å°†é¡¶éƒ¨å…ƒç´ çš„åç»§é“¾æ¥é“¾ä¸Š</span>    stack<span class="token punctuation">.</span>root <span class="token operator">=</span> topNode<span class="token punctuation">.</span>Next    <span class="token comment">// æ ˆä¸­å…ƒç´ æ•°é‡-1</span>    stack<span class="token punctuation">.</span>size <span class="token operator">=</span> stack<span class="token punctuation">.</span>size <span class="token operator">-</span> <span class="token number">1</span>    <span class="token keyword">return</span> v<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4-4-è·å–æ ˆé¡¶å…ƒç´ "><a href="#4-4-è·å–æ ˆé¡¶å…ƒç´ " class="headerlink" title="4.4 è·å–æ ˆé¡¶å…ƒç´ "></a>4.4 è·å–æ ˆé¡¶å…ƒç´ </h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// è·å–æ ˆé¡¶å…ƒç´ </span><span class="token keyword">func</span> <span class="token punctuation">(</span>stack <span class="token operator">*</span>LinkStack<span class="token punctuation">)</span> <span class="token function">Peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>    <span class="token comment">// æ ˆä¸­å…ƒç´ å·²ç©º</span>    <span class="token keyword">if</span> stack<span class="token punctuation">.</span>size <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>        <span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"empty"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token comment">// é¡¶éƒ¨å…ƒç´ å€¼</span>    v <span class="token operator">:=</span> stack<span class="token punctuation">.</span>root<span class="token punctuation">.</span>Value    <span class="token keyword">return</span> v<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4-5-è·å–æ ˆå¤§å°å’Œåˆ¤æ–­æ˜¯å¦ä¸ºç©º"><a href="#4-5-è·å–æ ˆå¤§å°å’Œåˆ¤æ–­æ˜¯å¦ä¸ºç©º" class="headerlink" title="4.5 è·å–æ ˆå¤§å°å’Œåˆ¤æ–­æ˜¯å¦ä¸ºç©º"></a>4.5 è·å–æ ˆå¤§å°å’Œåˆ¤æ–­æ˜¯å¦ä¸ºç©º</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// æ ˆå¤§å°</span><span class="token keyword">func</span> <span class="token punctuation">(</span>stack <span class="token operator">*</span>LinkStack<span class="token punctuation">)</span> <span class="token function">Size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> stack<span class="token punctuation">.</span>size<span class="token punctuation">}</span><span class="token comment">// æ ˆæ˜¯å¦ä¸ºç©º</span><span class="token keyword">func</span> <span class="token punctuation">(</span>stack <span class="token operator">*</span>LinkStack<span class="token punctuation">)</span> <span class="token function">IsEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> stack<span class="token punctuation">.</span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4-6-ä¸¾ä¸ªğŸŒ°"><a href="#4-6-ä¸¾ä¸ªğŸŒ°" class="headerlink" title="4.6 ä¸¾ä¸ªğŸŒ°"></a>4.6 ä¸¾ä¸ªğŸŒ°</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    linkStack <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>LinkStack<span class="token punctuation">)</span>    linkStack<span class="token punctuation">.</span><span class="token function">Push</span><span class="token punctuation">(</span><span class="token string">"cat"</span><span class="token punctuation">)</span>    linkStack<span class="token punctuation">.</span><span class="token function">Push</span><span class="token punctuation">(</span><span class="token string">"dog"</span><span class="token punctuation">)</span>    linkStack<span class="token punctuation">.</span><span class="token function">Push</span><span class="token punctuation">(</span><span class="token string">"hen"</span><span class="token punctuation">)</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"size:"</span><span class="token punctuation">,</span> linkStack<span class="token punctuation">.</span><span class="token function">Size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"pop:"</span><span class="token punctuation">,</span> linkStack<span class="token punctuation">.</span><span class="token function">Pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"pop:"</span><span class="token punctuation">,</span> linkStack<span class="token punctuation">.</span><span class="token function">Pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"size:"</span><span class="token punctuation">,</span> linkStack<span class="token punctuation">.</span><span class="token function">Size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    linkStack<span class="token punctuation">.</span><span class="token function">Push</span><span class="token punctuation">(</span><span class="token string">"drag"</span><span class="token punctuation">)</span>    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"pop:"</span><span class="token punctuation">,</span> linkStack<span class="token punctuation">.</span><span class="token function">Pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go">size<span class="token punctuation">:</span> <span class="token number">3</span>pop<span class="token punctuation">:</span> henpop<span class="token punctuation">:</span> dogsize<span class="token punctuation">:</span> <span class="token number">1</span>pop<span class="token punctuation">:</span> drag<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="äº”ã€é“¾è¡¨é˜Ÿåˆ—LinkQueue"><a href="#äº”ã€é“¾è¡¨é˜Ÿåˆ—LinkQueue" class="headerlink" title="äº”ã€é“¾è¡¨é˜Ÿåˆ—LinkQueue"></a>äº”ã€é“¾è¡¨é˜Ÿåˆ—LinkQueue</h2><p>é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºï¼Œå’Œæ ˆæ“ä½œé¡ºåºç›¸åï¼Œæˆ‘ä»¬è¿™é‡Œåªå®ç°å…¥é˜Ÿï¼Œå’Œå‡ºé˜Ÿæ“ä½œï¼Œå…¶ä»–æ“ä½œå’Œæ ˆä¸€æ ·ã€‚</p><h3 id="5-1-ç»“æ„"><a href="#5-1-ç»“æ„" class="headerlink" title="5.1 ç»“æ„"></a>5.1 ç»“æ„</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// é“¾è¡¨é˜Ÿåˆ—ï¼Œå…ˆè¿›å…ˆå‡º</span><span class="token keyword">type</span> LinkQueue <span class="token keyword">struct</span> <span class="token punctuation">{</span>    root <span class="token operator">*</span>LinkNode  <span class="token comment">// é“¾è¡¨èµ·ç‚¹</span>    size <span class="token builtin">int</span>        <span class="token comment">// é˜Ÿåˆ—çš„å…ƒç´ æ•°é‡</span>    lock sync<span class="token punctuation">.</span>Mutex <span class="token comment">// ä¸ºäº†å¹¶å‘å®‰å…¨ä½¿ç”¨çš„é”</span><span class="token punctuation">}</span><span class="token comment">// é“¾è¡¨èŠ‚ç‚¹</span><span class="token keyword">type</span> LinkNode <span class="token keyword">struct</span> <span class="token punctuation">{</span>    Next  <span class="token operator">*</span>LinkNode    Value <span class="token builtin">string</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-2-å…¥é˜Ÿ"><a href="#5-2-å…¥é˜Ÿ" class="headerlink" title="5.2 å…¥é˜Ÿ"></a>5.2 å…¥é˜Ÿ</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// å…¥é˜Ÿ</span><span class="token keyword">func</span> <span class="token punctuation">(</span>queue <span class="token operator">*</span>LinkQueue<span class="token punctuation">)</span> <span class="token function">Add</span><span class="token punctuation">(</span>v <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    queue<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">defer</span> queue<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// å¦‚æœæ ˆé¡¶ä¸ºç©ºï¼Œé‚£ä¹ˆå¢åŠ èŠ‚ç‚¹</span>    <span class="token keyword">if</span> queue<span class="token punctuation">.</span>root <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>        queue<span class="token punctuation">.</span>root <span class="token operator">=</span> <span class="token function">new</span><span class="token punctuation">(</span>LinkNode<span class="token punctuation">)</span>        queue<span class="token punctuation">.</span>root<span class="token punctuation">.</span>Value <span class="token operator">=</span> v    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token comment">// å¦åˆ™æ–°å…ƒç´ æ’å…¥é“¾è¡¨çš„æœ«å°¾</span>        <span class="token comment">// æ–°èŠ‚ç‚¹</span>        newNode <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>LinkNode<span class="token punctuation">)</span>        newNode<span class="token punctuation">.</span>Value <span class="token operator">=</span> v        <span class="token comment">// ä¸€ç›´éå†åˆ°é“¾è¡¨å°¾éƒ¨</span>        nowNode <span class="token operator">:=</span> queue<span class="token punctuation">.</span>root        <span class="token keyword">for</span> nowNode<span class="token punctuation">.</span>Next <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>            nowNode <span class="token operator">=</span> nowNode<span class="token punctuation">.</span>Next        <span class="token punctuation">}</span>        <span class="token comment">// æ–°èŠ‚ç‚¹æ”¾åœ¨é“¾è¡¨å°¾éƒ¨</span>        nowNode<span class="token punctuation">.</span>Next <span class="token operator">=</span> newNode    <span class="token punctuation">}</span>    <span class="token comment">// é˜Ÿä¸­å…ƒç´ æ•°é‡+1</span>    queue<span class="token punctuation">.</span>size <span class="token operator">=</span> queue<span class="token punctuation">.</span>size <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-3-å‡ºé˜Ÿ"><a href="#5-3-å‡ºé˜Ÿ" class="headerlink" title="5.3 å‡ºé˜Ÿ"></a>5.3 å‡ºé˜Ÿ</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// å‡ºé˜Ÿ</span><span class="token keyword">func</span> <span class="token punctuation">(</span>queue <span class="token operator">*</span>LinkQueue<span class="token punctuation">)</span> <span class="token function">Remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>    queue<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">defer</span> queue<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">// é˜Ÿä¸­å…ƒç´ å·²ç©º</span>    <span class="token keyword">if</span> queue<span class="token punctuation">.</span>size <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>        <span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"empty"</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token comment">// é¡¶éƒ¨å…ƒç´ è¦å‡ºé˜Ÿ</span>    topNode <span class="token operator">:=</span> queue<span class="token punctuation">.</span>root    v <span class="token operator">:=</span> topNode<span class="token punctuation">.</span>Value    <span class="token comment">// å°†é¡¶éƒ¨å…ƒç´ çš„åç»§é“¾æ¥é“¾ä¸Š</span>    queue<span class="token punctuation">.</span>root <span class="token operator">=</span> topNode<span class="token punctuation">.</span>Next    <span class="token comment">// é˜Ÿä¸­å…ƒç´ æ•°é‡-1</span>    queue<span class="token punctuation">.</span>size <span class="token operator">=</span> queue<span class="token punctuation">.</span>size <span class="token operator">-</span> <span class="token number">1</span>    <span class="token keyword">return</span> v<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åˆ°æ­¤å¯ä»¥æ€»ç»“è¿™å‡ ç§å­˜å‚¨ç»“æ„çš„ä¼˜ç¼ºï¼š</p><p>æ•°ç»„å®ç°æ ˆå’Œé˜Ÿåˆ—ï¼šèƒ½å¿«é€Ÿéšæœºè®¿é—®å­˜å‚¨çš„å…ƒç´ ï¼Œé€šè¿‡ä¸‹æ ‡ <code>index</code> è®¿é—®ï¼Œæ”¯æŒéšæœºè®¿é—®ï¼ŒæŸ¥è¯¢é€Ÿåº¦å¿«ï¼Œä½†å­˜åœ¨å…ƒç´ åœ¨æ•°ç»„ç©ºé—´ä¸­å¤§é‡ç§»åŠ¨çš„æ“ä½œï¼Œå¢åˆ æ•ˆç‡ä½ã€‚</p><p>é“¾è¡¨å®ç°æ ˆå’Œé˜Ÿåˆ—ï¼šåªæ”¯æŒé¡ºåºè®¿é—®ï¼Œåœ¨æŸäº›éå†æ“ä½œä¸­æŸ¥è¯¢é€Ÿåº¦æ…¢ï¼Œä½†å¢åˆ å…ƒç´ å¿«ã€‚</p><p>æ–‡ç« å‚è€ƒï¼š<br><a href="https://goa.lenggirl.com/#/algorithm/link?id=_11%e5%88%9d%e5%a7%8b%e5%8c%96%e5%be%aa%e7%8e%af%e9%93%be%e8%a1%a8">æ•°æ®ç»“æ„å’Œç®—æ³•</a><br><a href="https://www.runoob.com/go/go-arrays.html">èœé¸Ÿæ•™ç¨‹</a></p>]]></content>
      
      
      <categories>
          
          <category> Golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Golang </tag>
            
            <tag> è¿›é˜¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goè¯­è¨€è¿›é˜¶â€”â€”æ•°æ®ç»“æ„ä¹‹é“¾è¡¨ä¸æ•°ç»„</title>
      <link href="/hypo-Z.github.io/2022/03/01/go-yu-yan-jin-jie-shu-ju-jie-gou-zhi-lian-biao/"/>
      <url>/hypo-Z.github.io/2022/03/01/go-yu-yan-jin-jie-shu-ju-jie-gou-zhi-lian-biao/</url>
      
        <content type="html"><![CDATA[<h1 id="Goè¯­è¨€è¿›é˜¶â€”â€”æ•°æ®ç»“æ„ä¹‹é“¾è¡¨ä¸æ•°ç»„"><a href="#Goè¯­è¨€è¿›é˜¶â€”â€”æ•°æ®ç»“æ„ä¹‹é“¾è¡¨ä¸æ•°ç»„" class="headerlink" title="Goè¯­è¨€è¿›é˜¶â€”â€”æ•°æ®ç»“æ„ä¹‹é“¾è¡¨ä¸æ•°ç»„"></a>Goè¯­è¨€è¿›é˜¶â€”â€”æ•°æ®ç»“æ„ä¹‹é“¾è¡¨ä¸æ•°ç»„</h1><h2 id="ä¸€ã€é“¾è¡¨"><a href="#ä¸€ã€é“¾è¡¨" class="headerlink" title="ä¸€ã€é“¾è¡¨"></a>ä¸€ã€é“¾è¡¨</h2><blockquote><p>é“¾è¡¨ç”±ä¸€ä¸ªä¸ªæ•°æ®èŠ‚ç‚¹ç»„æˆçš„ï¼Œå®ƒæ˜¯ä¸€ä¸ªé€’å½’ç»“æ„ï¼Œè¦ä¹ˆå®ƒæ˜¯ç©ºçš„ï¼Œè¦ä¹ˆå®ƒå­˜åœ¨ä¸€ä¸ªæŒ‡å‘å¦å¤–ä¸€ä¸ªæ•°æ®èŠ‚ç‚¹çš„å¼•ç”¨ã€‚</p></blockquote><p>é“¾è¡¨æœ€åŸºç¡€çš„æ•°æ®ç»“æ„</p><ul><li>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„å•å‘é“¾è¡¨ç»“æ„ï¼š</li></ul><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">type</span> LinkNode <span class="token keyword">struct</span><span class="token punctuation">{</span>Data     <span class="token builtin">int64</span>    NextNode <span class="token operator">*</span>LinkNode<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">singleRing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// æ–°çš„èŠ‚ç‚¹</span>    node <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>LinkNode<span class="token punctuation">)</span>    node<span class="token punctuation">.</span>Data <span class="token operator">=</span> <span class="token number">2</span>    <span class="token comment">// æ–°çš„èŠ‚ç‚¹</span>    node1 <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>LinkNode<span class="token punctuation">)</span>    node1<span class="token punctuation">.</span>Data <span class="token operator">=</span> <span class="token number">3</span>    node<span class="token punctuation">.</span>NextNode <span class="token operator">=</span> node1 <span class="token comment">// node1 é“¾æ¥åˆ° node èŠ‚ç‚¹ä¸Š</span>    <span class="token comment">// æ–°çš„èŠ‚ç‚¹</span>    node2 <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>LinkNode<span class="token punctuation">)</span>    node2<span class="token punctuation">.</span>Data <span class="token operator">=</span> <span class="token number">4</span>    node1<span class="token punctuation">.</span>NextNode <span class="token operator">=</span> node2 <span class="token comment">// node2 é“¾æ¥åˆ° node1 èŠ‚ç‚¹ä¸Š</span>    <span class="token comment">// æŒ‰é¡ºåºæ‰“å°æ•°æ®</span>    nowNode <span class="token operator">:=</span> node    <span class="token keyword">for</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> nowNode <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>            <span class="token comment">// æ‰“å°èŠ‚ç‚¹å€¼</span>            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>nowNode<span class="token punctuation">.</span>Data<span class="token punctuation">)</span>            <span class="token comment">// è·å–ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span>            nowNode <span class="token operator">=</span> nowNode<span class="token punctuation">.</span>NextNode            <span class="token keyword">continue</span>        <span class="token punctuation">}</span>        <span class="token comment">// å¦‚æœä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ºç©ºï¼Œè¡¨ç¤ºé“¾è¡¨ç»“æŸäº†</span>        <span class="token keyword">break</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œæ‰“å°ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token number">2</span><span class="token number">3</span><span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>æ¥ä¸‹æ¥çœ‹çœ‹åŒé“¾è¡¨çš„å®ç°ï¼š</li></ul><p>åœ¨Goçš„å®˜æ–¹æ ‡å‡†åº“container/ringæœ‰å®ç°ï¼š</p><p>åŒé“¾è¡¨ç»“æ„å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// å¾ªç¯é“¾è¡¨</span><span class="token keyword">type</span> Ring <span class="token keyword">struct</span> <span class="token punctuation">{</span>    next<span class="token punctuation">,</span> prev <span class="token operator">*</span>Ring       <span class="token comment">// å‰é©±å’Œåé©±èŠ‚ç‚¹</span>    Value      <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// æ•°æ®</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// åˆå§‹åŒ–ç©ºçš„å¾ªç¯é“¾è¡¨ï¼Œå‰é©±å’Œåé©±éƒ½æŒ‡å‘è‡ªå·±ï¼Œå› ä¸ºæ˜¯å¾ªç¯çš„</span><span class="token keyword">func</span> <span class="token punctuation">(</span>r <span class="token operator">*</span>Ring<span class="token punctuation">)</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>Ring <span class="token punctuation">{</span>    r<span class="token punctuation">.</span>next <span class="token operator">=</span> r    r<span class="token punctuation">.</span>prev <span class="token operator">=</span> r    <span class="token keyword">return</span> r<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// åé©±æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥å€¼ä¸èƒ½ä¸ºç©º</span><span class="token keyword">func</span> <span class="token punctuation">(</span>r <span class="token operator">*</span>Ring<span class="token punctuation">)</span> <span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>Ring <span class="token punctuation">{</span><span class="token keyword">if</span> r<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span><span class="token keyword">return</span> r<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">return</span> r<span class="token punctuation">.</span>next<span class="token punctuation">}</span><span class="token comment">// å‰é©±æŒ‡å‘ä¸Šä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥å€¼ä¸èƒ½ä¸ºç©º</span><span class="token keyword">func</span> <span class="token punctuation">(</span>r <span class="token operator">*</span>Ring<span class="token punctuation">)</span> <span class="token function">Prev</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>Ring <span class="token punctuation">{</span><span class="token keyword">if</span> r<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span><span class="token keyword">return</span> r<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">return</span> r<span class="token punctuation">.</span>prev<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// åˆ›å»ºä¸€ä¸ªå…ƒç´ ä¸ºnçš„é“¾è¡¨</span><span class="token keyword">func</span> <span class="token function">New</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">*</span>Ring <span class="token punctuation">{</span><span class="token keyword">if</span> n <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">}</span>r <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>Ring<span class="token punctuation">)</span>p <span class="token operator">:=</span> r<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>p<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token operator">&amp;</span>Ring<span class="token punctuation">{</span>prev<span class="token punctuation">:</span> p<span class="token punctuation">}</span>p <span class="token operator">=</span> p<span class="token punctuation">.</span>next<span class="token punctuation">}</span>p<span class="token punctuation">.</span>next <span class="token operator">=</span> rr<span class="token punctuation">.</span>prev <span class="token operator">=</span> p<span class="token keyword">return</span> r<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// è®¡ç®—é“¾è¡¨çš„é•¿åº¦åŠå…ƒç´ ä¸ªæ•°</span><span class="token comment">// å®ƒçš„æ‰§è¡Œæ—¶é—´ä¸å…ƒç´ çš„æ•°é‡æˆæ­£æ¯”ã€‚</span><span class="token keyword">func</span> <span class="token punctuation">(</span>r <span class="token operator">*</span>Ring<span class="token punctuation">)</span> <span class="token function">Len</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>n <span class="token operator">:=</span> <span class="token number">0</span><span class="token keyword">if</span> r <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>n <span class="token operator">=</span> <span class="token number">1</span><span class="token keyword">for</span> p <span class="token operator">:=</span> r<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> p <span class="token operator">!=</span> r<span class="token punctuation">;</span> p <span class="token operator">=</span> p<span class="token punctuation">.</span>next <span class="token punctuation">{</span>n<span class="token operator">++</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">return</span> n<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">//éå†æŸ¥æ‰¾èŠ‚ç‚¹ï¼Œå½“nå°äºé›¶åˆ™å‘å‰nä½ï¼Œå½“nå¤§äºé›¶åˆ™å‘ånä½</span><span class="token keyword">func</span> <span class="token punctuation">(</span>r <span class="token operator">*</span>Ring<span class="token punctuation">)</span> <span class="token function">Move</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">*</span>Ring <span class="token punctuation">{</span><span class="token keyword">if</span> r<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span><span class="token keyword">return</span> r<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">switch</span> <span class="token punctuation">{</span><span class="token keyword">case</span> n <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token keyword">for</span> <span class="token punctuation">;</span> n <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">;</span> n<span class="token operator">++</span> <span class="token punctuation">{</span>r <span class="token operator">=</span> r<span class="token punctuation">.</span>prev<span class="token punctuation">}</span><span class="token keyword">case</span> n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span><span class="token keyword">for</span> <span class="token punctuation">;</span> n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> n<span class="token operator">--</span> <span class="token punctuation">{</span>r <span class="token operator">=</span> r<span class="token punctuation">.</span>next<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">return</span> r<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// å¾€èŠ‚ç‚¹Aï¼Œé“¾æ¥ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ä¸”è¿”å›ä¹‹å‰èŠ‚ç‚¹Açš„åé©±èŠ‚ç‚¹</span><span class="token keyword">func</span> <span class="token punctuation">(</span>r <span class="token operator">*</span>Ring<span class="token punctuation">)</span> <span class="token function">Link</span><span class="token punctuation">(</span>s <span class="token operator">*</span>Ring<span class="token punctuation">)</span> <span class="token operator">*</span>Ring <span class="token punctuation">{</span>    n <span class="token operator">:=</span> r<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> s <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>        p <span class="token operator">:=</span> s<span class="token punctuation">.</span><span class="token function">Prev</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        r<span class="token punctuation">.</span>next <span class="token operator">=</span> s        s<span class="token punctuation">.</span>prev <span class="token operator">=</span> r        n<span class="token punctuation">.</span>prev <span class="token operator">=</span> p        p<span class="token punctuation">.</span>next <span class="token operator">=</span> n    <span class="token punctuation">}</span>    <span class="token keyword">return</span> n<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// åˆ é™¤èŠ‚ç‚¹åé¢çš„ n ä¸ªèŠ‚ç‚¹</span><span class="token keyword">func</span> <span class="token punctuation">(</span>r <span class="token operator">*</span>Ring<span class="token punctuation">)</span> <span class="token function">Unlink</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">*</span>Ring <span class="token punctuation">{</span>    <span class="token keyword">if</span> n <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token boolean">nil</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> r<span class="token punctuation">.</span><span class="token function">Link</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span><span class="token function">Move</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="äºŒã€æ•°ç»„ä¸é“¾è¡¨"><a href="#äºŒã€æ•°ç»„ä¸é“¾è¡¨" class="headerlink" title="äºŒã€æ•°ç»„ä¸é“¾è¡¨"></a>äºŒã€æ•°ç»„ä¸é“¾è¡¨</h2><p>æ•°ç»„æ˜¯ç¼–ç¨‹è¯­è¨€ä½œä¸ºä¸€ç§åŸºæœ¬ç±»å‹æä¾›å‡ºæ¥çš„ï¼Œç›¸åŒæ•°æ®ç±»å‹çš„å…ƒç´ æŒ‰ä¸€å®šé¡ºåºæ’åˆ—çš„é›†åˆã€‚</p><p>å®ƒçš„ä½œç”¨åªæœ‰ä¸€ç§ï¼šå­˜æ”¾æ•°æ®ï¼Œè®©ä½ å¾ˆå¿«èƒ½æ‰¾åˆ°å­˜çš„æ•°æ®ã€‚å¦‚æœä½ ä¸å»é¢å¤–æ”¹è¿›å®ƒï¼Œå®ƒå°±åªæ˜¯å­˜æ”¾æ•°æ®è€Œå·²ï¼Œå®ƒä¸ä¼šå°†ä¸€ä¸ªæ•°æ®èŠ‚ç‚¹å’Œå¦å¤–ä¸€ä¸ªæ•°æ®èŠ‚ç‚¹å…³è”èµ·æ¥ã€‚</p><p>æ•°ç»„è¿™ä¸€æ•°æ®ç±»å‹ï¼Œæ˜¯è¢«ç¼–ç¨‹è¯­è¨€é«˜åº¦æŠ½è±¡å°è£…çš„ç»“æ„ï¼Œ<code>ä¸‹æ ‡</code> ä¼šè½¬æ¢æˆ <code>è™šæ‹Ÿå†…å­˜åœ°å€</code>ï¼Œç„¶åæ“ä½œç³»ç»Ÿä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬è¿›è¡Œå¯»å€ï¼Œè¿™ä¸ªå¯»å€è¿‡ç¨‹æ˜¯ç‰¹åˆ«å¿«çš„ï¼Œæ‰€ä»¥å¾€æ•°ç»„çš„æŸä¸ªä¸‹æ ‡å–ä¸€ä¸ªå€¼å’Œæ”¾ä¸€ä¸ªå€¼ï¼Œæ—¶é—´å¤æ‚åº¦éƒ½ä¸º <code>O(1)</code>ã€‚</p><p>å®ƒæ˜¯ä¸€ç§å°† <code>è™šæ‹Ÿå†…å­˜åœ°å€</code> å’Œ <code>æ•°æ®å…ƒç´ </code> æ˜ å°„èµ·æ¥çš„å†…ç½®è¯­æ³•ç»“æ„ï¼Œæ•°æ®å’Œæ•°æ®ä¹‹é—´æ˜¯æŒ¨ç€ï¼Œå­˜æ”¾åœ¨ä¸€ä¸ªè¿ç»­çš„å†…å­˜åŒºåŸŸï¼Œæ¯ä¸€ä¸ªå›ºå®šå¤§å°ï¼ˆ8å­—èŠ‚ï¼‰çš„å†…å­˜ç‰‡æ®µéƒ½æœ‰ä¸€ä¸ªè™šæ‹Ÿçš„åœ°å€ç¼–å·ã€‚å½“ç„¶è¿™ä¸ªè™šæ‹Ÿå†…å­˜ä¸æ˜¯çœŸæ­£çš„å†…å­˜ï¼Œæ¯ä¸ªç¨‹åºå¯åŠ¨éƒ½ä¼šæœ‰ä¸€ä¸ªè™šæ‹Ÿå†…å­˜ç©ºé—´æ¥æ˜ å°„çœŸæ­£çš„å†…å­˜</p><p>æ•°ç»„å’Œé“¾è¡¨æ˜¯ä¸¤ä¸ªä¸åŒçš„æ¦‚å¿µã€‚ä¸€ä¸ªæ˜¯ç¼–ç¨‹è¯­è¨€æä¾›çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œè¡¨ç¤ºä¸€ä¸ªè¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œå¯é€šè¿‡ä¸€ä¸ªç´¢å¼•è®¿é—®æ•°æ®ã€‚å¦ä¸€ä¸ªæ˜¯æˆ‘ä»¬å®šä¹‰çš„æ•°æ®ç»“æ„ï¼Œé€šè¿‡ä¸€ä¸ªæ•°æ®èŠ‚ç‚¹ï¼Œå¯ä»¥å®šä½åˆ°å¦ä¸€ä¸ªæ•°æ®èŠ‚ç‚¹ï¼Œä¸è¦æ±‚è¿ç»­çš„å†…å­˜ç©ºé—´ã€‚</p><p>æ•°ç»„çš„ä¼˜ç‚¹æ˜¯å ç”¨ç©ºé—´å°ï¼ŒæŸ¥è¯¢å¿«ï¼Œç›´æ¥ä½¿ç”¨ç´¢å¼•å°±å¯ä»¥è·å–æ•°æ®å…ƒç´ ï¼Œç¼ºç‚¹æ˜¯ç§»åŠ¨å’Œåˆ é™¤æ•°æ®å…ƒç´ è¦å¤§é‡ç§»åŠ¨ç©ºé—´ã€‚</p><p>é“¾è¡¨çš„ä¼˜ç‚¹æ˜¯ç§»åŠ¨å’Œåˆ é™¤æ•°æ®å…ƒç´ é€Ÿåº¦å¿«ï¼Œåªè¦æŠŠç›¸å…³çš„æ•°æ®å…ƒç´ é‡æ–°é“¾æ¥èµ·æ¥ï¼Œä½†ç¼ºç‚¹æ˜¯å ç”¨ç©ºé—´å¤§ï¼ŒæŸ¥æ‰¾éœ€è¦éå†ã€‚</p><p>å¾ˆå¤šå…¶ä»–çš„æ•°æ®ç»“æ„éƒ½ç”±æ•°ç»„å’Œé“¾è¡¨é…åˆå®ç°çš„ã€‚</p><p>å…·ä½“å¯åœ¨<a href="https://hypo.ltd/2021/11/24/go-yu-yan-ji-chu-shu-zu-yu-qie-pian/">Goè¯­è¨€åŸºç¡€â€”â€”æ•°ç»„ä¸åˆ‡ç‰‡</a>äº†è§£è¯¦æƒ…</p><p>æ–‡ç« å‚è€ƒï¼š<br><a href="https://goa.lenggirl.com/#/algorithm/link?id=_11%e5%88%9d%e5%a7%8b%e5%8c%96%e5%be%aa%e7%8e%af%e9%93%be%e8%a1%a8">æ•°æ®ç»“æ„å’Œç®—æ³•</a><br><a href="https://www.runoob.com/go/go-arrays.html">èœé¸Ÿæ•™ç¨‹</a></p>]]></content>
      
      
      <categories>
          
          <category> Golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Golang </tag>
            
            <tag> è¿›é˜¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockeræ—¶åŒºè°ƒæ•´æ–¹æ¡ˆ</title>
      <link href="/hypo-Z.github.io/2022/02/23/docker-shi-qu-diao-zheng-fang-an/"/>
      <url>/hypo-Z.github.io/2022/02/23/docker-shi-qu-diao-zheng-fang-an/</url>
      
        <content type="html"><![CDATA[<h1 id="Docker-æ—¶åŒºè°ƒæ•´æ–¹æ¡ˆ"><a href="#Docker-æ—¶åŒºè°ƒæ•´æ–¹æ¡ˆ" class="headerlink" title="Docker æ—¶åŒºè°ƒæ•´æ–¹æ¡ˆ"></a>Docker æ—¶åŒºè°ƒæ•´æ–¹æ¡ˆ</h1><p>å¯¹äºç»å¸¸ä½¿ç”¨ Docker çš„äººæ¥è¯´ï¼Œå¯èƒ½ä¼šç¢°åˆ°ä¸€ä¸ªé—®é¢˜ï¼šæ—¶åŒºé—®é¢˜ã€‚</p><p>å¤§éƒ¨åˆ† Docker é•œåƒéƒ½æ˜¯åŸºäº Alpineï¼ŒUbuntuï¼ŒDebianï¼ŒCentOS ç­‰åŸºç¡€é•œåƒåˆ¶ä½œè€Œæˆã€‚</p><p>åŸºæœ¬ä¸Šéƒ½é‡‡ç”¨ UTC æ—¶é—´ï¼Œé»˜è®¤æ—¶åŒºä¸ºé›¶æ—¶åŒºã€‚</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">docker run <span class="token operator">--</span>name test <span class="token operator">--</span>rm <span class="token operator">-</span>ti alpine <span class="token operator">/</span>bin<span class="token operator">/</span>sh<span class="token operator">/</span> # dateFri Nov <span class="token number">29</span> <span class="token number">08</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">49</span> <span class="token constant">UTC</span> <span class="token number">2019</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è€Œæˆ‘ä»¬ä¸»è¦ç”¨çš„æ˜¯ CST æ—¶é—´ï¼ŒåŒ—äº¬æ—¶é—´ï¼Œä½äºä¸œå…«åŒºã€‚æ—¶åŒºä»£å·ï¼š Asia/Shanghai</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">docker run <span class="token operator">--</span>name test <span class="token operator">--</span>rm <span class="token operator">-</span>ti <span class="token operator">-</span>v <span class="token operator">/</span>etc<span class="token operator">/</span>timezone<span class="token operator">:</span><span class="token operator">/</span>etc<span class="token operator">/</span>timezone<span class="token operator">:</span>ro <span class="token operator">-</span>v <span class="token operator">/</span>etc<span class="token operator">/</span>localtime<span class="token operator">:</span><span class="token operator">/</span>etc<span class="token operator">/</span>localtime<span class="token operator">:</span>ro alpine <span class="token operator">/</span>bin<span class="token operator">/</span>sh<span class="token operator">/</span> # dateFri Nov <span class="token number">29</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">13</span><span class="token operator">:</span><span class="token number">55</span> <span class="token constant">CST</span> <span class="token number">201</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å¯¹æ¯”ä¸€ä¸‹ï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œæ—¶é—´ä¸Šç›¸å·® 8 å°æ—¶ã€‚</p><p>ç»è¿‡ä¸€ç³»åˆ—æ¢ç´¢å®è·µï¼Œæˆ‘ä»¬æ€»ç»“äº†ä¸€äº› Docker æ—¶åŒºè°ƒæ•´æ–¹æ¡ˆã€‚</p><h2 id="ä¸€ã€è¿è¡Œ-Docker-å®¹å™¨æ—¶è°ƒæ•´æ—¶åŒº"><a href="#ä¸€ã€è¿è¡Œ-Docker-å®¹å™¨æ—¶è°ƒæ•´æ—¶åŒº" class="headerlink" title="ä¸€ã€è¿è¡Œ Docker å®¹å™¨æ—¶è°ƒæ•´æ—¶åŒº"></a>ä¸€ã€è¿è¡Œ Docker å®¹å™¨æ—¶è°ƒæ•´æ—¶åŒº</h2><p>åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œæ§åˆ¶æ—¶åŒºå’Œæ—¶é—´çš„ä¸»è¦æ˜¯ä¸¤ä¸ªåœ°æ–¹ï¼š</p><ul><li><code>/etc/timezone</code> ä¸»è¦ä»£è¡¨å½“å‰æ—¶åŒºè®¾ç½®ï¼Œä¸€èˆ¬é“¾æ¥æŒ‡å‘<code>/usr/share/zoneinfo</code>ç›®å½•ä¸‹çš„å…·ä½“æ—¶åŒºã€‚</li><li><code>/etc/localtime</code> ä¸»è¦ä»£è¡¨å½“å‰æ—¶åŒºè®¾ç½®ä¸‹çš„æœ¬åœ°æ—¶é—´ã€‚</li></ul><h3 id="1-é€šç”¨-docker-æ—¶åŒºä¿®æ”¹æ–¹æ¡ˆ"><a href="#1-é€šç”¨-docker-æ—¶åŒºä¿®æ”¹æ–¹æ¡ˆ" class="headerlink" title="1. é€šç”¨ docker æ—¶åŒºä¿®æ”¹æ–¹æ¡ˆ"></a>1. é€šç”¨ docker æ—¶åŒºä¿®æ”¹æ–¹æ¡ˆ</h3><h4 id="å®¿ä¸»æœºä¸º-Linux-ç³»ç»Ÿ"><a href="#å®¿ä¸»æœºä¸º-Linux-ç³»ç»Ÿ" class="headerlink" title="å®¿ä¸»æœºä¸º Linux ç³»ç»Ÿ"></a><a href="https://cloud.tencent.com/product/cdh?from=10680">å®¿ä¸»æœº</a>ä¸º Linux ç³»ç»Ÿ</h4><p>å½“å®¿ä¸»æœºä¸º Linux ç³»ç»Ÿæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†å®¿ä¸»æœºä¸Šçš„<code>/etc/timezone</code>å’Œ<code>/etc/localtime</code>æŒ‚è½½åˆ°å®¹å™¨ä¸­ï¼Œè¿™æ ·å¯ä»¥ä¿æŒå®¹å™¨å’Œå®¿ä¸»æœºæ—¶åŒºå’Œæ—¶é—´ä¸€è‡´ã€‚</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">-</span>v <span class="token operator">/</span>etc<span class="token operator">/</span>timezone<span class="token operator">:</span><span class="token operator">/</span>etc<span class="token operator">/</span>timezone<span class="token operator">:</span>ro <span class="token operator">-</span>v <span class="token operator">/</span>etc<span class="token operator">/</span>localtime<span class="token operator">:</span><span class="token operator">/</span>etc<span class="token operator">/</span>localtime<span class="token operator">:</span>ro<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">docker run <span class="token operator">--</span>name test <span class="token operator">--</span>rm <span class="token operator">-</span>ti <span class="token operator">-</span>v <span class="token operator">/</span>etc<span class="token operator">/</span>timezone<span class="token operator">:</span><span class="token operator">/</span>etc<span class="token operator">/</span>timezone<span class="token operator">:</span>ro <span class="token operator">-</span>v <span class="token operator">/</span>etc<span class="token operator">/</span>localtime<span class="token operator">:</span><span class="token operator">/</span>etc<span class="token operator">/</span>localtime<span class="token operator">:</span>ro alpine <span class="token operator">/</span>bin<span class="token operator">/</span>sh<span class="token operator">/</span> # dateFri Nov <span class="token number">29</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">13</span><span class="token operator">:</span><span class="token number">55</span> <span class="token constant">CST</span> <span class="token number">2019</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="2-é€šè¿‡ä¼ é€’ç¯å¢ƒå˜é‡æ”¹å˜å®¹å™¨æ—¶åŒº"><a href="#2-é€šè¿‡ä¼ é€’ç¯å¢ƒå˜é‡æ”¹å˜å®¹å™¨æ—¶åŒº" class="headerlink" title="2. é€šè¿‡ä¼ é€’ç¯å¢ƒå˜é‡æ”¹å˜å®¹å™¨æ—¶åŒº"></a>2. é€šè¿‡ä¼ é€’ç¯å¢ƒå˜é‡æ”¹å˜å®¹å™¨æ—¶åŒº</h3><ul><li>é€‚ç”¨äºåŸºäº Debian åŸºç¡€é•œåƒ, CentOS åŸºç¡€é•œåƒ åˆ¶ä½œçš„ Docker é•œåƒ</li><li>ä¸é€‚ç”¨äºåŸºäº Alpine åŸºç¡€é•œåƒ, Ubuntu åŸºç¡€é•œåƒ åˆ¶ä½œçš„ Docker é•œåƒ</li></ul><p>å¯¹äºåŸºäº Debian åŸºç¡€é•œåƒï¼ŒCentOS åŸºç¡€é•œåƒåˆ¶ä½œçš„ Docker é•œåƒï¼Œåœ¨è¿è¡Œ Docker å®¹å™¨æ—¶ï¼Œä¼ é€’ç¯å¢ƒå˜é‡<code>-e TZ=Asia/Shanghai</code>è¿›å»ï¼Œèƒ½ä¿®æ”¹ docker å®¹å™¨æ—¶åŒºã€‚</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">-</span>e <span class="token constant">TZ</span><span class="token operator">=</span>Asia<span class="token operator">/</span>Shanghai<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">docker run <span class="token operator">--</span>name test <span class="token operator">-</span>e <span class="token constant">TZ</span><span class="token operator">=</span>Asia<span class="token operator">/</span>Shanghai <span class="token operator">--</span>rm <span class="token operator">-</span>ti debian <span class="token operator">/</span>bin<span class="token operator">/</span>bash<span class="token operator">/</span># dateFri Nov <span class="token number">29</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">46</span><span class="token operator">:</span><span class="token number">18</span> <span class="token constant">CST</span> <span class="token number">2019</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="äºŒã€åˆ¶ä½œ-Docker-é•œåƒæ—¶è°ƒæ•´æ—¶åŒº"><a href="#äºŒã€åˆ¶ä½œ-Docker-é•œåƒæ—¶è°ƒæ•´æ—¶åŒº" class="headerlink" title="äºŒã€åˆ¶ä½œ Docker é•œåƒæ—¶è°ƒæ•´æ—¶åŒº"></a>äºŒã€åˆ¶ä½œ Docker é•œåƒæ—¶è°ƒæ•´æ—¶åŒº</h2><p>é€šè¿‡ç¼–å†™ Dockerfile,æ„å»ºè‡ªå·±çš„ Docker é•œåƒï¼Œå¯ä»¥æ°¸ä¹…è§£å†³æ—¶åŒºé—®é¢˜ã€‚</p><h3 id="1-Alpine"><a href="#1-Alpine" class="headerlink" title="1. Alpine"></a>1. Alpine</h3><p>æ ¹æ®<a href="https://wiki.alpinelinux.org/wiki/Setting_the_timezone">ã€ŠSetting the timezoneã€‹</a>æç¤ºï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ° Dockerfile ä¸­ï¼š</p><pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">ENV TZ Asia/ShanghaiRUN apk add tzdata &amp;&amp; cp /usr/share/zoneinfo/${TZ} /etc/localtime \    &amp;&amp; echo ${TZ} &gt; /etc/timezone \    &amp;&amp; apk del tzdata<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-Debian"><a href="#2-Debian" class="headerlink" title="2. Debian"></a>2. Debian</h3><p>Debian åŸºç¡€é•œåƒ ä¸­å·²ç»å®‰è£…äº† tzdata åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ° Dockerfile ä¸­ï¼š</p><pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">ENV TZ=Asia/Shanghai \    DEBIAN_FRONTEND=noninteractiveRUN ln -fs /usr/share/zoneinfo/${TZ} /etc/localtime \    &amp;&amp; echo ${TZ} &gt; /etc/timezone \    &amp;&amp; dpkg-reconfigure --frontend noninteractive tzdata \    &amp;&amp; rm -rf /var/lib/apt/lists/*<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-Ubuntu"><a href="#3-Ubuntu" class="headerlink" title="3. Ubuntu"></a>3. Ubuntu</h3><p>Ubuntu åŸºç¡€é•œåƒä¸­æ²¡æœ‰å®‰è£…äº† tzdata åŒ…ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å…ˆå®‰è£… tzdata åŒ…ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ° Dockerfile ä¸­ã€‚</p><pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">ENV TZ=Asia/Shanghai \    DEBIAN_FRONTEND=noninteractiveRUN apt update \    &amp;&amp; apt install -y tzdata \    &amp;&amp; ln -fs /usr/share/zoneinfo/${TZ} /etc/localtime \    &amp;&amp; echo ${TZ} &gt; /etc/timezone \    &amp;&amp; dpkg-reconfigure --frontend noninteractive tzdata \    &amp;&amp; rm -rf /var/lib/apt/lists/*<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4-CentOS"><a href="#4-CentOS" class="headerlink" title="4. CentOS"></a>4. CentOS</h3><p>CentOS åŸºç¡€é•œåƒ ä¸­å·²ç»å®‰è£…äº† tzdata åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»¥ä¸‹ä»£ç æ·»åŠ åˆ° Dockerfile ä¸­ã€‚</p><pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">ENV TZ Asia/ShanghaiRUN ln -fs /usr/share/zoneinfo/${TZ} /etc/localtime \    &amp;&amp; echo ${TZ} &gt; /etc/timezone<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ—¶åŒºé—®é¢˜æ˜¯å¤§é—®é¢˜ã€‚</p><p>æ—¶é—´æ²¡ç»Ÿä¸€å¥½ï¼Œä¸šåŠ¡ä¼šä¹±å¥—ã€‚</p><p>å¸Œæœ›é€šè¿‡ä¸Šé¢çš„å†…å®¹ï¼Œèƒ½å¤Ÿå¸®åŠ©å¤§å®¶è§£å†³å¥½ Docker æ–¹é¢çš„æ—¶åŒºé—®é¢˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goè¯­è¨€è¿›é˜¶â€”â€”é€ƒé€¸åˆ†æ</title>
      <link href="/hypo-Z.github.io/2022/02/21/go-yu-yan-jin-jie-tao-yi-fen-xi/"/>
      <url>/hypo-Z.github.io/2022/02/21/go-yu-yan-jin-jie-tao-yi-fen-xi/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯é€ƒé€¸åˆ†æ"><a href="#ä»€ä¹ˆæ˜¯é€ƒé€¸åˆ†æ" class="headerlink" title="ä»€ä¹ˆæ˜¯é€ƒé€¸åˆ†æ"></a>ä»€ä¹ˆæ˜¯é€ƒé€¸åˆ†æ</h2><h3 id="å †å’Œæ ˆ"><a href="#å †å’Œæ ˆ" class="headerlink" title="å †å’Œæ ˆ"></a>å †å’Œæ ˆ</h3><p>è¦ç†è§£ä»€ä¹ˆæ˜¯é€ƒé€¸åˆ†æä¼šæ¶‰åŠå †å’Œæ ˆçš„ä¸€äº›åŸºæœ¬çŸ¥è¯†,å¦‚æœå¿˜è®°çš„åŒå­¦æˆ‘ä»¬å¯ä»¥ç®€å•çš„å›é¡¾ä¸€ä¸‹ï¼š</p><ul><li>å †ï¼ˆHeapï¼‰ï¼šä¸€èˆ¬æ¥è®²æ˜¯äººä¸ºæ‰‹åŠ¨è¿›è¡Œç®¡ç†,æ‰‹åŠ¨ç”³è¯·,åˆ†é…,é‡Šæ”¾.å †é€‚åˆä¸å¯é¢„çŸ¥å¤§å°çš„å†…å­˜åˆ†é…,è¿™ä¹Ÿæ„å‘³ç€ä¸ºæ­¤ä»˜å‡ºçš„ä»£ä»·æ˜¯åˆ†é…é€Ÿåº¦è¾ƒæ…¢,è€Œä¸”ä¼šå½¢æˆå†…å­˜ç¢ç‰‡.</li><li>æ ˆï¼ˆStackï¼‰ï¼šç”±ç¼–è¯‘å™¨è¿›è¡Œç®¡ç†,è‡ªåŠ¨ç”³è¯·,åˆ†é…,é‡Šæ”¾.ä¸€èˆ¬ä¸ä¼šå¤ªå¤§,å› æ­¤æ ˆçš„åˆ†é…å’Œå›æ”¶é€Ÿåº¦éå¸¸å¿«;æˆ‘ä»¬å¸¸è§çš„å‡½æ•°å‚æ•°ï¼ˆä¸åŒå¹³å°å…è®¸å­˜æ”¾çš„æ•°é‡ä¸åŒï¼‰,å±€éƒ¨å˜é‡ç­‰éƒ½ä¼šå­˜æ”¾åœ¨æ ˆä¸Š. æ ˆåˆ†é…å†…å­˜åªéœ€è¦ä¸¤ä¸ªCPUæŒ‡ä»¤ï¼šâ€œPUSHâ€å’Œâ€œRELEASEâ€,åˆ†é…å’Œé‡Šæ”¾;è€Œå †åˆ†é…å†…å­˜é¦–å…ˆéœ€è¦å»æ‰¾åˆ°ä¸€å—å¤§å°åˆé€‚çš„å†…å­˜å—,ä¹‹åè¦é€šè¿‡åƒåœ¾å›æ”¶æ‰èƒ½é‡Šæ”¾.</li></ul><p>é€šä¿—æ¯”å–»çš„è¯´,<code>æ ˆ</code>å°±å¦‚æˆ‘ä»¬å»é¥­é¦†åƒé¥­,åªéœ€è¦ç‚¹èœï¼ˆå‘å‡ºç”³è¯·ï¼‰â€“ã€‹åƒåƒåƒï¼ˆä½¿ç”¨å†…å­˜ï¼‰â€“ã€‹åƒé¥±å°±è·‘å‰©ä¸‹çš„äº¤ç»™é¥­é¦†ï¼ˆæ“ä½œç³»ç»Ÿè‡ªåŠ¨å›æ”¶ï¼‰,è€Œ<code>å †</code>å°±å¦‚åœ¨å®¶é‡Œåšé¥­,å¤§åˆ°å®¶,å°åˆ°ä¹°ä»€ä¹ˆèœ,æ¯ä¸€ä¸ªç¯èŠ‚éƒ½éœ€è¦è‡ªå·±æ¥å®ç°,ä½†æ˜¯è‡ªç”±åº¦ä¼šå¤§å¾ˆå¤š.</p><p>åœ¨ç¼–è¯‘ç¨‹åºä¼˜åŒ–ç†è®ºä¸­,é€ƒé€¸åˆ†ææ˜¯ä¸€ç§ç¡®å®šæŒ‡é’ˆåŠ¨æ€èŒƒå›´çš„æ–¹æ³•,ç®€å•æ¥è¯´å°±æ˜¯åˆ†æåœ¨ç¨‹åºçš„å“ªäº›åœ°æ–¹å¯ä»¥è®¿é—®åˆ°è¯¥æŒ‡é’ˆ.</p><h3 id="é€ƒé€¸åˆ†æ"><a href="#é€ƒé€¸åˆ†æ" class="headerlink" title="é€ƒé€¸åˆ†æ"></a>é€ƒé€¸åˆ†æ</h3><p>å†å¾€ç®€å•çš„è¯´,Goæ˜¯é€šè¿‡åœ¨ç¼–è¯‘å™¨é‡Œåšé€ƒé€¸åˆ†æï¼ˆescape analysisï¼‰æ¥å†³å®šä¸€ä¸ªå¯¹è±¡æ”¾æ ˆä¸Šè¿˜æ˜¯æ”¾å †ä¸Š,ä¸é€ƒé€¸çš„å¯¹è±¡æ”¾æ ˆä¸Š,å¯èƒ½é€ƒé€¸çš„æ”¾å †ä¸Š;å³æˆ‘å‘ç°<code>å˜é‡</code>åœ¨é€€å‡ºå‡½æ•°åæ²¡æœ‰ç”¨äº†,é‚£ä¹ˆå°±æŠŠä¸¢åˆ°æ ˆä¸Š,æ¯•ç«Ÿæ ˆä¸Šçš„å†…å­˜åˆ†é…å’Œå›æ”¶æ¯”å †ä¸Šå¿«å¾ˆå¤š;åä¹‹,å‡½æ•°å†…çš„æ™®é€šå˜é‡ç»è¿‡<code>é€ƒé€¸åˆ†æ</code>å,å‘ç°åœ¨å‡½æ•°é€€å‡ºå<code>å˜é‡</code>è¿˜æœ‰åœ¨å…¶ä»–åœ°æ–¹ä¸Šå¼•ç”¨,é‚£å°±å°†<code>å˜é‡</code>åˆ†é…åœ¨å †ä¸Š.åšåˆ°æŒ‰éœ€åˆ†é…ï¼ˆå“ªé‡Œçš„äººæ°‘éœ€è¦æˆ‘,æˆ‘å°±å¾€å“ªå»~~,ä¸€ä¸ªå…šå‘˜çš„å‘å–Šï¼‰.</p><h2 id="ä¸ºä½•éœ€è¦é€ƒé€¸åˆ†æ"><a href="#ä¸ºä½•éœ€è¦é€ƒé€¸åˆ†æ" class="headerlink" title="ä¸ºä½•éœ€è¦é€ƒé€¸åˆ†æ"></a>ä¸ºä½•éœ€è¦é€ƒé€¸åˆ†æ</h2><p>ok,äº†è§£å®Œ<code>å †</code>å’Œ<code>æ ˆ</code>å„è‡ªçš„ä¼˜ç¼ºç‚¹å,æˆ‘ä»¬å°±å¯ä»¥æ›´å¥½çš„çŸ¥é“<code>é€ƒé€¸åˆ†æ</code>å­˜åœ¨çš„ç›®çš„äº†ï¼š</p><ol><li>å‡å°‘<code>gc</code>å‹åŠ›,æ ˆä¸Šçš„å˜é‡,éšç€å‡½æ•°é€€å‡ºåç³»ç»Ÿç›´æ¥å›æ”¶,ä¸éœ€è¦<code>gc</code>æ ‡è®°åå†æ¸…é™¤.</li><li>å‡å°‘å†…å­˜ç¢ç‰‡çš„äº§ç”Ÿ.</li><li>å‡è½»åˆ†é…å †å†…å­˜çš„å¼€é”€,æé«˜ç¨‹åºçš„è¿è¡Œé€Ÿåº¦.</li></ol><h2 id="å¦‚ä½•ç¡®å®šæ˜¯å¦é€ƒé€¸"><a href="#å¦‚ä½•ç¡®å®šæ˜¯å¦é€ƒé€¸" class="headerlink" title="å¦‚ä½•ç¡®å®šæ˜¯å¦é€ƒé€¸"></a>å¦‚ä½•ç¡®å®šæ˜¯å¦é€ƒé€¸</h2><p>åœ¨<code>Go</code>ä¸­é€šè¿‡é€ƒé€¸åˆ†ææ—¥å¿—æ¥ç¡®å®šå˜é‡æ˜¯å¦é€ƒé€¸,å¼€å¯é€ƒé€¸åˆ†ææ—¥å¿—ï¼š</p><pre class="line-numbers language-none"><code class="language-none">go run -gcflags '-m -l' main.go<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><code>-m</code> ä¼šæ‰“å°å‡ºé€ƒé€¸åˆ†æçš„ä¼˜åŒ–ç­–ç•¥,å®é™…ä¸Šæœ€å¤šæ€»å…±å¯ä»¥ç”¨ 4 ä¸ª <code>-m</code>,ä½†æ˜¯ä¿¡æ¯é‡è¾ƒå¤§,ä¸€èˆ¬ç”¨ 1 ä¸ªå°±å¯ä»¥äº†.</li><li><code>-l</code> ä¼šç¦ç”¨å‡½æ•°å†…è”,åœ¨è¿™é‡Œç¦ç”¨æ‰<code>å†…è”</code>èƒ½æ›´å¥½çš„è§‚å¯Ÿé€ƒé€¸æƒ…å†µ,å‡å°‘å¹²æ‰°.</li></ul><h2 id="é€ƒé€¸æ¡ˆä¾‹"><a href="#é€ƒé€¸æ¡ˆä¾‹" class="headerlink" title="é€ƒé€¸æ¡ˆä¾‹"></a>é€ƒé€¸æ¡ˆä¾‹</h2><h3 id="æ¡ˆä¾‹ä¸€ï¼šå–åœ°å€å‘ç”Ÿé€ƒé€¸"><a href="#æ¡ˆä¾‹ä¸€ï¼šå–åœ°å€å‘ç”Ÿé€ƒé€¸" class="headerlink" title="æ¡ˆä¾‹ä¸€ï¼šå–åœ°å€å‘ç”Ÿé€ƒé€¸"></a>æ¡ˆä¾‹ä¸€ï¼šå–åœ°å€å‘ç”Ÿé€ƒé€¸</h3><pre class="line-numbers language-none"><code class="language-none">package maintype UserData struct {    Name  string}func main() {    var info UserData    info.Name = "WilburXu"    _ = GetUserInfo(info)}func GetUserInfo(userInfo UserData) *UserData {    return &amp;userInfo}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰§è¡Œ <code>go run -gcflags '-m -l' main.go</code> åè¿”å›ä»¥ä¸‹ç»“æœï¼š</p><pre class="line-numbers language-none"><code class="language-none"># command-line-arguments.\main.go:14:9: &amp;userInfo escapes to heap.\main.go:13:18: moved to heap: userInfo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>GetUserInfoå‡½æ•°é‡Œé¢çš„å˜é‡ <code>userInfo</code> é€ƒåˆ°å †ä¸Šäº†ï¼ˆåˆ†é…åˆ°å †å†…å­˜ç©ºé—´ä¸Šäº†ï¼‰. GetUserInfo å‡½æ•°çš„è¿”å›å€¼ä¸º *UserData æŒ‡é’ˆç±»å‹,ç„¶å å°†å€¼å˜é‡<code>userInfo</code> çš„åœ°å€è¿”å›,æ­¤æ—¶ç¼–è¯‘å™¨ä¼šåˆ¤æ–­è¯¥å€¼å¯èƒ½ä¼šåœ¨å‡½æ•°å¤–ä½¿ç”¨,å°±å°†å…¶åˆ†é…åˆ°äº†å †ä¸Š,æ‰€ä»¥å˜é‡<code>userInfo</code>å°±é€ƒé€¸äº†.</p></blockquote><h4 id="ä¼˜åŒ–æ–¹æ¡ˆ"><a href="#ä¼˜åŒ–æ–¹æ¡ˆ" class="headerlink" title="ä¼˜åŒ–æ–¹æ¡ˆ"></a>ä¼˜åŒ–æ–¹æ¡ˆ</h4><pre class="line-numbers language-none"><code class="language-none">func main() {    var info UserData    info.Name = "WilburXu"    _ = GetUserInfo(&amp;info)}func GetUserInfo(userInfo *UserData) *UserData {    return userInfo}# command-line-arguments.\main.go:13:18: leaking param: userInfo to result ~r1 level=0.\main.go:10:18: main &amp;info does not escape<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯¹ä¸€ä¸ªå˜é‡å–åœ°å€,å¯èƒ½ä¼šè¢«åˆ†é…åˆ°å †ä¸Š.ä½†æ˜¯ç¼–è¯‘å™¨è¿›è¡Œé€ƒé€¸åˆ†æå,å¦‚æœå‘ç°åˆ°åœ¨å‡½æ•°è¿”å›å,æ­¤å˜é‡ä¸ä¼šè¢«å¼•ç”¨,é‚£ä¹ˆè¿˜æ˜¯ä¼šè¢«åˆ†é…åˆ°æ ˆä¸Š.å¥—ä¸ªå–å€ç¬¦,å°±æƒ³éª—è¡¥åŠ©ï¼Ÿ</p><p>ç¼–è¯‘å™¨å‚²å¨‡çš„è¯´ï¼šToo young,Too Coolâ€¦ï¼</p><h3 id="æ¡ˆä¾‹äºŒ-ï¼šæœªç¡®å®šç±»å‹"><a href="#æ¡ˆä¾‹äºŒ-ï¼šæœªç¡®å®šç±»å‹" class="headerlink" title="æ¡ˆä¾‹äºŒ ï¼šæœªç¡®å®šç±»å‹"></a>æ¡ˆä¾‹äºŒ ï¼šæœªç¡®å®šç±»å‹</h3><pre class="line-numbers language-none"><code class="language-none">package maintype User struct {    name interface{}}func main() {    name := "WilburXu"    MyPrintln(name)}func MyPrintln(one interface{}) (n int, err error) {    var userInfo = new(User)    userInfo.name = one // æ³›å‹èµ‹å€¼ é€ƒé€¸å’¯    return}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰§è¡Œ <code>go run -gcflags '-m -l' main.go</code> åè¿”å›ä»¥ä¸‹ç»“æœï¼š</p><pre class="line-numbers language-none"><code class="language-none"># command-line-arguments./main.go:12:16: leaking param: one./main.go:13:20: MyPrintln new(User) does not escape./main.go:9:11: name escapes to heap<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œå¯èƒ½æœ‰åŒå­¦ä¼šå¥½å¥‡,<code>MyPrintln</code>å‡½æ•°å†…å¹¶æ²¡æœ‰è¢«å¼•ç”¨çš„ä¾¿åˆ©,ä¸ºä»€ä¹ˆå˜äº†<code>name</code>ä¼šè¢«åˆ†é…åˆ°äº†<code>å †</code>ä¸Šå‘¢ï¼Ÿ</p><p>ä¸Šä¸€ä¸ªæ¡ˆä¾‹æˆ‘ä»¬çŸ¥é“äº†,æ™®é€šçš„æ‰‹æ³•æƒ³å»â€éª—å–è¡¥åŠ©â€,èªæ˜çµåˆ©çš„ç¼–è¯‘å™¨æ˜¯ä¸ä¼šâ€œä¸Šå½“å—éª—çš„å™¢â€;ä½†æ˜¯å¯¹äº<code>interface</code>ç±»å‹,å¾ˆé—æ†¾,ç¼–è¯‘å™¨åœ¨ç¼–è¯‘çš„æ—¶å€™å¾ˆéš¾çŸ¥é“åœ¨å‡½æ•°çš„è°ƒç”¨æˆ–è€…ç»“æ„ä½“çš„èµ‹å€¼è¿‡ç¨‹ä¼šæ˜¯æ€ä¹ˆç±»å‹,å› æ­¤åªèƒ½åˆ†é…åˆ°<code>å †</code>ä¸Š.</p><h4 id="ä¼˜åŒ–æ–¹æ¡ˆ-1"><a href="#ä¼˜åŒ–æ–¹æ¡ˆ-1" class="headerlink" title="ä¼˜åŒ–æ–¹æ¡ˆ"></a>ä¼˜åŒ–æ–¹æ¡ˆ</h4><p>å°†ç»“æ„ä½“<code>User</code>çš„æˆå‘˜<code>name</code>çš„ç±»å‹,å‡½æ•°<code>MyPringLn</code>å‚æ•°<code>one</code>çš„ç±»å‹æ”¹ä¸º <code>string</code>,å°†å¾—å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none"># command-line-arguments./main.go:12:16: leaking param: one./main.go:13:20: MyPrintln new(User) does not escape<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="æ‹“å±•åˆ†æ"><a href="#æ‹“å±•åˆ†æ" class="headerlink" title="æ‹“å±•åˆ†æ"></a>æ‹“å±•åˆ†æ</h3><p>å¯¹äºæ¡ˆä¾‹äºŒçš„åˆ†æ,æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡åç¼–è¯‘å‘½ä»¤<code>go tool compile -S main.go</code>æŸ¥çœ‹,ä¼šå‘ç°å¦‚æœä¸º<code>interface</code>ç±»å‹,mainä¸»å‡½æ•°åœ¨ç¼–è¯‘åä¼š<code>é¢å¤–</code>å¤šå‡ºä»¥ä¸‹æŒ‡ä»¤ï¼š</p><pre class="line-numbers language-none"><code class="language-none"># main.go:9 -&gt; MyPrintln(name)    0x001d 00029 (main.go:9)    PCDATA    $2, $1    0x001d 00029 (main.go:9)    PCDATA    $0, $1    0x001d 00029 (main.go:9)    LEAQ    go.string."WilburXu"(SB), AX    0x0024 00036 (main.go:9)    PCDATA    $2, $0    0x0024 00036 (main.go:9)    MOVQ    AX, ""..autotmp_5+32(SP)    0x0029 00041 (main.go:9)    MOVQ    $8, ""..autotmp_5+40(SP)    0x0032 00050 (main.go:9)    PCDATA    $2, $1    0x0032 00050 (main.go:9)    LEAQ    type.string(SB), AX    0x0039 00057 (main.go:9)    PCDATA    $2, $0    0x0039 00057 (main.go:9)    MOVQ    AX, (SP)    0x003d 00061 (main.go:9)    PCDATA    $2, $1    0x003d 00061 (main.go:9)    LEAQ    ""..autotmp_5+32(SP), AX    0x0042 00066 (main.go:9)    PCDATA    $2, $0    0x0042 00066 (main.go:9)    MOVQ    AX, 8(SP)    0x0047 00071 (main.go:9)    CALL    runtime.convT2Estring(SB)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯¹äº<code>Goæ±‡ç¼–è¯­æ³•</code>ä¸ç†Ÿæ‚‰çš„å¯ä»¥å‚è€ƒ <a href="https://studygolang.com/articles/2917">Golangæ±‡ç¼–å¿«é€ŸæŒ‡å—</a></p><h3 id="æ¡ˆä¾‹ä¸‰ï¼šé—´æ¥èµ‹å€¼ï¼ˆAssignment-to-indirection-escapesï¼‰"><a href="#æ¡ˆä¾‹ä¸‰ï¼šé—´æ¥èµ‹å€¼ï¼ˆAssignment-to-indirection-escapesï¼‰" class="headerlink" title="æ¡ˆä¾‹ä¸‰ï¼šé—´æ¥èµ‹å€¼ï¼ˆAssignment to indirection escapesï¼‰"></a>æ¡ˆä¾‹ä¸‰ï¼šé—´æ¥èµ‹å€¼ï¼ˆAssignment to indirection escapesï¼‰</h3><p>å¯¹æŸä¸ªå¼•ç”¨ç±»å¯¹è±¡ä¸­çš„å¼•ç”¨ç±»æˆå‘˜è¿›è¡Œèµ‹å€¼.Go è¯­è¨€ä¸­çš„å¼•ç”¨ç±»æ•°æ®ç±»å‹æœ‰ <code>func</code>, <code>interface</code>, <code>slice</code>, <code>map</code>, <code>chan</code>, <code>*Type(æŒ‡é’ˆ)</code>.</p><pre class="line-numbers language-none"><code class="language-none">package maintype User struct {    name interface{}    age *int}func main() {    var (        userOne User        userTwo = new(User)    )    userOne.name = "WilburXuOne"    // ä¸é€ƒé€¸    userTwo.name = "WilburXuTwo"    // é€ƒé€¸    userOne.age = new(int)    // ä¸é€ƒé€¸    userTwo.age = new(int)    // é€ƒé€¸}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰§è¡Œ <code>go run -gcflags '-m -l' main.go</code> åè¿”å›ä»¥ä¸‹ç»“æœï¼š</p><pre class="line-numbers language-none"><code class="language-none"># command-line-arguments.\main.go:14:17: "WilburXuTwo" escapes to heap.\main.go:17:19: new(int) escapes to heap.\main.go:11:16: main new(User) does not escape.\main.go:13:17: main "WilburXuOne" does not escape.\main.go:16:19: main new(int) does not escape<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸ºä»€ä¹ˆè¿™é‡Œ<code>å€¼</code>ç±»å‹ä¸ä¼šé€ƒé€¸è€Œ<code>å¼•ç”¨ç±»å‹</code>ä¼šé€ƒé€¸å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºåœ¨ <code>userTwo = new(User)</code> å¯¹è±¡çš„åˆ›å»ºæ—¶,ç¼–è¯‘å™¨å…ˆæ˜¯åˆ†æ<code>userTwo</code> å¯¹è±¡å¯èƒ½åˆ†é…åœ¨<code>å †</code>ä¸Š,åŒæ—¶æˆå‘˜å˜é‡ <code>name</code> å’Œ <code>age</code> ä¹Ÿä¸º<code>å¼•ç”¨ç±»å‹</code>,ä¸ºäº†ä¿è¯ä¸å‡ºç°<code>æ ˆ</code>å›æ”¶å,å¯¼è‡´å¯¹è±¡<code>userTwo</code>çš„æˆå‘˜å€¼ä¹Ÿè¢«å›æ”¶,æ‰€ä»¥<code>name</code>å’Œ<code>age</code>éœ€è¦é€ƒé€¸.</p><p>ä½†æ˜¯,å¦‚æœ<code>name</code>å’Œ<code>age</code>ä¸ºå€¼ç±»å‹,é‚£ä¹ˆç¼–è¯‘å™¨è™½ç„¶åˆæ­¥åˆ†æ<code>userTwo</code>ä¼šåˆ†é…åœ¨<code>å †</code>ä¸Š,ä½†ç”±äº<code>main</code>ä¸»å‡½æ•°ç»“æŸå,å˜é‡éƒ½ä¼šè¢«å›æ”¶,ä¹Ÿå°±æ˜¯è¯´å¯¹è±¡æ²¡æœ‰è¢«å…¶ä»–å¼•ç”¨,é‚£ä¹ˆå°±éƒ½ä¼šåˆ†é…åœ¨<code>æ ˆ</code>ä¸Š,æ‰€ä»¥<code>name</code>å’Œ<code>age</code>æ²¡æœ‰å‘ç”Ÿé€ƒé€¸.</p><h4 id="ä¼˜åŒ–å»ºè®®"><a href="#ä¼˜åŒ–å»ºè®®" class="headerlink" title="ä¼˜åŒ–å»ºè®®"></a>ä¼˜åŒ–å»ºè®®</h4><p>å°½é‡ä¸è¦å°†<code>å¼•ç”¨å¯¹è±¡</code>èµ‹å€¼ç»™<code>å¼•ç”¨å¯¹è±¡</code>.</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä¸è¦ç›²ç›®ä½¿ç”¨å˜é‡çš„æŒ‡é’ˆä½œä¸ºå‡½æ•°å‚æ•°,è™½ç„¶å®ƒä¼šå‡å°‘å¤åˆ¶æ“ä½œ.ä½†å…¶å®å½“å‚æ•°ä¸ºå˜é‡è‡ªèº«çš„æ—¶å€™,å¤åˆ¶æ˜¯åœ¨æ ˆä¸Šå®Œæˆçš„æ“ä½œ,å¼€é”€è¿œæ¯”å˜é‡é€ƒé€¸ååŠ¨æ€åœ°åœ¨å †ä¸Šåˆ†é…å†…å­˜å°‘çš„å¤š.</p><p>Goçš„ç¼–è¯‘å™¨å°±å¦‚ä¸€ä¸ªèªæ˜çš„<code>å­©å­</code>ä¸€èˆ¬,å¤§å¤šæ—¶å€™åœ¨é€ƒé€¸åˆ†æé—®é¢˜ä¸Šçš„å¤„ç†éƒ½ä»¤äººçœ¼å‰ä¸€äº®,ä½†æœ‰æ—¶<code>é—¹æ€§å­</code>çš„æ—¶å€™å¤„ç†ä¹Ÿæ˜¯éå¸¸ç²—ç³™çš„åˆ†ææˆ–å®Œå…¨æ”¾å¼ƒ,æ¯•ç«Ÿè¿™æ˜¯å­©å­å¤©æ€§ä¸æ˜¯å—ï¼Ÿ æ‰€ä»¥ä¹Ÿéœ€è¦æˆ‘ä»¬åœ¨ç¼–å†™ä»£ç çš„æ—¶å€™å¤šå¤šè§‚å¯Ÿ,å¤šå¤šç•™æ„äº†.</p><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="http://www.agardner.me/golang/garbage/collection/gc/escape/analysis/2015/10/18/go-escape-analysis.html">http://www.agardner.me/golangâ€¦</a></p><p><a href="https://segmentfault.com/a/1190000019234268">https://segmentfault.com/a/11â€¦</a></p><p><a href="https://docs.google.com/document/d/1CxgUBPlx9iJzkz9JWkb6tIpTe5q32QDmz8l0BouG0Cw/preview#heading=h.3i6ywlgy4wrw">https://docs.google.com/documâ€¦</a></p><p><a href="http://npat-efault.github.io/programming/2016/10/10/escape-analysis-and-interfaces.html">http://npat-efault.github.io/â€¦</a></p><h2 id="è½¬è½½è¯´æ˜"><a href="#è½¬è½½è¯´æ˜" class="headerlink" title="è½¬è½½è¯´æ˜"></a>è½¬è½½è¯´æ˜</h2><p>æ–‡ç« è½¬è½½è‡ª<a href="https://mojotv.cn/2019/07/21/golang-escape">https://mojotv.cn/2019/07/21/golang-escape</a>ï¼Œæ„Ÿè°¢å¤§ä½¬åˆ†äº«</p>]]></content>
      
      
      <categories>
          
          <category> è½¬è½½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è½¬è½½ </tag>
            
            <tag> Golang </tag>
            
            <tag> è¿›é˜¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goè¯­è¨€å¸¸è§é—®é¢˜</title>
      <link href="/hypo-Z.github.io/2022/02/21/go-yu-yan-chang-jian-wen-ti/"/>
      <url>/hypo-Z.github.io/2022/02/21/go-yu-yan-chang-jian-wen-ti/</url>
      
        <content type="html"><![CDATA[<h1 id="goå¸¸è§é—®é¢˜ï¼š"><a href="#goå¸¸è§é—®é¢˜ï¼š" class="headerlink" title="goå¸¸è§é—®é¢˜ï¼š"></a>goå¸¸è§é—®é¢˜ï¼š</h1><h3 id="1-goå…³é”®å­—æœ‰é‚£äº›ï¼Ÿ"><a href="#1-goå…³é”®å­—æœ‰é‚£äº›ï¼Ÿ" class="headerlink" title="1. goå…³é”®å­—æœ‰é‚£äº›ï¼Ÿ"></a>1. goå…³é”®å­—æœ‰é‚£äº›ï¼Ÿ</h3><p>ä¸‹é¢åˆ—ä¸¾äº† Go ä»£ç ä¸­ä¼šä½¿ç”¨åˆ°çš„ 25 ä¸ªå…³é”®å­—æˆ–ä¿ç•™å­—ï¼š</p><table><thead><tr><th>break</th><th>default</th><th>func</th><th>interface</th><th>select</th></tr></thead><tbody><tr><td>case</td><td>defer</td><td>go</td><td>map</td><td>struct</td></tr><tr><td>chan</td><td>else</td><td>goto</td><td>package</td><td>switch</td></tr><tr><td>const</td><td>fallthrough</td><td>if</td><td>range</td><td>type</td></tr><tr><td>continue</td><td>for</td><td>import</td><td>return</td><td>var</td></tr></tbody></table><p>é™¤äº†ä»¥ä¸Šä»‹ç»çš„è¿™äº›å…³é”®å­—ï¼ŒGo è¯­è¨€è¿˜æœ‰ 36 ä¸ªé¢„å®šä¹‰æ ‡è¯†ç¬¦ï¼š</p><table><thead><tr><th>append</th><th>bool</th><th>byte</th><th>cap</th><th>close</th><th>complex</th><th>complex64</th><th>complex128</th><th>uint16</th></tr></thead><tbody><tr><td>copy</td><td>false</td><td>float32</td><td>float64</td><td>imag</td><td>int</td><td>int8</td><td>int16</td><td>uint32</td></tr><tr><td>int32</td><td>int64</td><td>iota</td><td>len</td><td>make</td><td>new</td><td>nil</td><td>panic</td><td>uint64</td></tr><tr><td>print</td><td>println</td><td>real</td><td>recover</td><td>string</td><td>true</td><td>uint</td><td>uint8</td><td>uintptr</td></tr></tbody></table><p>ç¨‹åºä¸€èˆ¬ç”±å…³é”®å­—ã€å¸¸é‡ã€å˜é‡ã€è¿ç®—ç¬¦ã€ç±»å‹å’Œå‡½æ•°ç»„æˆã€‚</p><p>ç¨‹åºä¸­å¯èƒ½ä¼šä½¿ç”¨åˆ°è¿™äº›åˆ†éš”ç¬¦ï¼šæ‹¬å· ()ï¼Œä¸­æ‹¬å· [] å’Œå¤§æ‹¬å· {}ã€‚</p><p>ç¨‹åºä¸­å¯èƒ½ä¼šä½¿ç”¨åˆ°è¿™äº›æ ‡ç‚¹ç¬¦å·ï¼š.ã€,ã€;ã€: å’Œ â€¦ã€‚</p><h3 id="2-newå‡½æ•°å’Œmakeå‡½æ•°çš„åŒºåˆ«ï¼Ÿ"><a href="#2-newå‡½æ•°å’Œmakeå‡½æ•°çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="2. newå‡½æ•°å’Œmakeå‡½æ•°çš„åŒºåˆ«ï¼Ÿ"></a>2. newå‡½æ•°å’Œmakeå‡½æ•°çš„åŒºåˆ«ï¼Ÿ</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">new</span><span class="token punctuation">(</span>Type<span class="token punctuation">)</span> <span class="token operator">*</span>Type<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>newçš„å†…ç½®å‡½æ•°åˆ†é…å†…å­˜ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªç±»å‹ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå€¼ï¼Œè¿”å›çš„å€¼æ˜¯æŒ‡å‘è¯¥ç±»å‹æ–°åˆ†é…çš„é›¶å€¼çš„æŒ‡é’ˆã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">make</span><span class="token punctuation">(</span>t Type<span class="token punctuation">,</span> size <span class="token operator">...</span>IntegerType<span class="token punctuation">)</span> Type<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>makeå†…ç½®å‡½æ•°åˆ†é…å¹¶åˆå§‹åŒ–ç±»å‹ä¸ºsliceã€mapæˆ–channelï¼ˆä»…é™ï¼‰çš„å¯¹è±¡ã€‚ä¸newä¸€æ ·ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç±»å‹ï¼Œè€Œä¸æ˜¯å€¼ã€‚ä¸newä¸åŒï¼Œmakeçš„è¿”å›ç±»å‹ä¸å…¶å‚æ•°çš„ç±»å‹ç›¸åŒï¼Œè€Œä¸æ˜¯æŒ‡å‘å®ƒçš„æŒ‡é’ˆã€‚ç»“æœçš„è§„æ ¼å–å†³äºç±»å‹ï¼š</p><p>slice(åˆ‡ç‰‡)ï¼šsizeæŒ‡å®šé•¿åº¦ã€‚åˆ‡ç‰‡çš„å®¹é‡æ˜¯ç­‰äºå®ƒçš„é•¿åº¦ã€‚ç¬¬äºŒä¸ªæ•´æ•°å‚æ•°å¯ä»¥æä¾›ç»™æŒ‡å®šä¸åŒçš„å®¹é‡ï¼›å®ƒä¸èƒ½å°äºé•¿ä¾‹å¦‚ï¼Œmakeï¼ˆ[]intï¼Œ0ï¼Œ10ï¼‰åˆ†é…ä¸€ä¸ªåº•å±‚æ•°ç»„å¤§å°ä¸º10ï¼Œå¹¶è¿”å›é•¿åº¦ä¸º0ã€å®¹é‡ä¸º10çš„åˆ‡ç‰‡ç”±è¿™ä¸ªåº•å±‚æ•°ç»„æ”¯æŒã€‚</p><p>map(é”®å¯¹)ï¼šä¸€å¼ ç©ºåœ°å›¾è¢«åˆ†é…äº†è¶³å¤Ÿçš„ç©ºé—´æ¥å­˜æ”¾åœ°å›¾æŒ‡å®šçš„å…ƒç´ æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°ºå¯¸å¯ä»¥çœç•¥åˆ†é…äº†ä¸€ä¸ªå°çš„èµ·å§‹å¤§å°ã€‚</p><p>channel(é€šé“)ï¼šsizeé€šé“çš„ç¼“å†²åŒºç”¨æŒ‡å®šçš„ç¼“å†²å®¹é‡ã€‚å¦‚æœä¸ºé›¶ï¼Œæˆ–çœç•¥äº†å¤§å°ï¼Œåˆ™é€šé“ä¸ºæ²¡æœ‰ç¼“å†²ã€‚</p><p>å°±æ˜¯è¯´makeå‡½æ•°åªèƒ½ç”¨äºåˆ›å»ºsliceã€mapå’Œchannelï¼Œè€Œnewå‡½æ•°å¯ä»¥åˆ›å»ºå¤šç§ç±»å‹</p><h3 id="3-æ•°ç»„å’Œåˆ‡ç‰‡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#3-æ•°ç»„å’Œåˆ‡ç‰‡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="3. æ•°ç»„å’Œåˆ‡ç‰‡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>3. æ•°ç»„å’Œåˆ‡ç‰‡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>Goè¯­è¨€ä¸­æ•°ç»„æ˜¯å›ºå®šé•¿åº¦çš„ï¼Œ<strong>ä¸èƒ½åŠ¨æ€æ‰©å®¹</strong>ï¼Œåœ¨ç¼–è¯‘æœŸå°±ä¼šç¡®å®šå¤§å°ï¼Œå£°æ˜æ–¹å¼å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> buffer <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">]</span><span class="token builtin">int</span>buffer <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åˆ‡ç‰‡æ˜¯å¯¹æ•°ç»„çš„æŠ½è±¡ï¼Œå› ä¸ºæ•°ç»„çš„é•¿åº¦æ˜¯ä¸å¯å˜çš„ï¼Œåœ¨æŸäº›åœºæ™¯ä¸‹ä½¿ç”¨èµ·æ¥å°±ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œæ‰€ä»¥Goè¯­è¨€æä¾›äº†ä¸€ç§çµæ´»ï¼ŒåŠŸèƒ½å¼ºæ‚çš„å†…ç½®ç±»å‹åˆ‡ç‰‡(â€œåŠ¨æ€æ•°ç»„â€)ï¼Œä¸æ•°ç»„ç›¸æ¯”åˆ‡ç‰‡çš„é•¿åº¦æ˜¯ä¸å›ºå®šçš„ï¼Œå¯ä»¥è¿½åŠ å…ƒç´ ã€‚åˆ‡ç‰‡æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œåˆ‡ç‰‡ä¸æ˜¯æ•°ç»„ï¼Œåˆ‡ç‰‡æè¿°çš„æ˜¯ä¸€å—æ•°ç»„ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç›´æ¥å£°æ˜ä¸€ä¸ªæœªæŒ‡å®šå¤§å°çš„æ•°ç»„æ¥å®šä¹‰åˆ‡ç‰‡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨make()å‡½æ•°æ¥åˆ›å»ºåˆ‡ç‰‡ï¼Œå£°æ˜æ–¹å¼å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> slice <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token comment">// ç›´æ¥å£°æ˜</span>slice <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span> <span class="token comment">// å­—é¢é‡æ–¹å¼</span>slice <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// makeåˆ›å»º</span>slice <span class="token operator">:=</span> array<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token comment">// æˆªå–ä¸‹æ ‡çš„æ–¹å¼</span>slice <span class="token operator">:=</span> <span class="token operator">*</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token comment">// newä¸€ä¸ª</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>åˆ‡ç‰‡å¯ä»¥ä½¿ç”¨appendè¿½åŠ å…ƒç´ ï¼Œå½“capä¸è¶³æ—¶è¿›è¡ŒåŠ¨æ€æ‰©å®¹</strong>ã€‚</p><p><strong>åˆ‡ç‰‡æ‰©å®¹ç­–ç•¥ï¼š</strong></p><pre class="line-numbers language-go" data-language="go"><code class="language-go">newcap <span class="token operator">:=</span> old<span class="token punctuation">.</span><span class="token builtin">cap</span>  <span class="token comment">// ä¸¤å€æ‰©å®¹</span> doublecap <span class="token operator">:=</span> newcap <span class="token operator">+</span> newcap  <span class="token comment">// æ–°åˆ‡ç‰‡éœ€è¦çš„å®¹é‡å¤§äºä¸¤å€æ‰©å®¹çš„å®¹é‡ï¼Œåˆ™ç›´æ¥æŒ‰ç…§æ–°åˆ‡ç‰‡éœ€è¦çš„å®¹é‡æ‰©å®¹</span> <span class="token keyword">if</span> <span class="token builtin">cap</span> <span class="token operator">&gt;</span> doublecap <span class="token punctuation">{</span>  newcap <span class="token operator">=</span> <span class="token builtin">cap</span> <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token comment">// åŸ slice å®¹é‡å°äº 1024 çš„æ—¶å€™ï¼Œæ–° slice å®¹é‡æŒ‰2å€æ‰©å®¹</span>  <span class="token keyword">if</span> old<span class="token punctuation">.</span><span class="token builtin">cap</span> <span class="token operator">&lt;</span> <span class="token number">1024</span> <span class="token punctuation">{</span>   newcap <span class="token operator">=</span> doublecap  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// åŸ slice å®¹é‡è¶…è¿‡ 1024ï¼Œæ–° slice å®¹é‡å˜æˆåŸæ¥çš„1.25å€ã€‚</span>   <span class="token comment">// Check 0 &lt; newcap to detect overflow</span>   <span class="token comment">// and prevent an infinite loop.</span>   <span class="token keyword">for</span> <span class="token number">0</span> <span class="token operator">&lt;</span> newcap <span class="token operator">&amp;&amp;</span> newcap <span class="token operator">&lt;</span> <span class="token builtin">cap</span> <span class="token punctuation">{</span>    newcap <span class="token operator">+=</span> newcap <span class="token operator">/</span> <span class="token number">4</span>   <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ‡ç‰‡åœ¨æ‰©å®¹æ—¶ä¼šè¿›è¡Œå†…å­˜å¯¹é½ï¼Œè¿™ä¸ªå’Œå†…å­˜åˆ†é…ç­–ç•¥ç›¸å…³ã€‚</p><p>è¿›è¡Œå†…å­˜å¯¹é½ä¹‹åï¼Œæ–° slice çš„å®¹é‡æ˜¯è¦ å¤§äºç­‰äºè€ slice å®¹é‡çš„ 2å€æˆ–è€…1.25å€ï¼Œåˆ™ç›´æ¥æŒ‰ç…§æ–°åˆ‡ç‰‡éœ€è¦çš„å®¹é‡æ‰©å®¹ï¼›</p><p>å½“åŸ slice å®¹é‡å°äº 1024 çš„æ—¶å€™ï¼Œæ–° slice å®¹é‡å˜æˆåŸæ¥çš„ 2 å€ï¼›</p><p>åŸ slice å®¹é‡è¶…è¿‡ 1024ï¼Œæ–° slice å®¹é‡å˜æˆåŸæ¥çš„1.25å€ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token operator">-</span>æ–°å®¹é‡<span class="token operator">=</span>æ‰€éœ€çš„å®¹é‡<span class="token operator">-</span>      <span class="token operator">&gt;</span>  <span class="token number">2</span>å€åŸå®¹é‡  <span class="token operator">&gt;</span>      <span class="token operator">-</span>æ–°å®¹é‡<span class="token operator">=</span><span class="token number">2</span>å€åŸå®¹é‡<span class="token operator">-</span>     <span class="token operator">&gt;</span>  <span class="token number">1024</span>  <span class="token operator">&gt;</span>     <span class="token operator">-</span>æ–°å®¹é‡<span class="token operator">=</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">4</span>å€åŸå®¹é‡<span class="token operator">-</span>     <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="3-1-åˆ‡ç‰‡çš„æ‹·è´ï¼š"><a href="#3-1-åˆ‡ç‰‡çš„æ‹·è´ï¼š" class="headerlink" title="3.1 åˆ‡ç‰‡çš„æ‹·è´ï¼š"></a>3.1 åˆ‡ç‰‡çš„æ‹·è´ï¼š</h4><p>æ·±æµ…æ‹·è´éƒ½æ˜¯è¿›è¡Œå¤åˆ¶ï¼ŒåŒºåˆ«åœ¨äºå¤åˆ¶å‡ºæ¥çš„æ–°å¯¹è±¡ä¸åŸæ¥çš„å¯¹è±¡åœ¨å®ƒä»¬å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ˜¯å¦ä¼šç›¸äº’å½±å“ï¼Œæœ¬è´¨åŒºåˆ«å°±æ˜¯å¤åˆ¶å‡ºæ¥çš„å¯¹è±¡ä¸åŸå¯¹è±¡æ˜¯å¦ä¼šæŒ‡å‘åŒä¸€ä¸ªåœ°å€ã€‚åœ¨Goè¯­è¨€ï¼Œåˆ‡ç‰‡æ‹·è´æœ‰ä¸‰ç§æ–¹å¼ï¼š</p><ul><li>ä½¿ç”¨=æ“ä½œç¬¦æ‹·è´åˆ‡ç‰‡ï¼Œè¿™ç§å°±æ˜¯æµ…æ‹·è´</li><li>ä½¿ç”¨[:]ä¸‹æ ‡çš„æ–¹å¼å¤åˆ¶åˆ‡ç‰‡ï¼Œè¿™ç§ä¹Ÿæ˜¯æµ…æ‹·è´</li><li>ä½¿ç”¨Goè¯­è¨€çš„å†…ç½®å‡½æ•°copy()è¿›è¡Œåˆ‡ç‰‡æ‹·è´ï¼Œè¿™ç§å°±æ˜¯æ·±æ‹·è´</li></ul><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">copy</span><span class="token punctuation">(</span>dst <span class="token punctuation">[</span><span class="token punctuation">]</span>Type<span class="token punctuation">,</span> src <span class="token punctuation">[</span><span class="token punctuation">]</span>Type<span class="token punctuation">)</span> <span class="token builtin">int</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>copyå†…ç½®å‡½æ•°å°†å…ƒç´ ä»æºåˆ‡ç‰‡å¤åˆ¶åˆ°ç›®æ ‡åˆ‡ç‰‡ã€‚ï¼ˆä½œä¸ºç‰¹ä¾‹ï¼Œå®ƒè¿˜å°†æŠŠå­—ç¬¦ä¸²ä¸­çš„å­—èŠ‚å¤åˆ¶åˆ°å­—èŠ‚ç‰‡ä¸­ã€‚ï¼‰æºå’Œç›®æ ‡å¯èƒ½é‡å ã€‚Copyè¿”å›å¤åˆ¶çš„å…ƒç´ æ•°ï¼Œå³ lenï¼ˆsrcï¼‰å’Œ lenï¼ˆdstï¼‰çš„æœ€å°å€¼ã€‚</p><h4 id="3-2-é›¶åˆ‡ç‰‡ã€ç©ºåˆ‡ç‰‡ã€nilåˆ‡ç‰‡æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#3-2-é›¶åˆ‡ç‰‡ã€ç©ºåˆ‡ç‰‡ã€nilåˆ‡ç‰‡æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="3.2 é›¶åˆ‡ç‰‡ã€ç©ºåˆ‡ç‰‡ã€nilåˆ‡ç‰‡æ˜¯ä»€ä¹ˆï¼Ÿ"></a>3.2 é›¶åˆ‡ç‰‡ã€ç©ºåˆ‡ç‰‡ã€nilåˆ‡ç‰‡æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>ä¸ºä»€ä¹ˆé—®é¢˜ä¸­è¿™ä¹ˆå¤šç§åˆ‡ç‰‡å‘¢ï¼Ÿå› ä¸ºåœ¨Goè¯­è¨€ä¸­åˆ‡ç‰‡çš„åˆ›å»ºæ–¹å¼æœ‰äº”ç§ï¼Œä¸åŒæ–¹å¼åˆ›å»ºå‡ºæ¥çš„åˆ‡ç‰‡ä¹Ÿä¸ä¸€æ ·ï¼›</p><ul><li>é›¶åˆ‡ç‰‡</li></ul><p>æˆ‘ä»¬æŠŠåˆ‡ç‰‡å†…éƒ¨æ•°ç»„çš„å…ƒç´ éƒ½æ˜¯é›¶å€¼æˆ–è€…åº•å±‚æ•°ç»„çš„å†…å®¹å°±å…¨æ˜¯ nilçš„åˆ‡ç‰‡å«åšé›¶åˆ‡ç‰‡ï¼Œä½¿ç”¨makeåˆ›å»ºçš„ã€é•¿åº¦ã€å®¹é‡éƒ½ä¸ä¸º0çš„åˆ‡ç‰‡å°±æ˜¯é›¶å€¼åˆ‡ç‰‡ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go">slice <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">// 0 0 0 0 0</span>slice <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">// nil nil nil nil nil</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>nilåˆ‡ç‰‡</li></ul><p>nilåˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡éƒ½ä¸º0ï¼Œå¹¶ä¸”å’Œnilæ¯”è¾ƒçš„ç»“æœä¸ºtrueï¼Œé‡‡ç”¨ç›´æ¥åˆ›å»ºåˆ‡ç‰‡çš„æ–¹å¼ã€newåˆ›å»ºåˆ‡ç‰‡çš„æ–¹å¼éƒ½å¯ä»¥åˆ›å»ºnilåˆ‡ç‰‡ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> slice <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>s <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">//å…è®¸å¯¹å€¼ä¸º nil çš„ slice æ·»åŠ å…ƒç´ </span><span class="token keyword">var</span> slice <span class="token operator">=</span> <span class="token operator">*</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>ç©ºåˆ‡ç‰‡</li></ul><p>ç©ºåˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡ä¹Ÿéƒ½ä¸º0ï¼Œä½†æ˜¯å’Œnilçš„æ¯”è¾ƒç»“æœä¸ºfalseï¼Œå› ä¸ºæ‰€æœ‰çš„ç©ºåˆ‡ç‰‡çš„æ•°æ®æŒ‡é’ˆéƒ½æŒ‡å‘åŒä¸€ä¸ªåœ°å€ 0xc42003bda0ï¼›ä½¿ç”¨å­—é¢é‡ã€makeå¯ä»¥åˆ›å»ºç©ºåˆ‡ç‰‡ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> slice <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">var</span> slice <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç©ºåˆ‡ç‰‡æŒ‡å‘çš„ zerobase å†…å­˜åœ°å€æ˜¯ä¸€ä¸ªç¥å¥‡çš„åœ°å€ï¼Œä» Go è¯­è¨€çš„æºä»£ç ä¸­å¯ä»¥çœ‹åˆ°å®ƒçš„å®šä¹‰ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// base address for all 0-byte allocations</span><span class="token keyword">var</span> zerobase <span class="token builtin">uintptr</span><span class="token comment">// åˆ†é…å¯¹è±¡å†…å­˜</span><span class="token keyword">func</span> <span class="token function">mallocgc</span><span class="token punctuation">(</span>size <span class="token builtin">uintptr</span><span class="token punctuation">,</span> typ <span class="token operator">*</span>_type<span class="token punctuation">,</span> needzero <span class="token builtin">bool</span><span class="token punctuation">)</span> unsafe<span class="token punctuation">.</span>Pointer <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token keyword">if</span> size <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>zerobase<span class="token punctuation">)</span> <span class="token punctuation">}</span>  <span class="token operator">...</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Goè¯­è¨€æä¾›äº†rangeå…³é”®å­—ç”¨äºfor å¾ªç¯ä¸­è¿­ä»£æ•°ç»„(array)ã€åˆ‡ç‰‡(slice)ã€é€šé“(channel)æˆ–é›†åˆ(map)çš„å…ƒç´ ï¼Œæœ‰ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">for</span> k<span class="token punctuation">,</span>v <span class="token operator">:=</span> <span class="token keyword">range</span> slice <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token keyword">for</span> k <span class="token operator">:=</span> <span class="token keyword">range</span> slice <span class="token punctuation">{</span> <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬ä¸€ç§æ˜¯éå†ä¸‹æ ‡å’Œå¯¹åº”å€¼ï¼Œç¬¬äºŒç§æ˜¯åªéå†ä¸‹æ ‡ï¼Œä½¿ç”¨rangeéå†åˆ‡ç‰‡æ—¶ä¼šå…ˆæ‹·è´ä¸€ä»½ï¼Œç„¶ååœ¨éå†æ‹·è´æ•°æ®</p><p>å› ä¸ºå˜é‡væ˜¯æ‹·è´åˆ‡ç‰‡ä¸­çš„æ•°æ®ï¼Œæ‰€ä»¥ä¿®æ”¹vä¸ä¼šå¯¹åŸåˆ‡ç‰‡æœ‰å½±å“ã€‚</p><h3 id="4-range-è¿­ä»£-mapæ˜¯æœ‰åºçš„å—ï¼Ÿ"><a href="#4-range-è¿­ä»£-mapæ˜¯æœ‰åºçš„å—ï¼Ÿ" class="headerlink" title="4. range è¿­ä»£ mapæ˜¯æœ‰åºçš„å—ï¼Ÿ"></a>4. range è¿­ä»£ mapæ˜¯æœ‰åºçš„å—ï¼Ÿ</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">/* å£°æ˜å˜é‡ï¼Œé»˜è®¤ map æ˜¯ nil */</span><span class="token keyword">var</span> map_variable <span class="token keyword">map</span><span class="token punctuation">[</span>key_data_type<span class="token punctuation">]</span>value_data_type<span class="token comment">/* ä½¿ç”¨ make å‡½æ•° ï¼Œå¦‚æœä¸åˆå§‹åŒ– mapï¼Œé‚£ä¹ˆå°±ä¼šåˆ›å»ºä¸€ä¸ª nil mapã€‚nil map ä¸èƒ½ç”¨æ¥å­˜æ”¾é”®å€¼å¯¹*/</span>map_variable <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span>key_data_type<span class="token punctuation">]</span>value_data_type<span class="token punctuation">)</span><span class="token comment">/* range è¿­ä»£ map */</span><span class="token keyword">for</span> k<span class="token punctuation">,</span>v <span class="token keyword">range</span> map_variable <span class="token punctuation">{</span>    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"map`s key=%s,map`s value=%s"</span><span class="token punctuation">,</span>k<span class="token punctuation">,</span>v<span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Map æ˜¯ä¸€ç§æ— åºçš„é”®å€¼å¯¹çš„é›†åˆã€‚Map æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯é€šè¿‡ key æ¥å¿«é€Ÿæ£€ç´¢æ•°æ®ï¼Œkey ç±»ä¼¼äºç´¢å¼•ï¼ŒæŒ‡å‘æ•°æ®çš„å€¼ã€‚</p><p>Map æ˜¯ä¸€ç§é›†åˆï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åƒè¿­ä»£æ•°ç»„å’Œåˆ‡ç‰‡é‚£æ ·è¿­ä»£å®ƒã€‚ä¸è¿‡ï¼ŒMap æ˜¯æ— åºçš„ï¼Œæˆ‘ä»¬æ— æ³•å†³å®šå®ƒçš„è¿”å›é¡ºåºï¼Œè¿™æ˜¯å› ä¸º Map æ˜¯ä½¿ç”¨ hash è¡¨æ¥å®ç°çš„ã€‚</p><p>ä¸€è‡´æ–¹æ³•ï¼šå°†mapçš„keyå­˜å…¥ä¸€æœ‰åºæ•°ç»„ä¸­ï¼Œç„¶åéå†æ•°ç»„keyå€¼ï¼Œä¾æ¬¡å–å‡ºmapçš„valueå€¼</p><h3 id="5-goå¾ªç¯ä¸­switchè¯­å¥å’Œselectè¯­å¥çš„åŒºåˆ«åŠforè¯­å¥ï¼Ÿ"><a href="#5-goå¾ªç¯ä¸­switchè¯­å¥å’Œselectè¯­å¥çš„åŒºåˆ«åŠforè¯­å¥ï¼Ÿ" class="headerlink" title="5. goå¾ªç¯ä¸­switchè¯­å¥å’Œselectè¯­å¥çš„åŒºåˆ«åŠforè¯­å¥ï¼Ÿ"></a>5. goå¾ªç¯ä¸­switchè¯­å¥å’Œselectè¯­å¥çš„åŒºåˆ«åŠforè¯­å¥ï¼Ÿ</h3><h4 id="5-1-switchè¯­å¥"><a href="#5-1-switchè¯­å¥" class="headerlink" title="5.1 switchè¯­å¥"></a>5.1 switchè¯­å¥</h4><p>switch è¯­å¥ç”¨äºåŸºäºä¸åŒæ¡ä»¶æ‰§è¡Œä¸åŒåŠ¨ä½œï¼Œæ¯ä¸€ä¸ª case åˆ†æ”¯éƒ½æ˜¯å”¯ä¸€çš„ï¼Œä»ä¸Šè‡³ä¸‹é€ä¸€æµ‹è¯•ï¼Œç›´åˆ°åŒ¹é…ä¸ºæ­¢ã€‚</p><p>switch è¯­å¥æ‰§è¡Œçš„è¿‡ç¨‹ä»ä¸Šè‡³ä¸‹ï¼Œç›´åˆ°æ‰¾åˆ°åŒ¹é…é¡¹ï¼ŒåŒ¹é…é¡¹åé¢ä¹Ÿä¸éœ€è¦å†åŠ  breakã€‚</p><p>switch é»˜è®¤æƒ…å†µä¸‹ case æœ€åè‡ªå¸¦ break è¯­å¥ï¼ŒåŒ¹é…æˆåŠŸåå°±ä¸ä¼šæ‰§è¡Œå…¶ä»– caseï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æ‰§è¡Œåé¢çš„ caseï¼Œå¯ä»¥ä½¿ç”¨ <strong>fallthrough</strong> ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">switch</span> val <span class="token punctuation">{</span>    <span class="token keyword">case</span> val1<span class="token punctuation">:</span>        <span class="token operator">...</span><span class="token comment">//è‡ªå¸¦ break è¯­å¥ï¼ŒåŒ¹é…æˆåŠŸåå°±ä¸ä¼šæ‰§è¡Œå…¶ä»– case,ç›´æ¥è¿”å›</span>    <span class="token keyword">case</span> val2<span class="token punctuation">:</span>        <span class="token operator">...</span><span class="token comment">//å¦‚æœæˆ‘ä»¬éœ€è¦æ‰§è¡Œåé¢çš„ caseï¼Œå¯ä»¥ä½¿ç”¨fallthrough</span>    <span class="token keyword">default</span><span class="token punctuation">:</span>        <span class="token operator">...</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="5-2-selectè¯­å¥"><a href="#5-2-selectè¯­å¥" class="headerlink" title="5.2 selectè¯­å¥"></a>5.2 selectè¯­å¥</h4><p>select æ˜¯ Go ä¸­çš„ä¸€ä¸ªæ§åˆ¶ç»“æ„ï¼Œç±»ä¼¼äºç”¨äºé€šä¿¡çš„ switch è¯­å¥ã€‚æ¯ä¸ª case å¿…é¡»æ˜¯ä¸€ä¸ªé€šä¿¡æ“ä½œï¼Œè¦ä¹ˆæ˜¯å‘é€è¦ä¹ˆæ˜¯æ¥æ”¶ã€‚æ‰€ä»¥å¸¸ç”¨äºgoroutineçš„å®Œç¾é€€å‡ºã€‚</p><p>select éšæœºæ‰§è¡Œä¸€ä¸ªå¯è¿è¡Œçš„ caseã€‚å¦‚æœæ²¡æœ‰ case å¯è¿è¡Œï¼Œå®ƒå°†é˜»å¡ï¼Œç›´åˆ°æœ‰ case å¯è¿è¡Œã€‚ä¸€ä¸ªé»˜è®¤çš„å­å¥åº”è¯¥æ€»æ˜¯å¯è¿è¡Œçš„ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">select</span> <span class="token punctuation">{</span>    <span class="token keyword">case</span> communication clause  <span class="token punctuation">:</span>       <span class="token function">statement</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">case</span> communication clause  <span class="token punctuation">:</span>       <span class="token function">statement</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">/* ä½ å¯ä»¥å®šä¹‰ä»»æ„æ•°é‡çš„ case */</span>    <span class="token keyword">default</span> <span class="token punctuation">:</span> <span class="token comment">/* å¯é€‰ */</span>       <span class="token function">statement</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»¥ä¸‹æè¿°äº† select è¯­å¥çš„è¯­æ³•ï¼š</p><ul><li><p>æ¯ä¸ª case éƒ½å¿…é¡»æ˜¯ä¸€ä¸ªé€šä¿¡</p></li><li><p>æ‰€æœ‰ channel è¡¨è¾¾å¼éƒ½ä¼šè¢«æ±‚å€¼</p></li><li><p>æ‰€æœ‰è¢«å‘é€çš„è¡¨è¾¾å¼éƒ½ä¼šè¢«æ±‚å€¼</p></li><li><p>å¦‚æœä»»æ„æŸä¸ªé€šä¿¡å¯ä»¥è¿›è¡Œï¼Œå®ƒå°±æ‰§è¡Œï¼Œå…¶ä»–è¢«å¿½ç•¥ã€‚</p></li><li><p>å¦‚æœæœ‰å¤šä¸ª case éƒ½å¯ä»¥è¿è¡Œï¼ŒSelect ä¼šéšæœºå…¬å¹³åœ°é€‰å‡ºä¸€ä¸ªæ‰§è¡Œã€‚å…¶ä»–ä¸ä¼šæ‰§è¡Œã€‚</p><p>å¦åˆ™ï¼š</p><ol><li>å¦‚æœæœ‰ default å­å¥ï¼Œåˆ™æ‰§è¡Œè¯¥è¯­å¥ã€‚</li><li>å¦‚æœæ²¡æœ‰ default å­å¥ï¼Œselect å°†é˜»å¡ï¼Œç›´åˆ°æŸä¸ªé€šä¿¡å¯ä»¥è¿è¡Œï¼›Go ä¸ä¼šé‡æ–°å¯¹ channel æˆ–å€¼è¿›è¡Œæ±‚å€¼ã€‚</li></ol></li></ul><h4 id="5-3-forè¯­å¥"><a href="#5-3-forè¯­å¥" class="headerlink" title="5.3 forè¯­å¥"></a>5.3 forè¯­å¥</h4><p>for å¾ªç¯æ”¯æŒ continue å’Œ break æ¥æ§åˆ¶å¾ªç¯ï¼Œä½†æ˜¯å®ƒæä¾›äº†ä¸€ä¸ªæ›´é«˜çº§çš„breakï¼Œå¯ä»¥é€‰æ‹©ä¸­æ–­å“ªä¸€ä¸ªå¾ªç¯ for å¾ªç¯ä¸æ”¯æŒä»¥é€—å·ä¸ºé—´éš”çš„å¤šä¸ªèµ‹å€¼è¯­å¥ï¼Œå¿…é¡»ä½¿ç”¨å¹³è¡Œèµ‹å€¼çš„æ–¹å¼æ¥åˆå§‹åŒ–å¤šä¸ªå˜é‡ã€‚</p><h3 id="6-å¦‚ä½•ä»-panic-ä¸­æ¢å¤ï¼Ÿ"><a href="#6-å¦‚ä½•ä»-panic-ä¸­æ¢å¤ï¼Ÿ" class="headerlink" title="6. å¦‚ä½•ä» panic ä¸­æ¢å¤ï¼Ÿ"></a>6. å¦‚ä½•ä» panic ä¸­æ¢å¤ï¼Ÿ</h3><p>åœ¨ä¸€ä¸ª defer å»¶è¿Ÿæ‰§è¡Œçš„å‡½æ•°ä¸­è°ƒç”¨ recover ï¼Œå®ƒä¾¿èƒ½æ•æ‰/ä¸­æ–­ panicã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// é”™è¯¯çš„ recover è°ƒç”¨ç¤ºä¾‹</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ä»€ä¹ˆéƒ½ä¸ä¼šæ•æ‰</span> <span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"not good"</span><span class="token punctuation">)</span> <span class="token comment">// å‘ç”Ÿ panicï¼Œä¸»ç¨‹åºé€€å‡º</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ä¸ä¼šè¢«æ‰§è¡Œ</span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ok"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// æ­£ç¡®çš„ recover è°ƒç”¨ç¤ºä¾‹</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"recovered: "</span><span class="token punctuation">,</span> <span class="token function">recover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">"not good"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>recover å¿…é¡»åœ¨ defer å‡½æ•°ä¸­è¿è¡Œã€‚recover æ•è·çš„æ˜¯ç¥–çˆ¶çº§è°ƒç”¨æ—¶çš„å¼‚å¸¸ï¼Œç›´æ¥è°ƒç”¨æ—¶æ— æ•ˆã€‚</p><h3 id="7-é—­åŒ…é”™è¯¯å¼•ç”¨åŒä¸€ä¸ªå˜é‡é—®é¢˜æ€ä¹ˆå¤„ç†ï¼Ÿ"><a href="#7-é—­åŒ…é”™è¯¯å¼•ç”¨åŒä¸€ä¸ªå˜é‡é—®é¢˜æ€ä¹ˆå¤„ç†ï¼Ÿ" class="headerlink" title="7. é—­åŒ…é”™è¯¯å¼•ç”¨åŒä¸€ä¸ªå˜é‡é—®é¢˜æ€ä¹ˆå¤„ç†ï¼Ÿ"></a>7. é—­åŒ…é”™è¯¯å¼•ç”¨åŒä¸€ä¸ªå˜é‡é—®é¢˜æ€ä¹ˆå¤„ç†ï¼Ÿ</h3><p>åœ¨æ¯è½®è¿­ä»£ä¸­ç”Ÿæˆä¸€ä¸ªå±€éƒ¨å˜é‡ i ã€‚å¦‚æœæ²¡æœ‰ i := i è¿™è¡Œï¼Œå°†ä¼šæ‰“å°åŒä¸€ä¸ªå˜é‡ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>        i <span class="token operator">:=</span> i        <span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ–è€…æ˜¯é€šè¿‡å‡½æ•°å‚æ•°ä¼ å…¥ i ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>        <span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span>i <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="8-goè¯­è¨€è§¦å‘å¼‚å¸¸çš„åœºæ™¯æœ‰å“ªäº›ï¼Ÿ"><a href="#8-goè¯­è¨€è§¦å‘å¼‚å¸¸çš„åœºæ™¯æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="8. goè¯­è¨€è§¦å‘å¼‚å¸¸çš„åœºæ™¯æœ‰å“ªäº›ï¼Ÿ"></a>8. goè¯­è¨€è§¦å‘å¼‚å¸¸çš„åœºæ™¯æœ‰å“ªäº›ï¼Ÿ</h3><ul><li>ç©ºæŒ‡é’ˆè§£æ</li><li>ä¸‹æ ‡è¶Šç•Œ</li><li>é™¤æ•°ä¸º0</li><li>è°ƒç”¨ panic å‡½æ•°</li></ul><h3 id="9-Goçš„Structèƒ½ä¸èƒ½æ¯”è¾ƒï¼Ÿ"><a href="#9-Goçš„Structèƒ½ä¸èƒ½æ¯”è¾ƒï¼Ÿ" class="headerlink" title="9. Goçš„Structèƒ½ä¸èƒ½æ¯”è¾ƒï¼Ÿ"></a>9. Goçš„Structèƒ½ä¸èƒ½æ¯”è¾ƒï¼Ÿ</h3><ul><li>ç›¸åŒstructç±»å‹çš„å¯ä»¥æ¯”è¾ƒ</li><li>ä¸åŒstructç±»å‹çš„ä¸å¯ä»¥æ¯”è¾ƒ,ç¼–è¯‘éƒ½ä¸è¿‡ï¼Œç±»å‹ä¸åŒ¹é…</li></ul><h3 id="10-åç¨‹å’Œçº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ"><a href="#10-åç¨‹å’Œçº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="10. åç¨‹å’Œçº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ"></a>10. åç¨‹å’Œçº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«ï¼Ÿ</h3><p>å¹¶å‘æŒæ¡ï¼Œgoroutineå’Œchannelå£°æ˜ä¸ä½¿ç”¨ï¼</p><ul><li><p>è¿›ç¨‹: è¿›ç¨‹æ˜¯å…·æœ‰ä¸€å®šç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºï¼Œè¿›ç¨‹æ˜¯ç³»ç»Ÿèµ„æºåˆ†é…å’Œè°ƒåº¦çš„æœ€å°å•ä½ã€‚æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„ç‹¬ç«‹å†…å­˜ç©ºé—´ï¼Œä¸åŒè¿›ç¨‹é€šè¿‡è¿›ç¨‹é—´é€šä¿¡æ¥é€šä¿¡ã€‚ç”±äºè¿›ç¨‹æ¯”è¾ƒé‡é‡ï¼Œå æ®ç‹¬ç«‹çš„å†…å­˜ï¼Œæ‰€ä»¥ä¸Šä¸‹æ–‡è¿›ç¨‹é—´çš„åˆ‡æ¢å¼€é”€ï¼ˆæ ˆã€å¯„å­˜å™¨ã€è™šæ‹Ÿå†…å­˜ã€æ–‡ä»¶å¥æŸ„ç­‰ï¼‰æ¯”è¾ƒå¤§ï¼Œä½†ç›¸å¯¹æ¯”è¾ƒç¨³å®šå®‰å…¨ã€‚</p></li><li><p>çº¿ç¨‹: çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªå®ä½“,çº¿ç¨‹æ˜¯å†…æ ¸æ€,è€Œä¸”æ˜¯CPUè°ƒåº¦å’Œåˆ†æ´¾çš„åŸºæœ¬å•ä½,å®ƒæ˜¯æ¯”è¿›ç¨‹æ›´å°çš„èƒ½ç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½ã€‚çº¿ç¨‹é—´é€šä¿¡ä¸»è¦é€šè¿‡å…±äº«å†…å­˜ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢å¾ˆå¿«ï¼Œèµ„æºå¼€é”€è¾ƒå°‘ï¼Œä½†ç›¸æ¯”è¿›ç¨‹ä¸å¤Ÿç¨³å®šå®¹æ˜“ä¸¢å¤±æ•°æ®ã€‚</p></li><li><p>åç¨‹: åç¨‹æ˜¯ä¸€ç§ç”¨æˆ·æ€çš„è½»é‡çº§çº¿ç¨‹ï¼Œåç¨‹çš„è°ƒåº¦å®Œå…¨æ˜¯ç”±ç”¨æˆ·æ¥æ§åˆ¶çš„ã€‚åç¨‹æ‹¥æœ‰è‡ªå·±çš„å¯„å­˜å™¨ä¸Šä¸‹æ–‡å’Œæ ˆã€‚åç¨‹è°ƒåº¦åˆ‡æ¢æ—¶ï¼Œå°†å¯„å­˜å™¨ä¸Šä¸‹æ–‡å’Œæ ˆä¿å­˜åˆ°å…¶ä»–åœ°æ–¹ï¼Œåœ¨åˆ‡å›æ¥çš„æ—¶å€™ï¼Œæ¢å¤å…ˆå‰ä¿å­˜çš„å¯„å­˜å™¨ä¸Šä¸‹æ–‡å’Œæ ˆï¼Œç›´æ¥æ“ä½œæ ˆåˆ™åŸºæœ¬æ²¡æœ‰å†…æ ¸åˆ‡æ¢çš„å¼€é”€ï¼Œå¯ä»¥ä¸åŠ é”çš„è®¿é—®å…¨å±€å˜é‡ï¼Œæ‰€ä»¥ä¸Šä¸‹æ–‡çš„åˆ‡æ¢éå¸¸å¿«ã€‚</p></li></ul><h4 id="10-1-Goroutineå’Œçº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ"><a href="#10-1-Goroutineå’Œçº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="10.1 Goroutineå’Œçº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ"></a>10.1 Goroutineå’Œçº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ</h4><ul><li>ä¸€ä¸ªçº¿ç¨‹å¯ä»¥æœ‰å¤šä¸ªåç¨‹</li><li>çº¿ç¨‹ã€è¿›ç¨‹éƒ½æ˜¯åŒæ­¥æœºåˆ¶ï¼Œè€Œåç¨‹æ˜¯å¼‚æ­¥</li><li>åç¨‹å¯ä»¥ä¿ç•™ä¸Šä¸€æ¬¡è°ƒç”¨æ—¶çš„çŠ¶æ€ï¼Œå½“è¿‡ç¨‹é‡å…¥æ—¶ï¼Œç›¸å½“äºè¿›å…¥äº†ä¸Šä¸€æ¬¡çš„è°ƒç”¨çŠ¶æ€</li><li>åç¨‹æ˜¯éœ€è¦çº¿ç¨‹æ¥æ‰¿è½½è¿è¡Œçš„ï¼Œæ‰€ä»¥åç¨‹å¹¶ä¸èƒ½å–ä»£çº¿ç¨‹ï¼Œã€Œçº¿ç¨‹æ˜¯è¢«åˆ†å‰²çš„CPUèµ„æºï¼Œåç¨‹æ˜¯ç»„ç»‡å¥½çš„ä»£ç æµç¨‹ã€</li></ul><h3 id="é‡ç‚¹ï¼š"><a href="#é‡ç‚¹ï¼š" class="headerlink" title="é‡ç‚¹ï¼š"></a>é‡ç‚¹ï¼š</h3><h3 id="1-åƒåœ¾å›æ”¶ï¼ˆgabage-collectionï¼ˆç®€ç§°GCï¼‰ï¼‰"><a href="#1-åƒåœ¾å›æ”¶ï¼ˆgabage-collectionï¼ˆç®€ç§°GCï¼‰ï¼‰" class="headerlink" title="1. åƒåœ¾å›æ”¶ï¼ˆgabage collectionï¼ˆç®€ç§°GCï¼‰ï¼‰"></a>1. åƒåœ¾å›æ”¶ï¼ˆgabage collectionï¼ˆç®€ç§°GCï¼‰ï¼‰</h3><p><strong>åƒåœ¾å›æ”¶ã€ä¸‰è‰²æ ‡è®°åŸç†</strong></p><p>åƒåœ¾å›æ”¶å°±æ˜¯å¯¹ç¨‹åºä¸­ä¸å†ä½¿ç”¨çš„å†…å­˜èµ„æºè¿›è¡Œè‡ªåŠ¨å›æ”¶çš„æ“ä½œã€‚</p><h4 id="1-1-å¸¸è§çš„åƒåœ¾å›æ”¶ç®—æ³•ï¼š"><a href="#1-1-å¸¸è§çš„åƒåœ¾å›æ”¶ç®—æ³•ï¼š" class="headerlink" title="1.1 å¸¸è§çš„åƒåœ¾å›æ”¶ç®—æ³•ï¼š"></a>1.1 å¸¸è§çš„åƒåœ¾å›æ”¶ç®—æ³•ï¼š</h4><ul><li>å¼•ç”¨è®¡æ•°ï¼šæ¯ä¸ªå¯¹è±¡ç»´æŠ¤ä¸€ä¸ªå¼•ç”¨è®¡æ•°ï¼Œå½“è¢«å¼•ç”¨å¯¹è±¡è¢«åˆ›å»ºæˆ–è¢«èµ‹å€¼ç»™å…¶ä»–å¯¹è±¡æ—¶å¼•ç”¨è®¡æ•°è‡ªåŠ¨åŠ  +1ï¼›å¦‚æœè¿™ä¸ªå¯¹è±¡è¢«é”€æ¯ï¼Œåˆ™è®¡æ•° -1 ï¼Œå½“è®¡æ•°ä¸º 0 æ—¶ï¼Œå›æ”¶è¯¥å¯¹è±¡ã€‚<ul><li>ä¼˜ç‚¹ï¼šå¯¹è±¡å¯ä»¥å¾ˆå¿«è¢«å›æ”¶ï¼Œä¸ä¼šå‡ºç°å†…å­˜è€—å°½æˆ–åˆ°è¾¾é˜€å€¼æ‰å›æ”¶ã€‚</li><li>ç¼ºç‚¹ï¼šä¸èƒ½å¾ˆå¥½çš„å¤„ç†å¾ªç¯å¼•ç”¨</li></ul></li><li>æ ‡è®°-æ¸…é™¤(<strong>go</strong>ä½¿ç”¨)ï¼šä»æ ¹å˜é‡å¼€å§‹éå†æ‰€æœ‰å¼•ç”¨çš„å¯¹è±¡ï¼Œå¼•ç”¨çš„å¯¹è±¡æ ‡è®°â€œè¢«å¼•ç”¨â€ï¼Œæ²¡æœ‰è¢«æ ‡è®°çš„åˆ™è¿›è¡Œå›æ”¶ã€‚<ul><li>ä¼˜ç‚¹ï¼šè§£å†³äº†å¼•ç”¨è®¡æ•°çš„ç¼ºç‚¹ã€‚</li><li>ç¼ºç‚¹ï¼šéœ€è¦ <strong>STWï¼ˆstop the worldï¼‰</strong>ï¼Œæš‚æ—¶åœæ­¢ç¨‹åºè¿è¡Œã€‚</li></ul></li><li>åˆ†ä»£æ”¶é›†(<strong>java</strong>ä½¿ç”¨)ï¼šæŒ‰ç…§å¯¹è±¡ç”Ÿå‘½å‘¨æœŸé•¿çŸ­åˆ’åˆ†ä¸åŒçš„ä»£ç©ºé—´ï¼Œç”Ÿå‘½å‘¨æœŸé•¿çš„æ”¾å…¥è€å¹´ä»£ï¼ŒçŸ­çš„æ”¾å…¥æ–°ç”Ÿä»£ï¼Œä¸åŒä»£æœ‰ä¸åŒçš„å›æ”¶ç®—æ³•å’Œå›æ”¶é¢‘ç‡ã€‚<ul><li>ä¼˜ç‚¹ï¼šå›æ”¶æ€§èƒ½å¥½</li><li>ç¼ºç‚¹ï¼šç®—æ³•å¤æ‚</li></ul></li></ul><h4 id="1-2-ä¸‰è‰²æ ‡è®°æ³•-å³æ ‡è®°-æ¸…é™¤ç®—æ³•"><a href="#1-2-ä¸‰è‰²æ ‡è®°æ³•-å³æ ‡è®°-æ¸…é™¤ç®—æ³•" class="headerlink" title="1.2 ä¸‰è‰²æ ‡è®°æ³•(å³æ ‡è®°-æ¸…é™¤ç®—æ³•)"></a>1.2 ä¸‰è‰²æ ‡è®°æ³•(å³<strong>æ ‡è®°-æ¸…é™¤</strong>ç®—æ³•)</h4><ul><li>åˆå§‹çŠ¶æ€ä¸‹æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯ç™½è‰²çš„ã€‚</li><li>ä»æ ¹èŠ‚ç‚¹å¼€å§‹éå†æ‰€æœ‰å¯¹è±¡ï¼ŒæŠŠéå†åˆ°çš„å¯¹è±¡å˜æˆç°è‰²å¯¹è±¡</li><li>éå†ç°è‰²å¯¹è±¡ï¼Œå°†ç°è‰²å¯¹è±¡å¼•ç”¨çš„å¯¹è±¡ä¹Ÿå˜æˆç°è‰²å¯¹è±¡ï¼Œç„¶åå°†éå†è¿‡çš„ç°è‰²å¯¹è±¡å˜æˆé»‘è‰²å¯¹è±¡ã€‚</li><li>å¾ªç¯æ­¥éª¤3ï¼Œç›´åˆ°ç°è‰²å¯¹è±¡å…¨éƒ¨å˜é»‘è‰²ã€‚</li><li>é€šè¿‡å†™å±éšœ(write-barrier)æ£€æµ‹å¯¹è±¡æœ‰å˜åŒ–ï¼Œé‡å¤ä»¥ä¸Šæ“ä½œ</li><li>æ”¶é›†æ‰€æœ‰ç™½è‰²å¯¹è±¡ï¼ˆåƒåœ¾ï¼‰ã€‚</li><li>é€šå¸¸å°å¯¹è±¡è¿‡å¤šä¼šå¯¼è‡´GCä¸‰è‰²æ³•æ¶ˆè€—è¿‡å¤šçš„GPUã€‚ä¼˜åŒ–æ€è·¯æ˜¯ï¼Œå‡å°‘å¯¹è±¡åˆ†é…ã€‚</li></ul><h4 id="1-3-STWï¼ˆStop-The-Worldï¼‰"><a href="#1-3-STWï¼ˆStop-The-Worldï¼‰" class="headerlink" title="1.3 STWï¼ˆStop The Worldï¼‰"></a>1.3 STWï¼ˆStop The Worldï¼‰</h4><ul><li>ä¸ºäº†é¿å…åœ¨ GC çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹è±¡ä¹‹é—´çš„å¼•ç”¨å…³ç³»å‘ç”Ÿæ–°çš„å˜æ›´ï¼Œä½¿å¾—GCçš„ç»“æœå‘ç”Ÿé”™è¯¯ï¼ˆå¦‚GCè¿‡ç¨‹ä¸­æ–°å¢äº†ä¸€ä¸ªå¼•ç”¨ï¼Œä½†æ˜¯ç”±äºæœªæ‰«æåˆ°è¯¥å¼•ç”¨å¯¼è‡´å°†è¢«å¼•ç”¨çš„å¯¹è±¡æ¸…é™¤äº†ï¼‰ï¼Œåœæ­¢æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„åç¨‹ã€‚</li><li>STWå¯¹æ€§èƒ½æœ‰ä¸€äº›å½±å“ï¼ŒGolangç›®å‰å·²ç»å¯ä»¥åšåˆ°1msä»¥ä¸‹çš„STWã€‚</li></ul><h4 id="1-4-å†™å±éšœ-Write-Barrier"><a href="#1-4-å†™å±éšœ-Write-Barrier" class="headerlink" title="1.4 å†™å±éšœ(Write Barrier)"></a>1.4 å†™å±éšœ(Write Barrier)</h4><ul><li>ä¸ºäº†é¿å…GCçš„è¿‡ç¨‹ä¸­æ–°ä¿®æ”¹çš„å¼•ç”¨å…³ç³»åˆ°GCçš„ç»“æœå‘ç”Ÿé”™è¯¯ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡ŒSTWã€‚ä½†æ˜¯STWä¼šå½±å“ç¨‹åºçš„æ€§èƒ½ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦é€šè¿‡å†™å±éšœæŠ€æœ¯å°½å¯èƒ½åœ°ç¼©çŸ­STWçš„æ—¶é—´ã€‚</li></ul><p>é€ æˆå¼•ç”¨å¯¹è±¡ä¸¢å¤±çš„æ¡ä»¶:</p><p>ä¸€ä¸ªé»‘è‰²çš„èŠ‚ç‚¹Aæ–°å¢äº†æŒ‡å‘ç™½è‰²èŠ‚ç‚¹Cçš„å¼•ç”¨ï¼Œå¹¶ä¸”ç™½è‰²èŠ‚ç‚¹Cæ²¡æœ‰é™¤äº†Aä¹‹å¤–çš„å…¶ä»–ç°è‰²èŠ‚ç‚¹çš„å¼•ç”¨ï¼Œæˆ–è€…å­˜åœ¨ä½†æ˜¯åœ¨GCè¿‡ç¨‹ä¸­è¢«åˆ é™¤äº†ã€‚ä»¥ä¸Šä¸¤ä¸ªæ¡ä»¶éœ€è¦åŒæ—¶æ»¡è¶³ï¼šæ»¡è¶³æ¡ä»¶1æ—¶è¯´æ˜èŠ‚ç‚¹Aå·²æ‰«æå®Œæ¯•ï¼ŒAæŒ‡å‘Cçš„å¼•ç”¨æ— æ³•å†è¢«æ‰«æåˆ°ï¼›æ»¡è¶³æ¡ä»¶2æ—¶è¯´æ˜ç™½è‰²èŠ‚ç‚¹Cæ— å…¶ä»–ç°è‰²èŠ‚ç‚¹çš„å¼•ç”¨äº†ï¼Œå³æ‰«æç»“æŸåä¼šè¢«å¿½ç•¥ ã€‚</p><p>å†™å±éšœç ´åä¸¤ä¸ªæ¡ä»¶å…¶ä¸€å³å¯</p><ul><li>ç ´åæ¡ä»¶1ï¼šDijistraå†™å±éšœ</li></ul><p>æ»¡è¶³å¼ºä¸‰è‰²ä¸å˜æ€§ï¼šé»‘è‰²èŠ‚ç‚¹ä¸å…è®¸å¼•ç”¨ç™½è‰²èŠ‚ç‚¹ å½“é»‘è‰²èŠ‚ç‚¹æ–°å¢äº†ç™½è‰²èŠ‚ç‚¹çš„å¼•ç”¨æ—¶ï¼Œå°†å¯¹åº”çš„ç™½è‰²èŠ‚ç‚¹æ”¹ä¸ºç°è‰²</p><ul><li>ç ´åæ¡ä»¶2ï¼šYuasaå†™å±éšœ</li></ul><p>æ»¡è¶³å¼±ä¸‰è‰²ä¸å˜æ€§ï¼šé»‘è‰²èŠ‚ç‚¹å…è®¸å¼•ç”¨ç™½è‰²èŠ‚ç‚¹ï¼Œä½†æ˜¯è¯¥ç™½è‰²èŠ‚ç‚¹æœ‰å…¶ä»–ç°è‰²èŠ‚ç‚¹é—´æ¥çš„å¼•ç”¨ï¼ˆç¡®ä¿ä¸ä¼šè¢«é—æ¼ï¼‰ å½“ç™½è‰²èŠ‚ç‚¹è¢«åˆ é™¤äº†ä¸€ä¸ªå¼•ç”¨æ—¶ï¼Œæ‚²è§‚åœ°è®¤ä¸ºå®ƒä¸€å®šä¼šè¢«ä¸€ä¸ªé»‘è‰²èŠ‚ç‚¹æ–°å¢å¼•ç”¨ï¼Œæ‰€ä»¥å°†å®ƒç½®ä¸ºç°è‰²</p><h4 id="1-5-GC-çš„è§¦å‘æ¡ä»¶ï¼Ÿ"><a href="#1-5-GC-çš„è§¦å‘æ¡ä»¶ï¼Ÿ" class="headerlink" title="1.5 GC çš„è§¦å‘æ¡ä»¶ï¼Ÿ"></a>1.5 GC çš„è§¦å‘æ¡ä»¶ï¼Ÿ</h4><p>ä¸»åŠ¨è§¦å‘(æ‰‹åŠ¨è§¦å‘)ï¼Œé€šè¿‡è°ƒç”¨ runtime.GC æ¥è§¦å‘GCï¼Œæ­¤è°ƒç”¨é˜»å¡å¼åœ°ç­‰å¾…å½“å‰GCè¿è¡Œå®Œæ¯•ã€‚<br>è¢«åŠ¨è§¦å‘ï¼Œåˆ†ä¸ºä¸¤ç§æ–¹å¼ï¼š</p><ul><li>ä½¿ç”¨æ­¥è°ƒï¼ˆPacingï¼‰ç®—æ³•ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯æ§åˆ¶å†…å­˜å¢é•¿çš„æ¯”ä¾‹,æ¯æ¬¡å†…å­˜åˆ†é…æ—¶æ£€æŸ¥å½“å‰å†…å­˜åˆ†é…é‡æ˜¯å¦å·²è¾¾åˆ°é˜ˆå€¼ï¼ˆç¯å¢ƒå˜é‡GOGCï¼‰ï¼šé»˜è®¤100%ï¼Œå³å½“å†…å­˜æ‰©å¤§ä¸€å€æ—¶å¯ç”¨GCã€‚</li><li>ä½¿ç”¨ç³»ç»Ÿç›‘æ§ï¼Œå½“è¶…è¿‡ä¸¤åˆ†é’Ÿæ²¡æœ‰äº§ç”Ÿä»»ä½•GCæ—¶ï¼Œå¼ºåˆ¶è§¦å‘ GCã€‚</li></ul><h3 id="2-GPM-è°ƒåº¦-å’Œ-CSP-æ¨¡å‹"><a href="#2-GPM-è°ƒåº¦-å’Œ-CSP-æ¨¡å‹" class="headerlink" title="2. GPM è°ƒåº¦ å’Œ CSP æ¨¡å‹"></a>2. GPM è°ƒåº¦ å’Œ CSP æ¨¡å‹</h3><p><strong>åç¨‹çš„æ·±å…¥å‰–æ</strong></p><h4 id="2-1-CSP-æ¨¡å‹ï¼Ÿ"><a href="#2-1-CSP-æ¨¡å‹ï¼Ÿ" class="headerlink" title="2.1 CSP æ¨¡å‹ï¼Ÿ"></a>2.1 CSP æ¨¡å‹ï¼Ÿ</h4><p>CSP æ¨¡å‹æ˜¯â€œä»¥é€šä¿¡çš„æ–¹å¼æ¥å…±äº«å†…å­˜â€ï¼Œä¸åŒäºä¼ ç»Ÿçš„å¤šçº¿ç¨‹é€šè¿‡å…±äº«å†…å­˜æ¥é€šä¿¡ã€‚ç”¨äºæè¿°ä¸¤ä¸ªç‹¬ç«‹çš„å¹¶å‘å®ä½“é€šè¿‡å…±äº«çš„é€šè®¯ channel (ç®¡é“)è¿›è¡Œé€šä¿¡çš„å¹¶å‘æ¨¡å‹ã€‚</p><h4 id="2-2-GPM-åˆ†åˆ«æ˜¯ä»€ä¹ˆã€åˆ†åˆ«æœ‰å¤šå°‘æ•°é‡ï¼Ÿ"><a href="#2-2-GPM-åˆ†åˆ«æ˜¯ä»€ä¹ˆã€åˆ†åˆ«æœ‰å¤šå°‘æ•°é‡ï¼Ÿ" class="headerlink" title="2.2 GPM åˆ†åˆ«æ˜¯ä»€ä¹ˆã€åˆ†åˆ«æœ‰å¤šå°‘æ•°é‡ï¼Ÿ"></a>2.2 GPM åˆ†åˆ«æ˜¯ä»€ä¹ˆã€åˆ†åˆ«æœ‰å¤šå°‘æ•°é‡ï¼Ÿ</h4><ul><li>Gï¼ˆGoroutineï¼‰ï¼šå³Goåç¨‹ï¼Œæ¯ä¸ªgoå…³é”®å­—éƒ½ä¼šåˆ›å»ºä¸€ä¸ªåç¨‹ã€‚</li><li>Mï¼ˆMachineï¼‰ï¼šå·¥ä½œçº¿ç¨‹ï¼Œåœ¨Goä¸­ç§°ä¸ºMachineï¼Œæ•°é‡å¯¹åº”çœŸå®çš„CPUæ•°ï¼ˆçœŸæ­£å¹²æ´»çš„å¯¹è±¡ï¼‰ã€‚</li><li>Pï¼ˆProcessorï¼‰ï¼šå¤„ç†å™¨ï¼ˆGoä¸­å®šä¹‰çš„ä¸€ä¸ªæ‘¡å¿µï¼ŒéCPUï¼‰ï¼ŒåŒ…å«è¿è¡ŒGoä»£ç çš„å¿…è¦èµ„æºï¼Œç”¨æ¥è°ƒåº¦ G å’Œ M ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œå…¶æ•°é‡å¯é€šè¿‡ GOMAXPROCS() æ¥è®¾ç½®ï¼Œé»˜è®¤ä¸ºæ ¸å¿ƒæ•°ã€‚</li></ul><p>Må¿…é¡»æ‹¥æœ‰Pæ‰å¯ä»¥æ‰§è¡ŒGä¸­çš„ä»£ç ï¼ŒPå«æœ‰ä¸€ä¸ªåŒ…å«å¤šä¸ªGçš„é˜Ÿåˆ—ï¼ŒPå¯ä»¥è°ƒåº¦Gäº¤ç”±Mæ‰§è¡Œã€‚</p><h4 id="2-3-Goroutineè°ƒåº¦ç­–ç•¥"><a href="#2-3-Goroutineè°ƒåº¦ç­–ç•¥" class="headerlink" title="2.3 Goroutineè°ƒåº¦ç­–ç•¥"></a>2.3 Goroutineè°ƒåº¦ç­–ç•¥</h4><ul><li>é˜Ÿåˆ—è½®è½¬ï¼šP ä¼šå‘¨æœŸæ€§çš„å°†Gè°ƒåº¦åˆ°Mä¸­æ‰§è¡Œï¼Œæ‰§è¡Œä¸€æ®µæ—¶é—´åï¼Œä¿å­˜ä¸Šä¸‹æ–‡ï¼Œå°†Gæ”¾åˆ°é˜Ÿåˆ—å°¾éƒ¨ï¼Œç„¶åä»é˜Ÿåˆ—ä¸­å†å–å‡ºä¸€ä¸ªGè¿›è¡Œè°ƒåº¦ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒPè¿˜ä¼šå‘¨æœŸæ€§çš„æŸ¥çœ‹å…¨å±€é˜Ÿåˆ—æ˜¯å¦æœ‰Gç­‰å¾…è°ƒåº¦åˆ°Mä¸­æ‰§è¡Œã€‚</li><li>ç³»ç»Ÿè°ƒç”¨ï¼šå½“G0å³å°†è¿›å…¥ç³»ç»Ÿè°ƒç”¨æ—¶ï¼ŒM0å°†é‡Šæ”¾Pï¼Œè¿›è€ŒæŸä¸ªç©ºé—²çš„M1è·å–Pï¼Œç»§ç»­æ‰§è¡ŒPé˜Ÿåˆ—ä¸­å‰©ä¸‹çš„Gã€‚M1çš„æ¥æºæœ‰å¯èƒ½æ˜¯Mçš„ç¼“å­˜æ± ï¼Œä¹Ÿå¯èƒ½æ˜¯æ–°å»ºçš„ã€‚</li><li>å½“G0ç³»ç»Ÿè°ƒç”¨ç»“æŸåï¼Œå¦‚æœæœ‰ç©ºé—²çš„Pï¼Œåˆ™è·å–ä¸€ä¸ªPï¼Œç»§ç»­æ‰§è¡ŒG0ã€‚å¦‚æœæ²¡æœ‰ï¼Œåˆ™å°†G0æ”¾å…¥å…¨å±€é˜Ÿåˆ—ï¼Œç­‰å¾…è¢«å…¶ä»–çš„Pè°ƒåº¦ã€‚ç„¶åM0å°†è¿›å…¥ç¼“å­˜æ± ç¡çœ ã€‚</li></ul><p><img src="https://topgoer.cn/uploads/blog/202111/attach_16b401ee1e07d54d.jpg" alt="null"></p><h3 id="3-CHAN-åŸç†"><a href="#3-CHAN-åŸç†" class="headerlink" title="3. CHAN åŸç†"></a>3. CHAN åŸç†</h3><h4 id="3-1-ç»“æ„ä½“"><a href="#3-1-ç»“æ„ä½“" class="headerlink" title="3.1 ç»“æ„ä½“"></a>3.1 ç»“æ„ä½“</h4><pre class="line-numbers language-none"><code class="language-none">   type hchan struct { qcount   uint  // é˜Ÿåˆ—ä¸­çš„æ€»å…ƒç´ ä¸ªæ•° dataqsiz uint  // ç¯å½¢é˜Ÿåˆ—å¤§å°ï¼Œå³å¯å­˜æ”¾å…ƒç´ çš„ä¸ªæ•° buf      unsafe.Pointer // ç¯å½¢é˜Ÿåˆ—æŒ‡é’ˆ elemsize uint16  //æ¯ä¸ªå…ƒç´ çš„å¤§å° closed   uint32  //æ ‡è¯†å…³é—­çŠ¶æ€ elemtype *_type // å…ƒç´ ç±»å‹ sendx    uint   // å‘é€ç´¢å¼•ï¼Œå…ƒç´ å†™å…¥æ—¶å­˜æ”¾åˆ°é˜Ÿåˆ—ä¸­çš„ä½ç½® recvx    uint   // æ¥æ”¶ç´¢å¼•ï¼Œå…ƒç´ ä»é˜Ÿåˆ—çš„è¯¥ä½ç½®è¯»å‡º recvq    waitq  // ç­‰å¾…è¯»æ¶ˆæ¯çš„goroutineé˜Ÿåˆ— sendq    waitq  // ç­‰å¾…å†™æ¶ˆæ¯çš„goroutineé˜Ÿåˆ— lock mutex  //äº’æ–¥é”ï¼Œchanä¸å…è®¸å¹¶å‘è¯»å†™}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="3-2-è¯»å†™æµç¨‹"><a href="#3-2-è¯»å†™æµç¨‹" class="headerlink" title="3.2 è¯»å†™æµç¨‹"></a>3.2 è¯»å†™æµç¨‹</h4><p><strong>å‘ channel å†™æ•°æ®:</strong></p><p>è‹¥ç­‰å¾…æ¥æ”¶é˜Ÿåˆ— recvq ä¸ä¸ºç©ºï¼Œåˆ™ç¼“å†²åŒºä¸­æ— æ•°æ®æˆ–æ— ç¼“å†²åŒºï¼Œå°†ç›´æ¥ä» recvq å–å‡º G ï¼Œå¹¶æŠŠæ•°æ®å†™å…¥ï¼Œæœ€åæŠŠè¯¥ G å”¤é†’ï¼Œç»“æŸå‘é€è¿‡ç¨‹ã€‚</p><p>è‹¥ç¼“å†²åŒºä¸­æœ‰ç©ºä½™ä½ç½®ï¼Œåˆ™å°†æ•°æ®å†™å…¥ç¼“å†²åŒºï¼Œç»“æŸå‘é€è¿‡ç¨‹ã€‚</p><p>è‹¥ç¼“å†²åŒºä¸­æ²¡æœ‰ç©ºä½™ä½ç½®ï¼Œåˆ™å°†å‘é€æ•°æ®å†™å…¥ Gï¼Œå°†å½“å‰ G åŠ å…¥ sendq ï¼Œè¿›å…¥ç¡çœ ï¼Œç­‰å¾…è¢«è¯» goroutine å”¤é†’ã€‚</p><p><strong>ä» channel è¯»æ•°æ®</strong></p><p>è‹¥ç­‰å¾…å‘é€é˜Ÿåˆ— sendq ä¸ä¸ºç©ºï¼Œä¸”æ²¡æœ‰ç¼“å†²åŒºï¼Œç›´æ¥ä» sendq ä¸­å–å‡º G ï¼ŒæŠŠ G ä¸­æ•°æ®è¯»å‡ºï¼Œæœ€åæŠŠ G å”¤é†’ï¼Œç»“æŸè¯»å–è¿‡ç¨‹ã€‚</p><p>å¦‚æœç­‰å¾…å‘é€é˜Ÿåˆ— sendq ä¸ä¸ºç©ºï¼Œè¯´æ˜ç¼“å†²åŒºå·²æ»¡ï¼Œä»ç¼“å†²åŒºä¸­é¦–éƒ¨è¯»å‡ºæ•°æ®ï¼ŒæŠŠ G ä¸­æ•°æ®å†™å…¥ç¼“å†²åŒºå°¾éƒ¨ï¼ŒæŠŠ G å”¤é†’ï¼Œç»“æŸè¯»å–è¿‡ç¨‹ã€‚</p><p>å¦‚æœç¼“å†²åŒºä¸­æœ‰æ•°æ®ï¼Œåˆ™ä»ç¼“å†²åŒºå–å‡ºæ•°æ®ï¼Œç»“æŸè¯»å–è¿‡ç¨‹ã€‚</p><p>å°†å½“å‰ goroutine åŠ å…¥ recvq ï¼Œè¿›å…¥ç¡çœ ï¼Œç­‰å¾…è¢«å†™ goroutine å”¤é†’ã€‚</p><p><strong>å…³é—­ channel</strong></p><p>1.å…³é—­ channel æ—¶ä¼šå°† recvq ä¸­çš„ G å…¨éƒ¨å”¤é†’ï¼Œæœ¬è¯¥å†™å…¥ G çš„æ•°æ®ä½ç½®ä¸º nilã€‚å°† sendq ä¸­çš„ G å…¨éƒ¨å”¤é†’ï¼Œä½†æ˜¯è¿™äº› G ä¼š panicã€‚</p><p>panic å‡ºç°çš„åœºæ™¯è¿˜æœ‰ï¼š</p><ul><li><p>å…³é—­å€¼ä¸º nil çš„ channel</p></li><li><p>å…³é—­å·²ç»å…³é—­çš„ channel</p></li><li><p>å‘å·²ç»å…³é—­çš„ channel ä¸­å†™æ•°æ®</p></li></ul><h4 id="3-2-æ— ç¼“å†²-Chan-çš„å‘é€å’Œæ¥æ”¶æ˜¯å¦åŒæ­¥"><a href="#3-2-æ— ç¼“å†²-Chan-çš„å‘é€å’Œæ¥æ”¶æ˜¯å¦åŒæ­¥" class="headerlink" title="3.2 æ— ç¼“å†² Chan çš„å‘é€å’Œæ¥æ”¶æ˜¯å¦åŒæ­¥?"></a>3.2 æ— ç¼“å†² Chan çš„å‘é€å’Œæ¥æ”¶æ˜¯å¦åŒæ­¥?</h4><pre class="line-numbers language-none"><code class="language-none">// æ— ç¼“å†²çš„channelç”±äºæ²¡æœ‰ç¼“å†²å‘é€å’Œæ¥æ”¶éœ€è¦åŒæ­¥ch := make(chan int)   //æœ‰ç¼“å†²channelä¸è¦æ±‚å‘é€å’Œæ¥æ”¶æ“ä½œåŒæ­¥ch := make(chan int, 2)  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>channel æ— ç¼“å†²æ—¶ï¼Œå‘é€é˜»å¡ç›´åˆ°æ•°æ®è¢«æ¥æ”¶ï¼Œæ¥æ”¶é˜»å¡ç›´åˆ°è¯»åˆ°æ•°æ®ï¼›channelæœ‰ç¼“å†²æ—¶ï¼Œå½“ç¼“å†²æ»¡æ—¶å‘é€é˜»å¡ï¼Œå½“ç¼“å†²ç©ºæ—¶æ¥æ”¶é˜»å¡ã€‚</p><h4 id="3-3-çº¿ç¨‹å®‰å…¨"><a href="#3-3-çº¿ç¨‹å®‰å…¨" class="headerlink" title="3.3 çº¿ç¨‹å®‰å…¨"></a>3.3 çº¿ç¨‹å®‰å…¨</h4><p>Channel å¯ä»¥ç†è§£æ˜¯ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºçš„é˜Ÿåˆ—ï¼Œé€šè¿‡ç®¡é“è¿›è¡Œé€šä¿¡,å‘é€ä¸€ä¸ªæ•°æ®åˆ°Channelå’Œä»Channelæ¥æ”¶ä¸€ä¸ªæ•°æ®éƒ½æ˜¯åŸå­æ€§çš„ã€‚ä¸è¦é€šè¿‡å…±äº«å†…å­˜æ¥é€šä¿¡ï¼Œè€Œæ˜¯é€šè¿‡é€šä¿¡æ¥å…±äº«å†…å­˜ï¼Œå‰è€…å°±æ˜¯ä¼ ç»Ÿçš„åŠ é”ï¼Œåè€…å°±æ˜¯Channelã€‚è®¾è®¡Channelçš„ä¸»è¦ç›®çš„å°±æ˜¯åœ¨å¤šä»»åŠ¡é—´ä¼ é€’æ•°æ®çš„ï¼Œæœ¬èº«å°±æ˜¯å®‰å…¨çš„ã€‚</p><h4 id="3-4-å¼‚æ­¥"><a href="#3-4-å¼‚æ­¥" class="headerlink" title="3.4 å¼‚æ­¥"></a>3.4 å¼‚æ­¥</h4><p>Channelæ˜¯å¼‚æ­¥è¿›è¡Œçš„, channelå­˜åœ¨3ç§çŠ¶æ€ï¼š</p><ul><li>nilï¼Œæœªåˆå§‹åŒ–çš„çŠ¶æ€ï¼Œåªè¿›è¡Œäº†å£°æ˜ï¼Œæˆ–è€…æ‰‹åŠ¨èµ‹å€¼ä¸ºnil</li><li>activeï¼Œæ­£å¸¸çš„channelï¼Œå¯è¯»æˆ–è€…å¯å†™</li><li>closedï¼Œå·²å…³é—­ï¼Œåƒä¸‡ä¸è¦è¯¯è®¤ä¸ºå…³é—­channelåï¼Œchannelçš„å€¼æ˜¯nil</li></ul><table><thead><tr><th align="left">æ“ä½œ</th><th align="left">ä¸€ä¸ªé›¶å€¼nilé€šé“</th><th align="left">ä¸€ä¸ªéé›¶å€¼ä½†å·²å…³é—­çš„é€šé“</th><th align="left">ä¸€ä¸ªéé›¶å€¼ä¸”å°šæœªå…³é—­çš„é€šé“</th></tr></thead><tbody><tr><td align="left">å…³é—­</td><td align="left">äº§ç”Ÿææ…Œ</td><td align="left">äº§ç”Ÿææ…Œ</td><td align="left">æˆåŠŸå…³é—­</td></tr><tr><td align="left">å‘é€æ•°æ®</td><td align="left">æ°¸ä¹…é˜»å¡</td><td align="left">äº§ç”Ÿææ…Œ</td><td align="left">é˜»å¡æˆ–è€…æˆåŠŸå‘é€</td></tr><tr><td align="left">æ¥æ”¶æ•°æ®</td><td align="left">æ°¸ä¹…é˜»å¡</td><td align="left">æ°¸ä¸é˜»å¡</td><td align="left">é˜»å¡æˆ–è€…æˆåŠŸæ¥æ”¶</td></tr></tbody></table><h3 id="4-context-ç»“æ„åŸç†"><a href="#4-context-ç»“æ„åŸç†" class="headerlink" title="4. context ç»“æ„åŸç†"></a>4. context ç»“æ„åŸç†</h3><h4 id="4-1-ç”¨é€”"><a href="#4-1-ç”¨é€”" class="headerlink" title="4.1 ç”¨é€”"></a>4.1 ç”¨é€”</h4><p>Contextï¼ˆä¸Šä¸‹æ–‡ï¼‰æ˜¯Golangåº”ç”¨å¼€å‘å¸¸ç”¨çš„å¹¶å‘æ§åˆ¶æŠ€æœ¯ ï¼Œå®ƒå¯ä»¥æ§åˆ¶ä¸€ç»„å‘ˆæ ‘çŠ¶ç»“æ„çš„goroutineï¼Œæ¯ä¸ªgoroutineæ‹¥æœ‰ç›¸åŒçš„ä¸Šä¸‹æ–‡ã€‚Context æ˜¯å¹¶å‘å®‰å…¨çš„ï¼Œä¸»è¦æ˜¯ç”¨äºæ§åˆ¶å¤šä¸ªåç¨‹ä¹‹é—´çš„åä½œã€å–æ¶ˆæ“ä½œã€‚</p><p><img src="https://topgoer.cn/uploads/blog/202111/attach_16b40224aa38da32.jpg" alt="null"></p><h4 id="4-2-æ•°æ®ç»“æ„"><a href="#4-2-æ•°æ®ç»“æ„" class="headerlink" title="4.2 æ•°æ®ç»“æ„"></a>4.2 æ•°æ®ç»“æ„</h4><p>Context åªå®šä¹‰äº†æ¥å£ï¼Œå‡¡æ˜¯å®ç°è¯¥æ¥å£çš„ç±»éƒ½å¯ç§°ä¸ºæ˜¯ä¸€ç§ contextã€‚</p><p>å¹¶å‘æ§åˆ¶ç¥å™¨ä¹‹Context</p><pre class="line-numbers language-none"><code class="language-none">  type Context interface {   Deadline() (deadline time.Time, ok bool)   Done() &lt;-chan struct{}   Err() error   Value(key interface{}) interface{}}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ã€ŒDeadlineã€ æ–¹æ³•ï¼šå¯ä»¥è·å–è®¾ç½®çš„æˆªæ­¢æ—¶é—´ï¼Œè¿”å›å€¼ deadline æ˜¯æˆªæ­¢æ—¶é—´ï¼Œåˆ°äº†è¿™ä¸ªæ—¶é—´ï¼ŒContext ä¼šè‡ªåŠ¨å‘èµ·å–æ¶ˆè¯·æ±‚ï¼Œè¿”å›å€¼ ok è¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†æˆªæ­¢æ—¶é—´ã€‚</li><li>ã€ŒDoneã€ æ–¹æ³•ï¼šè¿”å›ä¸€ä¸ªåªè¯»çš„ channel ï¼Œç±»å‹ä¸º struct{}ã€‚å¦‚æœè¿™ä¸ª chan å¯ä»¥è¯»å–ï¼Œè¯´æ˜å·²ç»å‘å‡ºäº†å–æ¶ˆä¿¡å·ï¼Œå¯ä»¥åšæ¸…ç†æ“ä½œï¼Œç„¶åé€€å‡ºåç¨‹ï¼Œé‡Šæ”¾èµ„æºã€‚</li><li>ã€ŒErrã€ æ–¹æ³•ï¼šè¿”å›Context è¢«å–æ¶ˆçš„åŸå› ã€‚</li><li>ã€ŒValueã€ æ–¹æ³•ï¼šè·å– Context ä¸Šç»‘å®šçš„å€¼ï¼Œæ˜¯ä¸€ä¸ªé”®å€¼å¯¹ï¼Œé€šè¿‡ key æ¥è·å–å¯¹åº”çš„å€¼ã€‚</li></ul><h3 id="5-ç«æ€ã€å†…å­˜é€ƒé€¸"><a href="#5-ç«æ€ã€å†…å­˜é€ƒé€¸" class="headerlink" title="5. ç«æ€ã€å†…å­˜é€ƒé€¸"></a>5. ç«æ€ã€å†…å­˜é€ƒé€¸</h3><p><strong>å¹¶å‘æ§åˆ¶ï¼ŒåŒæ­¥åŸè¯­ sync åŒ…</strong></p><h4 id="5-1-ç«æ€"><a href="#5-1-ç«æ€" class="headerlink" title="5.1 ç«æ€"></a>5.1 ç«æ€</h4><p>èµ„æºç«äº‰ï¼Œå°±æ˜¯åœ¨ç¨‹åºä¸­ï¼ŒåŒä¸€å—å†…å­˜åŒæ—¶è¢«å¤šä¸ª goroutine è®¿é—®ã€‚æˆ‘ä»¬ä½¿ç”¨ go buildã€go runã€go test å‘½ä»¤æ—¶ï¼Œæ·»åŠ  -race æ ‡è¯†å¯ä»¥æ£€æŸ¥ä»£ç ä¸­æ˜¯å¦å­˜åœ¨èµ„æºç«äº‰ã€‚</p><p>è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ç»™èµ„æºè¿›è¡ŒåŠ é”ï¼Œè®©å…¶åœ¨åŒä¸€æ—¶åˆ»åªèƒ½è¢«ä¸€ä¸ªåç¨‹æ¥æ“ä½œã€‚</p><ul><li>sync.Mutex</li><li>sync.RWMutex</li></ul><h4 id="5-2-é€ƒé€¸åˆ†æ"><a href="#5-2-é€ƒé€¸åˆ†æ" class="headerlink" title="5.2 é€ƒé€¸åˆ†æ"></a>5.2 é€ƒé€¸åˆ†æ</h4><p><strong>é¢è¯•å®˜é—®æˆ‘goé€ƒé€¸åœºæ™¯æœ‰å“ªäº›ï¼Œæˆ‘ï¼Ÿï¼Ÿï¼Ÿ</strong></p><p>ã€Œé€ƒé€¸åˆ†æã€å°±æ˜¯ç¨‹åºè¿è¡Œæ—¶å†…å­˜çš„åˆ†é…ä½ç½®(æ ˆæˆ–å †)ï¼Œæ˜¯ç”±ç¼–è¯‘å™¨æ¥ç¡®å®šçš„ã€‚å †é€‚åˆä¸å¯é¢„çŸ¥å¤§å°çš„å†…å­˜åˆ†é…ã€‚ä½†æ˜¯ä¸ºæ­¤ä»˜å‡ºçš„ä»£ä»·æ˜¯åˆ†é…é€Ÿåº¦è¾ƒæ…¢ï¼Œè€Œä¸”ä¼šå½¢æˆå†…å­˜ç¢ç‰‡ã€‚</p><p>é€ƒé€¸åœºæ™¯ï¼š</p><ul><li>æŒ‡é’ˆé€ƒé€¸</li><li>æ ˆç©ºé—´ä¸è¶³é€ƒé€¸</li><li>åŠ¨æ€ç±»å‹é€ƒé€¸</li><li>é—­åŒ…å¼•ç”¨å¯¹è±¡é€ƒé€¸</li></ul><p>å…·ä½“å†…å®¹çœ‹ä¸‹ä¸€ç¯‡æ–‡ç« </p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¬”è®° </tag>
            
            <tag> Golang </tag>
            
            <tag> åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DockeråŸºæœ¬æ“ä½œæ‰‹å†Œ</title>
      <link href="/hypo-Z.github.io/2022/02/17/docker-ji-ben-cao-zuo-shou-ce/"/>
      <url>/hypo-Z.github.io/2022/02/17/docker-ji-ben-cao-zuo-shou-ce/</url>
      
        <content type="html"><![CDATA[<h1 id="dockeré•œåƒå¸¸ç”¨å‘½ä»¤"><a href="#dockeré•œåƒå¸¸ç”¨å‘½ä»¤" class="headerlink" title="dockeré•œåƒå¸¸ç”¨å‘½ä»¤"></a>dockeré•œåƒå¸¸ç”¨å‘½ä»¤</h1><p>attach   å°†æœ¬åœ°æ ‡å‡†è¾“å…¥ã€è¾“å‡ºå’Œé”™è¯¯æµé™„åŠ åˆ°æ­£åœ¨è¿è¡Œçš„å®¹å™¨ä¸­</p><p>build    ä»Dockerfileæ„å»ºä¸€ä¸ªæ˜ åƒ</p><p>commit   ä»å®¹å™¨çš„æ›´æ”¹ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ˜ åƒ</p><p>cp     åœ¨å®¹å™¨å’Œæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¹‹é—´å¤åˆ¶æ–‡ä»¶/æ–‡ä»¶å¤¹</p><p>create   åˆ›å»ºä¸€ä¸ªæ–°å®¹å™¨</p><p>diff    æ£€æŸ¥å®¹å™¨æ–‡ä»¶ç³»ç»Ÿä¸Šæ–‡ä»¶æˆ–ç›®å½•çš„æ›´æ”¹</p><p>events   ä»æœåŠ¡å™¨è·å–å®æ—¶äº‹ä»¶</p><p>exec    åœ¨æ­£åœ¨è¿è¡Œçš„å®¹å™¨ä¸­è¿è¡Œå‘½ä»¤</p><p>export   å°†å®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿå¯¼å‡ºä¸ºtarå­˜æ¡£æ–‡ä»¶</p><p>history   æ˜¾ç¤ºå›¾åƒçš„å†å²</p><p>images   å›¾ç‰‡åˆ—è¡¨</p><p>import   ä»tarballå¯¼å…¥å†…å®¹ä»¥åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿæ˜ åƒ</p><p>info    æ˜¾ç¤ºæ•´ä¸ªç³»ç»Ÿçš„ä¿¡æ¯</p><p>inspect   è¿”å›Dockerå¯¹è±¡çš„åº•å±‚ä¿¡æ¯</p><p>kill    æ€æ­»ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨</p><p>load    ä»tarå­˜æ¡£æˆ–STDINåŠ è½½å›¾åƒ</p><p>login    ç™»å½•åˆ°Dockeræ³¨å†Œè¡¨</p><p>logout   ä»Dockeræ³¨å†Œè¡¨æ³¨é”€</p><p>logs    è·å–å®¹å™¨çš„æ—¥å¿—</p><p>pause    æš‚åœä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ä¸­çš„æ‰€æœ‰è¿›ç¨‹</p><p>port    åˆ—å‡ºå®¹å™¨çš„ç«¯å£æ˜ å°„æˆ–ç‰¹å®šæ˜ å°„</p><p>ps     åˆ—è¡¨å®¹å™¨</p><p>pull    ä»æ³¨å†Œè¡¨ä¸­æå–æ˜ åƒæˆ–å­˜å‚¨åº“</p><p>push    å°†æ˜ åƒæˆ–å­˜å‚¨åº“æ¨å…¥æ³¨å†Œè¡¨</p><p>rename   é‡å‘½åä¸€ä¸ªå®¹å™¨</p><p>restart   é‡æ–°å¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨</p><p>rm     ç§»é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨</p><p>rmi     åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå›¾åƒ</p><p>run     åœ¨æ–°å®¹å™¨ä¸­è¿è¡Œå‘½ä»¤<br>å¸¸ç”¨è®¾ç½®å‚æ•°ï¼š</p><ul><li>-rm å³è¿è¡Œç»“æŸåè‡ªåŠ¨åˆ é™¤å®¹å™¨</li><li>-d åå°è¿è¡Œ</li><li>-p è¿è¡Œç«¯å£</li><li>-l è¿æ¥å¦ä¸€ä¸ªå®¹å™¨</li></ul><p>save    å°†ä¸€ä¸ªæˆ–å¤šä¸ªå›¾åƒä¿å­˜åˆ°tarå­˜æ¡£æ–‡ä»¶(é»˜è®¤æƒ…å†µä¸‹æµåˆ°STDOUT)</p><p>search   åœ¨Dockeré›†çº¿å™¨ä¸­æœç´¢å›¾åƒ</p><p>start    å¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªåœæ­¢çš„å®¹å™¨</p><p>stats    æ˜¾ç¤ºå®¹å™¨èµ„æºä½¿ç”¨ç»Ÿè®¡æ•°æ®çš„å®æ—¶æµ</p><p>stop    åœæ­¢ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åœ¨è¿è¡Œçš„å®¹å™¨</p><p>tag     åˆ›å»ºä¸€ä¸ªå¼•ç”¨SOURCE_IMAGEçš„æ ‡è®°TARGET_IMAGE</p><p>top     æ˜¾ç¤ºå®¹å™¨çš„è¿è¡Œè¿›ç¨‹</p><p>unpause   åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ä¸­æš‚åœæ‰€æœ‰è¿›ç¨‹</p><p>update   æ›´æ–°ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨çš„é…ç½®</p><p>version   æ˜¾ç¤ºDockerç‰ˆæœ¬ä¿¡æ¯</p><p>wait    é˜»å¡ï¼Œç›´åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨åœæ­¢ï¼Œç„¶åæ‰“å°å®ƒä»¬çš„é€€å‡ºä»£ç </p><h1 id="dockerå®¹å™¨åŸºæœ¬æ“ä½œ"><a href="#dockerå®¹å™¨åŸºæœ¬æ“ä½œ" class="headerlink" title="dockerå®¹å™¨åŸºæœ¬æ“ä½œ"></a>dockerå®¹å™¨åŸºæœ¬æ“ä½œ</h1><p>ä¸€.å®¿ä¸»æœºçš„å†…å®¹æ‹·è´åˆ°å¯åŠ¨çš„dockerå®¹å™¨ä¸­<br>1.æŸ¥çœ‹dockerå®¹å™¨çŠ¶æ€</p><pre class="line-numbers language-none"><code class="language-none">docker ps-a <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>2.å¦‚æœæ²¡æœ‰å¯åŠ¨dockerå®¹å™¨åˆ™å¯åŠ¨dockerå®¹å™¨</p><pre class="line-numbers language-none"><code class="language-none">docker start å®¹å™¨åæˆ–è€…å®¹å™¨ID<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>3.è¿›å…¥å®¹å™¨</p><pre class="line-numbers language-none"><code class="language-none">docker exec -it å®¹å™¨å/å®¹å™¨ID  /bin/bash<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>4.å…‹éš†å®¿ä¸»æœºä¼šè¯å¹¶åœ¨å®¿ä¸»æœºåˆ›ç«‹æ–‡ä»¶<br>(1)è¿›å…¥å®¹å™¨çš„æ ¹ç›®å½•</p><pre class="line-numbers language-none"><code class="language-none">cd /<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>(2)åˆ›å»ºjhjæ–‡ä»¶,å¹¶å†™å…¥å†…å®¹123456</p><pre class="line-numbers language-none"><code class="language-none">echo 123456 &gt; jhj<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>(3)æ‹·è´åˆ°dockerå®¹å™¨ä¸­</p><pre class="line-numbers language-none"><code class="language-none">docker cp è¦æ‹·è´çš„å®¿ä¸»æœºæ–‡ä»¶æˆ–ç›®å½• å®¹å™¨åç§°:å®¹å™¨æ–‡ä»¶æˆ–ç›®å½•<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>äºŒã€æŸ¥çœ‹å®¹å™¨è¯¦æƒ…<br>1.æŸ¥çœ‹å®¹å™¨è¿è¡Œå†…éƒ¨ç»†èŠ‚ï¼Œæ¯”å¦‚å¯çœ‹å®¹å™¨çš„IP</p><pre class="line-numbers language-none"><code class="language-none">docker inspect å®¹å™¨åï¼šå®¹å™¨ID<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>2.æŸ¥çœ‹å®¹å™¨IP</p><pre class="line-numbers language-none"><code class="language-none">docker inspect --format='{{.NetworkSettings.IPAddress}}` å®¹å™¨å<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>3.åˆ é™¤å®¹å™¨æ³¨æ„åªèƒ½åˆ é™¤åœæ­¢çš„å®¹å™¨</p><pre class="line-numbers language-none"><code class="language-none">docker rm `docker ps -a -q`<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>4.æ¸…ç†æ‰€æœ‰å¤„äºç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨:</p><pre class="line-numbers language-none"><code class="language-none">docker container prune<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="pushè‡³æœ¬åœ°é•œåƒä»“åº“"><a href="#pushè‡³æœ¬åœ°é•œåƒä»“åº“" class="headerlink" title="pushè‡³æœ¬åœ°é•œåƒä»“åº“"></a>pushè‡³æœ¬åœ°é•œåƒä»“åº“</h1><p>1.æŸ¥çœ‹æœ¬åœ°é•œåƒ</p><pre class="line-numbers language-none"><code class="language-none">docker images<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>2.ç»™é•œåƒæ‰“tagæ ‡ç­¾</p><pre class="line-numbers language-none"><code class="language-none">docker tag åŸé•œåƒå:ç‰ˆæœ¬å· æœ¬åœ°ä»“åº“å/ä»“åº“ç®¡ç†è€…/åŸé•œåƒå:ç‰ˆæœ¬å· <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>3.éªŒè¯é•œåƒæ ‡ç­¾</p><pre class="line-numbers language-none"><code class="language-none">docker images<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>4.æ¨é€</p><pre class="line-numbers language-none"><code class="language-none">docker push æœ¬åœ°ä»“åº“å/ä»“åº“ç®¡ç†è€…/åŸé•œåƒå:ç‰ˆæœ¬å· <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ„¿ä½ å½’æ¥å†å°‘å¹´</title>
      <link href="/hypo-Z.github.io/2022/02/16/35-yuan-ni-gui-lai-zai-shao-nian/"/>
      <url>/hypo-Z.github.io/2022/02/16/35-yuan-ni-gui-lai-zai-shao-nian/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘å«å¤©å®¢ï¼Œæˆ‘çš„èƒŒåŒ…æ˜¯æˆ‘åšçš„è‡ªç„¶ç§‘å­¦åšç‰©é¦†ï¼Œè¿™æ˜¯åœ¨éª‘è¡Œçš„æ—åŒºè·¯ä¸Šå’Œå¾’æ­¥çš„æ—¶å€™å¤§æ±Ÿå¤§æ²³é‡Œé¢ç»å¸¸èƒ½æ¡åˆ°çš„ä¸œè¥¿ï¼Œéƒ½æ˜¯ä¸€äº›åŒ–çŸ³ã€è´å£³ä¹‹ç±»çš„ï¼Œæˆ‘æŠŠå®ƒä»¬åšæˆäº†æ‰‹é“¾çºªå¿µå“ï¼Œä¾›ç»è¿‡çš„æ—…äººä»¬æŒ‘é€‰ã€‚</p><p>äº”å…­å²æˆ‘å°±æ•¢ç©¿è¶Šè¿™ç§æ£®æ—ï¼Œå»å±±åŒºé‡Œå»å¯»é¸Ÿï¼Œç…®ä¸¤ä¸ªé’è›™åƒï¼Œæ¯æ¬¡å›æ¥éƒ½ä¼šè¢«æ‰“è„šï¼Œåœ¨å­¦æ ¡é‡Œæ—¶ï¼Œè·Ÿå­¦ç”Ÿä»¬å‡ºå»ç©ï¼Œä¸ªä¸ªéƒ½è¯´æ˜¯æˆ‘å¸¦ä»–ä»¬å‡ºå»çš„ã€‚</p><p>æˆ‘è¦å»ç¿»è›è›ï¼Œæˆ‘è¦å»é€®èœ»èœ“ï¼Œæˆ‘è¿˜è¦å»å·å±±é¸Ÿå›æ¥ï¼Œæˆ‘è¿˜è¦å»æ²Ÿé‡Œé¢ï¼Œæ²³é‡Œé¢ï¼Œé‚£äº›å±±é’é’é‡Œé¢ï¼Œåˆ°äº†å±±ä¸Šï¼Œå»çˆ¬æ‚¬å´–ï¼Œæˆ‘è¿˜è¦èµ°å¾—æ›´è¿œæˆ‘æ‰æ»¡æ„ã€‚</p><p>å› ä¸ºè§¦çŠ¯äº†äººé—´çš„è§„çŸ©ï¼Œæ²¡å­¦è¿‡ä¹Ÿæ²¡äººæ•™è¿‡æˆ‘ã€‚æˆ‘çš„çˆ¶æ¯ï¼Œå¥¹ä»¬æ˜¯è‰ºæœ¯å®¶ï¼Œç”»å®¶ï¼Œä»–ä»¬æ¯ä¸€æ­¥éƒ½æ˜¯è§„çŸ©ï¼Œåœ¨ä»–ä»¬çš„è§‚å¿µå’Œç”»é‡Œä¸èƒ½æœ‰ä¸€ä¸è´¥ç¬”ï¼Œæ ¡é•¿ä¹Ÿä¸å…è®¸ç•™ä¸‹å‡ ä¸ªæˆç»©ä¸åŠæ ¼çš„æœ‰åä¹ æƒ¯çš„å­¦ç”Ÿã€‚</p><p>æˆ‘ä¸å–œæ¬¢è§„çŸ©ï¼Œè·Ÿäººæ‰“äº¤é“è¦è§„çŸ©ï¼Œåœ¨å­¦æ ¡è¦è§„çŸ©ï¼Œåœ¨åŸå¸‚è¦è§„çŸ©ï¼Œåœ¨åº™é‡Œé‡åˆ°äº†ä¸€ä¸ªå’Œå°šè¯´ï¼šè¿™æ˜¯ä¸€æ­¥ä¸€è§„çŸ©çš„åœ°æ–¹ã€‚</p><p>è¿™ä¸ªåœ°æ–¹è¿™ä¹ˆå¤šè§„çŸ©ï¼Œä¸å¦‚é¡ºç€è¿™æ¡æ²³ï¼Œé¡ºç€è¿™ä¸ªå±±å³¡ä¸€ç›´ç©¿è¶Šå‡ºå»ï¼Œçœ‹çœ‹å±±é‚£è¾¹æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œåœ¨å¤§æ±Ÿå¤§æ²³é‡Œï¼Œåœ¨å¤§çŸ³å¤´ä¸Šç¡ä¸€è§‰ï¼Œå°±åˆéƒ½å¿˜è®°æ‰äº†ã€‚</p><p>æˆ‘éå¸¸å–œæ¬¢è·Ÿäººæ‰“äº¤æµï¼Œä½†è¦è®²è§„çŸ©ã€‚æˆ‘åˆä¸æ‡‚è§„çŸ©ï¼Œæ‰€ä»¥æˆ‘å°±è½»è½»çš„æ‰“ä¸€ä¸‹å°±å¥½ï¼Œç„¶åå°±ä¿æŒè·ç¦»å°±å®Œäº†ï¼Œæœ›ç€å¥½çœ‹çš„å¥³ç”Ÿå°±ç¬‘ä¸€ç¬‘ï¼Œè¿œè¿œçš„æœ›ç€æˆ‘å°±è§‰å¾—éå¸¸æ»¡è¶³äº†ã€‚</p><p>æœ‰ä¸€æ¬¡æˆ‘é‡åˆ°äº†ä¸€ä½ç”·å­©ï¼Œå¤§çº¦æœ‰ä¸‰åå²ï¼Œæˆ‘è·Ÿä»–è¯´ï¼šâ€œä½ æ˜¯æˆ‘äº¤çš„æœ€å¤§çš„æœ‹å‹â€ï¼Œä»–è¯´æ€ä¹ˆå¯èƒ½ï¼Œæˆ‘è¯´å› ä¸ºå¹³æ—¶åªæœ‰å°å­©å­æ‰è·Ÿæˆ‘äº¤æµã€‚æ‰€ä»¥åœ¨å–ç»™å­©å­ä»¬ä¸œè¥¿æ—¶ï¼Œæˆ‘å¿ƒé‡Œæƒ³ç€æŠŠæˆ‘èº«ä¸Šçš„æ‰€æœ‰ä¸œè¥¿éƒ½ç»™å­©å­æˆ‘éƒ½ä¸çœ¨ä¸€ä¸‹çœ¼ï¼Œå› ä¸ºæˆ‘è§‰å¾—æˆ‘ä»¬æ˜¯åŒä¸€ç±»äººã€‚</p><p>åœ¨é‚£äº›æ— äººåŒºä¸Šï¼Œé‚£äº›æˆˆå£æ»©ä¸Šï¼Œæ ¹æœ¬æƒ³ä¸èµ·è¿˜æœ‰äººç±»ï¼Œæˆ‘åªæƒ³ç€æ˜å¤©çš„è‰å»å“ªé‡Œæ‹”ä¸€åŒ…è£…æ»¡ã€‚ä¸€å¤©åˆ°æ™šï¼Œæ‰¾åˆ°çš„å°è‰å°±æ‰‹å¿ƒé‡Œä¸€å°æŠŠï¼Œä½†æ˜¯åˆšå¥½å¤Ÿåƒï¼Œæˆ‘ä¹Ÿè§‰å¾—æ˜¯å¤©å ‚äº†ã€‚</p><p>åˆ°äº†ä¸€ä¸ªæ–°çš„ç«å±±å£ï¼Œä¸€æ ¹è‰éƒ½æ²¡æœ‰ï¼Œä¸€ä¸ªèš‚èšæ²¡æœ‰ï¼Œä¸€ä¸ªäººæ²¡æœ‰ï¼Œä¸€ä¸ªç‰›ç¾Šæ²¡æœ‰ï¼Œä¸€ä¸ªæ‘åº„ä¹Ÿæ²¡æœ‰ã€‚åªæœ‰ç©ºæ°”å’Œæ²™å’ŒçŸ³å¤´ã€‚æœ‰æ—¶å€™çœ‹åˆ°çš„æ˜¯ä¸€çœ¼çœ‹ä¸åˆ°è¾¹é™…çš„è’åœ°ï¼Œé‚£è¿™ç‰‡è’åœ°ä¾¿æ˜¯æˆ‘çš„å¤©å ‚ï¼Œå–äº†ä¸€æŠŠå¹²è‰åƒäº†ï¼Œå“å‘€ï¼Œåˆå¯ä»¥å¾€å‰èµ°äº†ï¼åˆå¯ä»¥çœ‹è¿œæ–¹å¤©è¾¹çš„æå…‰å»äº†ï¼Œé‚£æ™¯è±¡æ— ä¸ä¼¦æ¯”ï¼Œå»¶ç»µåƒé‡Œçš„é›ªå±±ï¼Œä¸€çœ¼çœ‹ä¸åˆ°è¾¹çš„æ–°ç–†çš„é›ªå±±ã€‚</p><p>ç™»å±±å›æ¥ï¼Œæˆ‘æœ€é«˜å…´çš„äº‹å°±æ˜¯çœ‹è§ä¸€ä¸ªäººï¼Œç»™æˆ‘æ¿€åŠ¨çš„ï¼Œç„¶åä»–ä»¬è·Ÿæˆ‘ä¹°ä¸œè¥¿ï¼Œæˆ‘å°±éå¸¸é«˜å…´ï¼Œå› ä¸ºæˆ‘çŸ¥é“æˆ‘å–åˆ°é’±åˆå¯ä»¥ä¹°åˆ°åƒçš„ï¼ŒèƒŒçš„ã€‚ç„¶åæˆ‘å†ä¹Ÿä¸æ€•æˆ‘èµ°çš„æœ‰å¤šè¿œäº†ã€‚</p><p>â€”â€”å¤©å®¢</p><p>â€”â€”ä¸€å¹³å‡¡ä½†ä¸å­¤ç‹¬çš„æ—…è¡Œè€äºº</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
            <tag> æ–‡ç«  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Šå¤©æ‰åœ¨å·¦ï¼Œç–¯å­åœ¨å³ã€‹è¯»åæ„Ÿ</title>
      <link href="/hypo-Z.github.io/2022/02/12/34-tian-cai-zai-zuo-feng-zi-zai-you-du-hou-gan/"/>
      <url>/hypo-Z.github.io/2022/02/12/34-tian-cai-zai-zuo-feng-zi-zai-you-du-hou-gan/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€Šå¤©æ‰åœ¨å·¦ï¼Œç–¯å­åœ¨å³ã€‹è¯»åæ„Ÿ"><a href="#ã€Šå¤©æ‰åœ¨å·¦ï¼Œç–¯å­åœ¨å³ã€‹è¯»åæ„Ÿ" class="headerlink" title="ã€Šå¤©æ‰åœ¨å·¦ï¼Œç–¯å­åœ¨å³ã€‹è¯»åæ„Ÿ"></a><strong>ã€Šå¤©æ‰åœ¨å·¦ï¼Œç–¯å­åœ¨å³ã€‹è¯»åæ„Ÿ</strong></h1><p><strong>çœŸç†å±äºäººç±»ï¼Œè°¬è¯¯å±äºæ—¶ä»£ã€‚ â€”â€”â€”â€”â€”æ­Œå¾·</strong></p><ul><li><p>ç»´åŸºç™¾ç§‘ï¼š<strong>å¤©æ‰</strong>ï¼ˆè‹±è¯­ï¼šGeniusï¼‰æ˜¯æŒ‡æŸäººå±•ç°äº†å“è¶Šçš„æ™ºåŠ›ã€åˆ›æ„ã€‚è€Œæ­¤åˆ›æ„åˆ™é€šå¸¸æŒ‡åœ¨æŸä¸€æˆ–æŸäº›é¢†åŸŸå±•ç°å‰æ‰€æœªæœ‰çš„æ´å¯ŸåŠ›ã€‚æœ‰å¤©æ‰åœ¨é£æ ¼å’Œç‹¬åˆ›æ€§è§„åˆ™åˆ›é€ æ€§çš„é«˜æ•ˆç‡ï¼Œæ™®éæ€§ã€‚åœ¨ç§‘å­¦ä¸Šï¼Œå¯¹å¤©æ‰ä¸¤ä¸ªå­—å¹¶æ²¡æœ‰å‡†ç¡®çš„å®šä¹‰ã€‚è€Œå¤©æ‰è¿™ä¸ªç”¨è¯­æ¨¡æ£±ä¸¤å¯ï¼Œä¹Ÿä¾æ—§æ˜¯äº‰è®ºæ€§çš„è®®é¢˜ã€‚å¤©æ‰å¯ä»¥å½¢å®¹ä¸€ä¸ªäººçš„æŸç§ç‰¹æ®Šæ‰èƒ½ï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨é€šæ™“å„æ–¹é¢å­¦é—®çš„åšå­¦å®¶ï¼ˆé€šæ‰ï¼‰ï¼Œä¾‹å¦‚ï¼šäºšé‡Œå£«å¤šå¾·ã€è±å¸ƒå°¼å…¹ã€è‰¾è¨å…‹Â·ç‰›é¡¿ã€åˆ—å¥¥é‚£å¤šÂ·è¾¾èŠ¬å¥‡ã€é«˜æ–¯ã€å°¤æ‹‰ã€åºåŠ è±ï¼Œæˆ–æ˜¯ä¸€ä¸ªé¢†åŸŸçš„ä½¼ä½¼è€…ï¼Œä¾‹å¦‚ï¼šé˜¿å°”ä¼¯ç‰¹Â·çˆ±å› æ–¯å¦ï¼Œå¼ çˆ±ç²ï¼Œå²è’‚èŠ¬Â·éœé‡‘å’Œè«æœ­ç‰¹ã€‚</p></li><li><p>ç™¾åº¦ç™¾ç§‘ï¼š<strong>ç–¯å­</strong>ï¼Œæ±‰è¯­è¯è¯­ï¼Œå¸¸æ¯”å–»äººçš„æ€§æ ¼ã€å¤–è²Œï¼Œå¤šç”¨äºè´¬ä¹‰ã€‚æœ‰æ—¶ä½œä¸ºè¤’ä¹‰è¯ï¼Œè¡¨ç¤ºå¯¹äººæ•¢æ‰“æ•¢æ‹¼çš„ä¸€è‚¡é—¯åŠ²çš„è‚¯å®šã€‚è¤’æ‰¬å¤§æ— ç•çš„ç‰ºç‰²ç²¾ç¥ã€å¥‹æ–—ç²¾ç¥ã€å¥‰çŒ®ç²¾ç¥ã€‚ç²¾ç¥ç—…ï¼ˆæˆ–ç§°åšç²¾ç¥ç–¾ç—…ã€å¿ƒç†ç–¾ç—…ã€å¿ƒç†ç—…ï¼‰ï¼Œä¸»è¦æ˜¯ä¸€ç»„ä»¥è¡¨ç°åœ¨è¡Œä¸ºã€å¿ƒç†æ´»åŠ¨ä¸Šçš„ç´Šä¹±ä¸ºä¸»çš„ç¥ç»ç³»ç»Ÿç–¾ç—…ã€‚ç ”ç©¶æ‰€å¾—åˆ°çš„ç»“æœè®¤ä¸ºä¸»è¦æ˜¯ç”±äºå®¶åº­ã€ç¤¾ä¼šç¯å¢ƒç­‰å¤–åœ¨åŸå› ï¼Œå’Œæ‚£è€…è‡ªèº«çš„ç”Ÿç†é—ä¼ å› ç´ ã€ç¥ç»ç”ŸåŒ–å› ç´ ç­‰å†…åœ¨åŸå› ç›¸äº’ä½œç”¨æ‰€å¯¼è‡´çš„å¿ƒç†æ´»åŠ¨ã€è¡Œä¸ºã€åŠå…¶ç¥ç»ç³»ç»ŸåŠŸèƒ½ç´Šä¹±ä¸ºä¸»è¦ç‰¹å¾çš„ç—…ç—‡ã€‚ [1]</p></li></ul><p>ä»é‡Šä¹‰è§£é‡Šçš„å¤©æ‰ä¸ç–¯å­æœ‰å·¨å¤§çš„åŒºåˆ«ï¼Œæˆ‘ç†è§£çš„å¤©æ‰æ˜¯åœ¨æŸä¸€é¢†åŸŸåšåˆ°é‡‘å­—å¡”å°–æˆ–ä»–çš„æŸæ–¹é¢å¸¸äººéš¾ä»¥ä¼åŠå¹¶ä¸”æ¯”åˆ«äººæ›´æ—©çš„è¾¾åˆ°é‚£ä¸ªæ°´å¹³ï¼›è€Œç–¯å­æˆ‘ç†è§£ä¸ºä½ ä¼šåœ¨æŸäº›äº‹èµ°å‘æç«¯åŒ–ï¼Œæ­»é’»ç‰›è§’å°–éš¾ä»¥è‡ªæ‹”ï¼Œæˆ–æ˜¯ç²¾ç¥ä¸Šå‡ºç°ç–¾ç—…ä»¥è‡´å¸¸äººéš¾ä»¥ç†è§£ã€‚</p><p>ã€Šå¤©æ‰åœ¨å·¦ï¼Œç–¯å­åœ¨å³ã€‹è¿™æœ¬ä¹¦çš„ä½œè€…æ˜¯ä¸€ä¸ªæ™®é€šçš„äººï¼Œå°±åƒè®¸å¤šäººä¸€æ ·å¯¹è¿™ä¸ªä¸–ç•Œæœ‰ç€è®¸å¤šçš„ç–‘é—®éš¾ä»¥å»è§£ç­”ï¼Œä½†ä»–ä¸€æ¬¡ä¸ç²¾ç¥ç—…äººçš„å¯¹è¯ä½¿ä»–å¯¹ç²¾ç¥ç—…äººè¿™ä¸ªç¾¤ä½“æ„Ÿåˆ°å…´è¶£ï¼Œéšåå°±ä¸å¤šä¸ªç—…äººè¿›è¡Œæ²Ÿé€šäº†è§£ï¼Œå¹¶å°†å¯¹è¯çš„å†…å®¹å†™æˆäº†è¿™æœ¬ä¹¦ï¼Œå¸¦æˆ‘ä»¬å¯ä»¥å»äº†è§£åˆ°ç²¾ç¥ç—…äººé‚£äº›å¥‡æ€ªï¼ˆåœ¨æˆ‘çœ¼é‡Œæ˜¯â€œå¥‡å¦™â€ï¼‰çš„è§†è§’çœ‹åˆ°çš„ä¸–ç•Œã€‚</p><p>å…¶ä¸­å‡ ä¸ªè®©æˆ‘å½±å“æ·±åˆ»çš„å¯¹è¯ï¼š</p><p>1.<strong>æ£‹å­</strong></p><pre class="line-numbers language-none"><code class="language-none">ä½ ï¼šâ€œä½ ç©è¿‡è±¡æ£‹å§ï¼Œè¿˜æœ‰æ‰‘å…‹ç‰Œï¼Ÿé‚£äº›æ¸¸æˆçš„ä¹è¶£å°±åœ¨äºè§„åˆ™ï¼Œå„ç§ä¸åŒçš„ç»„åˆï¼Œæ ¹æ®å„ç§ä¸åŒçš„æƒ…å†µèƒ½æœ‰åƒå˜ä¸‡åŒ–çš„ç»“æœï¼Œè€Œä¸”å¾ˆå¤šäº‹æƒ…å¾®å¦™åˆ°æ²¡åŠæ³•å½¢å®¹ã€‚å›½é™…è±¡æ£‹èµ·æºäºå°åº¦ï¼Œæˆ‘ä¸ç†Ÿæ‚‰é‚£ä¸ªæœ€åˆçš„åº”ç”¨ï¼Œæ‰€ä»¥ä¸è¯´é‚£ä¸ªï¼Œè¯´ä¸­å›½è±¡æ£‹ã€‚ä¸­å›½è±¡æ£‹æœ€åˆçš„ç›®çš„æ˜¯æ¨æ¼”ï¼Œå…¶å®å°±æ˜¯å¤ä»£çš„å®æˆ˜æ²™ç›˜ã€‚æ¯ç§ä¸åŒçš„æ£‹å­ï¼Œä»£è¡¨çš„æ˜¯ä¸€ç§å…µç§ï¼Œè€Œä¸”è¿˜åŒ…æ‹¬å†›é˜Ÿæ€§è´¨ã€‚è±¡æ£‹é‡Œçš„â€˜ä¿¥â€™ï¼Œæˆ‘è´¹äº†å¥½å¤§åŠ²æ‰æŸ¥åˆ°ï¼Œä»£è¡¨æ˜¯ç²¾é”å†›ã€‚é‚£ä¸ªéƒ¨é˜Ÿæ˜¯æœ€å¥½ç”¨çš„ï¼Œä½†ä¸æ˜¯è½»æ˜“ç”¨çš„ï¼Œè™½ç„¶ç›´æ¥ç›´å»ï¼Œä½†æƒ³æ“æ§è‡ªå¦‚å¯ä¸æ˜¯ä¸€èˆ¬æ£‹æ‰‹èƒ½åšåˆ°çš„ã€‚ä¸è¿‡ï¼Œè±¡æ£‹åªæ˜¯æ‰“ä»—è€Œå·²ï¼Œä¸æ˜¯æœ€ç²¾å¦™çš„ã€‚â€æˆ‘ï¼šâ€œé‚£ä»€ä¹ˆæ˜¯æœ€ç²¾å¦™çš„ï¼Ÿâ€ä»–ï¼šâ€œæœ€ç²¾å¦™æ˜¯å›´æ£‹ã€‚â€æˆ‘ï¼šâ€œä¸ºä»€ä¹ˆï¼Ÿâ€ä»–ï¼šâ€œå›´æ£‹ä»£è¡¨çš„æ˜¯çœŸæ­£çš„æ™ºæ…§ï¼å›´æ£‹å¯ä»¥è¯´æ˜¯ç¤¾ä¼šçš„æµ“ç¼©ï¼Œæˆ‘ä¸èƒ½ç†è§£å›´æ£‹æ˜¯æ€ä¹ˆå‘æ˜çš„ï¼Œæ‰€ä»¥æ°‘é—´å¯¹äºå›´æ£‹çš„èµ·æºï¼Œæœ‰å¾ˆå¤§çš„ä¼ è¯´æ€§è´¨ã€‚ä½ æƒ³è±¡ä¸€ä¸‹ï¼Œå„19æ¡å¹³è¡Œçº¿äº¤å‰ï¼Œ361ä¸ªç‚¹ï¼Œé»‘ç™½ä¸€å…±360ä¸ªæ£‹å­ï¼Œæ²¡æœ‰é«˜ä½è´µè´±ä¹‹åˆ†ï¼Œå®Œå…¨ä¾é æ“çºµè€…çš„æ™ºæ…§ã€‚æˆ–è€…è½æ‰‹ç»µç»µï¼Œæˆ–è€…è½æ‰‹é“¿é”µï¼Œæˆ–è€…åŒªå¤·æ‰€æ€ï¼Œæˆ–è€…æ€å£°å››èµ·ã€‚ä½ ä»¥ä¸ºå¤©ä¸‹åœ¨æ¡çš„æ—¶å€™ï¼Œçªç„¶å››é¢æ¥šæ­Œï¼Œç”Ÿæ­»éš¾åœå•Šã€‚è¿™æ˜¯ä»€ä¹ˆï¼Ÿä¸å°±æ˜¯ç¤¾ä¼šå—ï¼Ÿä¾é çš„æ˜¯ä»€ä¹ˆï¼Ÿä¸€ä¸ªè§„åˆ™ï¼Œä¸€ä¸ªç®€å•çš„è§„åˆ™ã€‚æ£‹å­å‘¢ï¼Ÿå°±æ˜¯äººã€‚å¤§å®¶éƒ½æ˜¯ä¸€æ ·çš„çŠ¶æ€ã€‚ä½†æ˜¯è½ç‚¹å†³å®šäº†ä½ çš„ä¸ä¼—ä¸åŒï¼Œè€Œä¸”æ¯ä¸€ä¸ªéƒ½æ˜¯ä¸ä¼—ä¸åŒï¼è¿™å°±æ˜¯ç¤¾ä¼šå•Šã€‚æˆ‘ä¸€ç›´åšä¿¡ï¼Œæ‰€æœ‰çš„å†å²ã€æ‰€æœ‰çš„è¾‰ç…Œï¼Œéƒ½æ˜¯æ™®é€šäººåˆ›é€ çš„ï¼Œè€Œä¸æ˜¯é‚£äº›å¤©æ‰ï¼Œä¸æ˜¯é‚£äº›èªæ˜äººã€‚â€æˆ‘ï¼šâ€œæœ‰é“ç†æ˜¯æœ‰é“ç†ï¼Œä½†æ˜¯å¥½åƒä½ åœ¨è¯´å®¿å‘½è®ºã€‚è½ç‚¹ä¸æ˜¯å–å†³äºè‡ªå·±ï¼Œè€Œæ˜¯å–å†³äºæ“çºµçš„é‚£åªæ‰‹ã€‚â€ä»–ï¼šâ€œæ‰ä¸æ˜¯å‘¢ã€‚æ¯ä¸€ä¸ªæ£‹å­ï¼Œéƒ½æœ‰è‡ªå·±ç‰¹å®šçš„ä½ç½®ï¼Œæœ‰è‡ªå·±ç‰¹å®šçš„åŠŸèƒ½ï¼Œå°‘äº†ä¸€ä¸ªï¼Œä¼šå‡ºå¾ˆå¤§çš„é—®é¢˜ï¼Œå°‘äº†ä¸€ä¸ªç”šè‡³å…¨ç›˜çš†è¾“ã€‚ä½ ä½œä¸ºä¸€ä¸ªæ£‹å­ï¼Œè¦çœŸæ­£çœ‹æ¸…è‡ªå·±çš„ä½ç½®ï¼Œä½ æ‰ä¼šæ˜ç™½åˆ°åº•æ€ä¹ˆå›äº‹å„¿ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“å…¨å±€ã€‚æˆ‘å†è¯´ä¸€éï¼šæˆ‘åšä¿¡æ‰€æœ‰çš„å†å²ã€æ‰€æœ‰çš„è¾‰ç…Œï¼Œç»å¯¹ä¸æ˜¯èªæ˜äººåˆ›é€ å‡ºæ¥çš„ï¼Œéƒ½æ˜¯æ™®é€šäººåˆ›é€ å‡ºæ¥çš„ã€‚è€Œèªæ˜äººéœ€è¦åšçš„åªæ˜¯çœ‹æ¸…é—®é¢˜æ‰€åœ¨ï¼Œé¡ºåº”ä¸€ä¸ªæ½®æµç½¢äº†ã€‚å®é™…ä¸Šï¼Œé‚£ä¸ªèªæ˜äººå³ä½¿ä¸å­˜åœ¨ï¼Œä¹Ÿä¼šæœ‰å…¶ä»–èªæ˜äººå–ä»£ã€‚ä½†æ˜¯ï¼Œé‚£äº›æ™®é€šäººï¼Œæ˜¯ç»å¯¹æ— æ³•å–ä»£çš„ã€‚â€  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>2.<strong>å››ç»´è™«å­</strong></p><pre class="line-numbers language-none"><code class="language-none">æˆ‘ï¼šâ€œå¯æ˜¯ä½ æ€ä¹ˆèƒ½è¯å®ä½ çš„æ„Ÿè§‰æ˜¯æ­£ç¡®çš„ï¼Œæˆ–è€…è¯´ä½ æ€ä¹ˆèƒ½è¯æ˜æœ‰è°ç»™ä½ æ„Ÿè§‰äº†å‘¢ï¼Ÿâ€ä»–å†·å†·åœ°çœ‹ç€æˆ‘ï¼šâ€œä¸ç”¨å¾ˆè¿œï¼Œåªå€’é€€ä¸€ç™¾å¤šå¹´ï¼Œä½ å¯¹ä¸€ä¸ªå½“æ—¶é¡¶å°–çš„ç‰©ç†å­¦å®¶è¯´ä½ æ‹¿ç€ä¸€ä¸ªæ²¡æœ‰å·´æŒå¤§ã€æ²¡ä¸€æœ¬ä¹¦åšçš„ä¸œè¥¿å°±å¯ä»¥è·Ÿè¿œæ–¹çš„äººé€šè¯ï¼Œè€Œè¿™è¦é å›´ç€åœ°çƒè½¬çš„å«æ˜Ÿå’Œä½ æ‰‹æœºé‡Œé‚£ä¸ªè·ŸæŒ‡ç”²ç›–ä¸€æ ·å¤§å°çš„å¡ç‰‡ï¼›ä½ å¯ä»¥ååœ¨ä¸€ä¸ªå°å±å¹•å‰è·Ÿåƒé‡Œä¹‹å¤–çš„é™Œç”Ÿäººäº¤è°ˆï¼Œè€Œä¸”è¿˜ä¸éœ€è¦ä»»ä½•è¿æ¥çº¿ï¼›ä½ çœ‹åœ°çƒå¦ä¸€è¾¹çš„çƒèµ›åªéœ€è¦æŒ‰ä¸‹ç”µè§†é¥æ§å™¨ã€‚ä»–ä¼šæ€ä¹ˆæƒ³ï¼Ÿä»–ä¼šè®¤ä¸ºä½ ä¸€å®šæ˜¯ç–¯å­ï¼å› ä¸ºé‚£è¶…å‡ºå½“æ—¶ä»»ä½•å­¦ç§‘çš„èŒƒç•´äº†ï¼Œåˆ—åœ¨ä¸å¯ç†å–»çš„è¡Œåˆ—ï¼Œå¯¹å—ï¼Ÿâ€æˆ‘ï¼šâ€œä½†ä½ è¯´çš„æ˜¯æ„Ÿè§‰ã€‚â€ä»–ï¼šâ€œé‚£åªæ˜¯ä¸ªè¯ï¼Œå‘ç°é‡å­ä¹‹å‰æ²¡äººçŸ¥é“é‡å­è¯¥å«ä»€ä¹ˆï¼Œå¤§å¤šå«ä½œèƒ½é‡ä»€ä¹ˆçš„ã€‚ä½ çš„æ€ç»´ï¼Œè¿˜æ˜¯æƒ¯æœ‰çš„ç‰©è´¨ä¸–ç•Œï¼Œé‚£æ˜¯ä¸‰ç»´çš„ï¼æˆ‘è¦å‘Šè¯‰ä½ çš„æ˜¯â€˜å››ç»´â€™ï¼Œéå¾—ç”¨ä¸‰ç»´æ¡†æ¶æ¥æè¿°ï¼Œæˆ‘è§‰å¾—æˆ‘ä»¬æ²¡åŠæ³•æ²Ÿé€šã€‚â€ä»–å†æ¬¡è¡¨ç¤ºæˆ‘è¯¥æ»šè›‹äº†ã€‚é‡å­ç‰©ç†å­¦æ•™æˆï¼šâ€œä½ èƒ½å‘Šè¯‰æˆ‘é‚£ä¸ªå››ç»´ç”Ÿç‰©è¿˜å‘Šè¯‰ä½ ä»€ä¹ˆäº†å—ï¼Ÿâ€â€œæ˜¯ç»å¯¹å››ç»´ç”Ÿç‰©ã€‚â€ä»–ä¸è€çƒ¦åœ°çº æ­£ã€‚é‡å­ç‰©ç†å­¦æ•™æˆï¼šâ€œå¯¹ï¼Œå®ƒè¿˜ç»™ä½ ä»€ä¹ˆæ„Ÿè§‰äº†ï¼Ÿâ€ä»–ï¼šâ€œå®ƒå¯¹æˆ‘çš„çœ‹æ³•ã€‚â€æˆ‘ï¼šâ€œæ˜¯æ€ä¹ˆæ ·çš„å‘¢ï¼Ÿâ€ä»–ä¸¥è‚ƒåœ°è½¬å‘æˆ‘ï¼šâ€œåº”è¯¥æ˜¯æˆ‘ä»¬ï¼Œæ˜¯å¯¹æˆ‘ä»¬çš„çœ‹æ³•ã€‚æˆ‘ä»¬å¯¹å®ƒæ¥è¯´ä¸æ˜¯ç°åœ¨çš„æ ·å­ï¼Œå› ä¸ºå®ƒçš„çœ¼ç•Œè·¨è¶Šäº†æ—¶é—´ï¼Œæ‰€ä»¥åœ¨å®ƒçœ‹æ¥ï¼Œæˆ‘ä»¬éƒ½æ˜¯è·Ÿè •åŠ¨çš„è™«å­ä¸€æ ·çš„ä¸œè¥¿ã€‚â€æˆ‘å¿ä¸ä½å›å¤´å’Œé‡å­ç‰©ç†å­¦æ•™æˆå¯¹çœ‹äº†ä¸€çœ¼ã€‚ä»–ï¼šâ€œä½ å¯ä»¥æƒ³è±¡å¾—å‡ºæ¥ï¼Œè·¨è¶Šæ—¶é—´åœ°çœ‹ï¼Œæˆ‘ä»¬æ˜¯ä¸€ä¸ªå¾ˆé•¿å¾ˆé•¿çš„è™«å­æ€ªç‰©ï¼Œä»åºŠä¸Šå»¶ä¼¸åˆ°å¤§è¡—ä¸Šï¼Œå»¶ä¼¸åˆ°å­¦æ ¡ï¼Œå»¶ä¼¸åˆ°å…¬å¸ï¼Œå»¶ä¼¸åˆ°å•†åœºï¼Œå»¶ä¼¸åˆ°å¥½å¤šåœ°æ–¹ã€‚å› ä¸ºæˆ‘ä»¬çš„åŠ¨ä½œåœ¨æ¯ä¸ªæ—¶é—´æ®µéƒ½æ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥è·¨è¶Šæ—¶é—´æ¥çœ‹ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä¸€æ¡æ¡è™«å­ã€‚ä»æŸä¸€ä¸ªæ—¶é—´æ®µå¼€å§‹ï¼Œåˆ°æŸä¸€ä¸ªæ—¶é—´æ®µç»“æŸã€‚â€æˆ‘å’Œé‡å­ç‰©ç†å­¦æ•™æˆéƒ½æ„£æ„£åœ°å¬ç€ä»–è¯´ã€‚ä»–ï¼šâ€œç»å¯¹å››ç»´ç”Ÿç‰©å¯ä»¥å…ˆçœ‹åˆ°æˆ‘ä»¬æ­»äº¡ï¼Œå†çœ‹åˆ°æˆ‘ä»¬å‡ºç”Ÿï¼Œæ²¡æœ‰å‰åå› æœã€‚å…¶å®è¿™ä¸ªæˆ‘å¾ˆæ—©å°±ç†è§£äº†ï¼šæ—¶é—´ä¸æ˜¯æµé€çš„ï¼Œæµé€çš„æ˜¯æˆ‘ä»¬ã€‚â€ä»–ä¸€å­—ä¸€å¥åœ°è¯´å®Œåï¼Œä»»å‡­æˆ‘ä»¬æ€ä¹ˆé—®ä¹Ÿä¸å†å›ç­”äº†ã€‚é‚£æ¬¡è°ˆè¯åŸºæœ¬ä¸Šè¿˜æ˜¯ä»¥å¤±è´¥å‘Šç»ˆã€‚ä¸ä¹…åï¼Œå°‘å¹´æ¥å—äº†ä¸€æ¬¡ç‰¹åœ°ä¸ºä»–å®‰æ’çš„é‡å­ç‰©ç†è€ƒè¯•ï¼Œç»“æœå¾ˆç³Ÿã€‚ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæˆ‘å¬äº†æœ‰äº›å¤±æœ›ã€‚å¦‚æœï¼Œä»–çœŸçš„æ˜¯ä¸ªå¤©æ‰ï¼Œé‚£ä¹ˆä»–ä¹Ÿåªèƒ½æ˜¯ä¸€ç™¾å¹´åï¼Œç”šè‡³æ›´é¥è¿œæœªæ¥çš„å¤©æ‰ï¼Œè€Œä¸å±äºæˆ‘ä»¬è¿™ä¸ªæ—¶ä»£â€”â€”æˆ‘æ˜¯è¯´æ—¶é—´æ®µè½ï¼Ÿä¹Ÿè®¸å§ã€‚æˆ‘è‡³ä»Šä¾æ—§å¾ˆæƒ³çŸ¥é“ï¼Œé‚£ä¸ªæ‰€è°“çš„â€œç»å¯¹å››ç»´ç”Ÿç‰©â€æ˜¯ä»€ä¹ˆæ ·å­ã€‚å®ƒææ€–å—ï¼Ÿæˆ‘å¯èƒ½æ°¸è¿œæ²¡åŠæ³•çŸ¥é“äº†ï¼Œå³ä¾¿é‚£æ˜¯çœŸçš„ã€‚å†™åˆ°è¿™é‡Œçš„æ—¶å€™ï¼Œè«ååœ°æƒ³èµ·æ­Œå¾·è¯´è¿‡çš„ä¸€å¥è¯ï¼šçœŸç†å±äºäººç±»ï¼Œè°¬è¯¯å±äºæ—¶ä»£ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>3.<strong>åˆ¹é‚£</strong></p><pre class="line-numbers language-none"><code class="language-none">ä»–ï¼šâ€œäººæ­»å‰ï¼Œéƒ½ä¼šæŠŠè‡ªå·±çš„ä¸€ç”Ÿé‡æ–°ç»å†ä¸€éï¼Œå¯¹å§ï¼Ÿâ€æˆ‘ï¼šâ€œå¬è¯´è¿‡ã€‚â€ä»–ï¼šâ€œå¦‚æœç°åœ¨å°±æ˜¯å‘¢ï¼Ÿâ€æˆ‘ï¼šâ€œå—¯ï¼Ÿä½ æ˜¯è¯´â€¦â€¦â€ä»–ï¼šâ€œæ‰€ä»¥æˆ‘åˆšæ‰é—®ä½ ï¼Œä½ æœ‰æ²¡æœ‰è¿‡ä¼¼æ›¾ç›¸è¯†çš„æ—¶å€™ï¼Ÿâ€æˆ‘æ„£ä½äº†ã€‚ä»–ï¼šâ€œæ˜¯çš„ï¼Œç°åœ¨å°±æ˜¯ï¼â€æˆ‘è¢«è¿™ä¸ªæƒ³æ³•å“äº†ä¸€è·³ï¼šâ€œå¯æ˜¯â€¦â€¦ä¸å¯¹å§â€¦â€¦ä»æ—¶é—´ä¸Šçœ‹ä¹Ÿä¸å¯¹â€¦â€¦å§ã€‚â€ä»–ï¼šâ€œå¦‚æœä½ ç½®èº«å…¶ä¸­æ˜¯æ— æ³•æ­£ç¡®è®¤çŸ¥åˆ°æ—¶é—´æµçš„ï¼Œä¸è¿‡ä»æ„Ÿè§‰ä¸Šä¾ç„¶èƒ½æ„Ÿè§‰åˆ°æ—¶é—´çš„ä¸ç¨³å®šæ€§ã€‚â€æˆ‘ï¼šâ€œæˆ‘ä¸æ˜¯å¤ªæ˜ç™½ï¼Œæˆ‘æŒ‡æ—¶é—´ä¸ç¨³å®šæ€§è¿™ä¸ªè¯´æ³•ã€‚â€ä»–ï¼šâ€œä½ æœ‰æ²¡æœ‰æ—¶é—´è¶Šè¿‡è¶Šå¿«çš„æ„Ÿè§‰ï¼Ÿâ€æˆ‘ä»”ç»†å›æƒ³äº†ä¸€ä¸‹ï¼Œå¥½åƒæœ‰ã€‚ä»–ï¼šâ€œä½ åº”è¯¥æœ‰é‚£ç§æ„Ÿè§‰å§ï¼Œå°æ—¶å€™æ—¶é—´ä¼¼ä¹å¾ˆæ…¢ã€éå¸¸æ…¢ï¼Œä½†è¶Šå¤§æ—¶é—´è¿‡å¾—è¶Šå¿«ï¼Œæ˜¯è¿™æ ·å§ï¼Ÿâ€æˆ‘ï¼šâ€œå¯¹ï¼Œä¸è¿‡ï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯ä¸å¤§å¯¹åŠ²â€¦â€¦ä½ è¯´çš„æ˜¯æ­»å‰å›æº¯é‚£ç§â€¦â€¦å—¯â€¦â€¦æ¯•ç«Ÿåªæ˜¯ä¸€åˆ¹é‚£ï¼Œæ€ä¹ˆå¯èƒ½ä¼šæ˜¯ç°åœ¨è¿™ç§å½“ä¸‹çš„æ„Ÿå—å‘¢ï¼Ÿâ€ä»–ç»æœ›åœ°æ‘‡æ‘‡å¤´ï¼šâ€œåœ¨å›æº¯çš„å¹»è§‰ä¸­ï¼Œæ—¶é—´ä¸é‡è¦ã€‚é‡è¦çš„æ˜¯å¯¹è‡ªå·±ä¸€ç”Ÿçš„ä½“ä¼šï¼Œå›æº¯ç»“æŸçš„æ—¶å€™ï¼Œå°±ä¼šå›åˆ°ç°å®â€”â€”æ­»äº¡ã€‚â€æˆ‘ï¼šâ€œå¯æ˜¯â€¦â€¦â€ä»–ï¼šâ€œæ²¡æœ‰å¯æ˜¯ï¼Œå®é™…å°±æ˜¯è¿™æ ·çš„ã€‚ç¬¬ä¸€ï¼Œä½ ä¼¼æ›¾ç›¸è¯†çš„æ„Ÿè§‰æ˜¯çœŸå®çš„ï¼Œè€Œä¸æ˜¯é”™è§‰ï¼Œå› ä¸ºä½ è‡ªå·±åˆšæ‰éƒ½æ‰¿è®¤äº†ï¼Œä¸ä»…ä»…æ˜¯ç†Ÿæ‚‰ï¼Œç”šè‡³è¿˜èƒ½é¢„çŸ¥åˆ°ä¸‹ä¸€ç§’å³å°†å‘ç”Ÿä»€ä¹ˆï¼Œå°±æ˜¯è¯´ä½ çœŸçš„ç»å†è¿‡è€Œä¸æ˜¯ä¸€æ—¶çš„æ··ä¹±ã€‚ç¬¬äºŒï¼Œæ—¶é—´æµçš„ä¸ç¨³å®šæ€§ï¼Œæ—¶é—´åªæ˜¯ç›¸å¯¹çš„ä¸€ä¸ªæ¦‚å¿µï¼Œå¹¶ä¸æ˜¯ä¸€æˆä¸å˜çš„ï¼Œè¿‡å»åªæ˜¯ä¸€ç¬é—´ï¼Œä½†æ˜¯ä½ çš„ç¡®éƒ½ç»å†è¿‡ï¼Œåªæœ‰å½“ä¸‹æ˜¯æœ€æ¼«é•¿çš„ã€‚å› æ­¤æˆ‘è¯´å¾ˆæœ‰å¯èƒ½æˆ‘ä»¬ç°åœ¨éƒ½èº«å¤„åœ¨æ­»äº¡å›æº¯ä¸­â€”â€”é‚£ä¸ªåˆ¹é‚£ã€‚â€æˆ‘ï¼šâ€œè¯æ˜¯è¿™ä¹ˆè¯´â€¦â€¦ä¸è¿‡æœ‰ä¸ªæ‚–è®ºå­˜åœ¨ã€‚â€ä»–ï¼šâ€œä»€ä¹ˆæ‚–è®ºï¼Ÿâ€æˆ‘ï¼šâ€œè®¸å¤šäººéƒ½æœ‰è¿‡ä¼¼æ›¾ç›¸è¯†çš„æ„Ÿå—ï¼Œè€Œä¸”å¾ˆå¤šäººéƒ½æœ‰æ—¶é—´æµä¸ç¨³å®šçš„æ„Ÿå—ï¼Œé‚£ä»–ä»¬éƒ½æ˜¯èº«å¤„åœ¨æ­»äº¡å›æº¯ä¸­å—ï¼Ÿæ­»äº¡å›æº¯æ˜¯ç›¸äº’äº¤é›†çš„å—ï¼Ÿâ€ä»–ï¼šâ€œæ¯ä¸ªäººåªæ˜¯å›æº¯è‡ªå·±çš„ç»å†ï¼Œä¸åˆ«äººçš„äº¤é›†åªæ˜¯æ›¾ç»å‘ç”Ÿè¿‡çš„è®°å¿†ï¼Œå½“ç„¶ä¹Ÿå°±æ˜¯ä»è‡ªå·±çš„è§’åº¦ã€‚æˆ‘ä»¬éƒ½æ˜¯çœŸå®çš„ï¼Œä½†ç°åœ¨ï¼Œæ²¡æ³•ç¡®å®šæ˜¯ä½ çš„è®°å¿†è¿˜æ˜¯æˆ‘çš„è®°å¿†ï¼Œè¿™ç§äº‹æƒ…æ²¡æœ‰åŠæ³•èƒ½è¯å®ï¼Œé™¤éæˆ‘ä»¬ä¸­çš„ä¸€ä¸ªå›æº¯ç»“æŸï¼Œç¦»å¼€å›å¿†ï¼Œé¢å¯¹æ­»äº¡ã€‚ä¹Ÿè®¸è¿˜è¦å¾ˆä¹…ï¼Œä¹Ÿè®¸å°±æ˜¯ä¸‹ä¸€ç§’ã€‚â€æˆ‘çªç„¶è§‰å¾—å¾ˆå‹æŠ‘ã€‚è¿‡äº†ä¸€ä¼šå„¿ï¼Œä»–ç›¯ç€æˆ‘çš„çœ¼ç›ä¸€å­—ä¸€å¥åœ°è¯´ï¼šâ€œåœ¨çœŸå®æ¥ä¸´ä¹‹å‰ï¼Œä½ æ— æ³•è¯æ˜è‡ªå·±ä¸åœ¨è™šå¹»ä¸­ã€‚â€<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»è¿™å‡ ä¸ªæ•…äº‹ä¸­ï¼Œé‚£äº›è¢«äººç§°ä¸ºç²¾ç¥ç—…äººçš„æ€æƒ³æ˜¯ä»¤æˆ‘æ„Ÿåˆ°æƒŠè®¶çš„ï¼Œå› ä¸ºä»–ä»¬æ‰€æƒ³çš„éƒ½æ˜¯æˆ‘ä»¬å¸¸äººéš¾ä»¥æƒ³è±¡çš„äº‹ç‰©ï¼Œæ‰€ä»¥å¦‚æœè·Ÿäººè¯´çš„è¯å°±ä¼šè¢«å½“æˆç²¾ç¥ç—…äººï¼Œä½†ä»–ä»¬æ‰€æè¿°çš„äº‹ä»¶çš„é€»è¾‘æ€§ã€æ€ç»´æ€§ç¡®å®å¾ˆå®Œæ•´ï¼Œä»¤äººæ— æ³•åé©³ã€‚</p><p>åœ¨ä½œè€…æ‰€é‡è§çš„ç—…äººä¸­ï¼Œæœ‰çš„å°±æ˜¯é’»ç‰›è§’å°–ï¼Œæœ‰çš„æ˜¯ç²¾ç¥åˆ†è£‚ï¼Œæœ‰çš„æ˜¯æƒ³çš„äº‹æƒ…å¤ªæ·±éš¾ä»¥è‡ªæ‹”è€Œé€ æˆäººä»¬çš„éš¾ä»¥ç†è§£ã€‚</p><p>è¯»å®Œæœ¬ä¹¦ï¼Œä½œè€…å¸¦æˆ‘è¿›å…¥åˆ°ä¸€ä¸ªå®Œå…¨ä¸åŒçš„ä¸–ç•Œï¼Œå»è®¤è¯†çš„é‚£äº›å¸¸äººéš¾ä»¥ç†è§£çš„<strong>â€œæ€ªäººâ€</strong>çš„æ€æƒ³ï¼Œä½¿æˆ‘è®¤è¯†çš„åœ¨äº‹æƒ…çš„è®¤çŸ¥å’Œé‚£äº›ä¸åŒå¯»å¸¸çš„äººçš„åŒºåˆ«ï¼Œä½œè€…çš„æ ¸å¿ƒç†å¿µå°±æ˜¯ï¼šæˆ‘ä»¬è®¤çŸ¥çš„ç–¯å­ä¸å¤©æ‰å…¶å®åªæœ‰ä¸€çº¿ä¹‹éš”ï¼Œä»–ä»¬çš„å…±åŒç‚¹éƒ½æ˜¯åœ¨æŸæ–¹é¢ä¸å¸¸äººæœ‰æ˜æ˜¾å·®è·æˆ–ä¸ç›¸åŒçš„ï¼Œè€Œä»–ä»¬çš„è¿™äº›çªå‡ºèƒ½åŠ›æ˜¯å¦èƒ½è¢«å¸¸äººæ¥å—åˆ™ä¸ç°å®æ‰€å½±å“ã€‚</p><p>å°±åƒæ¢µé«˜ä¸€æ ·ï¼Œåœ¨ä»–æ‰€å¤„çš„æ—¶ä»£ï¼Œä»–çš„ç”»ä½œå¹¶ä¸å—å½“æ—¶äººä»¬æ‰€æ¥å—ï¼Œæ—¶è¿‡å¢ƒè¿ä»–çš„ç”»è¢«å¥‰ä¸ºå¤©æ‰æ‰€ä½œã€‚æ‰€ä»¥å¤©æ‰åªæ˜¯ç”Ÿä¸é€¢æ—¶ï¼Œå¸¸äººéš¾ä»¥ç†è§£ï¼Œæˆ–è®¸å¤šå¹´ä»¥åçš„äººåœ¨çœ‹ä½œè€…æ‰€å†™çš„ä¹¦ä¼šè§‰å¾—åœ¨æ­£å¸¸ä¸è¿‡äº†ã€‚ã€‚ã€‚</p><p>æ€»ä¹‹ï¼Œéå¸¸æ¨èå¤§å®¶å»é˜…è¯»åŸä¹¦ã€‚ã€‚ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
            <tag> æ–‡ç«  </tag>
            
            <tag> å¥½ä¹¦æ¨è </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é˜Ÿåˆ—ã€å †ã€æ ˆã€å †æ ˆçš„åŒºåˆ«ä¸deferçš„å…³ç³»</title>
      <link href="/hypo-Z.github.io/2022/02/12/33-dui-lie-dui-zhan-dui-zhan-de-qu-bie-yu-defer-de-guan-xi/"/>
      <url>/hypo-Z.github.io/2022/02/12/33-dui-lie-dui-zhan-dui-zhan-de-qu-bie-yu-defer-de-guan-xi/</url>
      
        <content type="html"><![CDATA[<h1 id="é˜Ÿåˆ—ã€å †ã€æ ˆã€å †æ ˆçš„åŒºåˆ«"><a href="#é˜Ÿåˆ—ã€å †ã€æ ˆã€å †æ ˆçš„åŒºåˆ«" class="headerlink" title="é˜Ÿåˆ—ã€å †ã€æ ˆã€å †æ ˆçš„åŒºåˆ«"></a>é˜Ÿåˆ—ã€å †ã€æ ˆã€å †æ ˆçš„åŒºåˆ«</h1><h3 id="å †æ ˆï¼šå…ˆè¿›åå‡ºï¼ˆå°±åƒæ”¾åœ¨ç®±å­çš„è¡£æœï¼Œå…ˆæ”¾è¿›å»çš„åæ‹¿å‡ºæ¥ï¼‰"><a href="#å †æ ˆï¼šå…ˆè¿›åå‡ºï¼ˆå°±åƒæ”¾åœ¨ç®±å­çš„è¡£æœï¼Œå…ˆæ”¾è¿›å»çš„åæ‹¿å‡ºæ¥ï¼‰" class="headerlink" title="å †æ ˆï¼šå…ˆè¿›åå‡ºï¼ˆå°±åƒæ”¾åœ¨ç®±å­çš„è¡£æœï¼Œå…ˆæ”¾è¿›å»çš„åæ‹¿å‡ºæ¥ï¼‰"></a>å †æ ˆï¼šå…ˆè¿›åå‡ºï¼ˆå°±åƒæ”¾åœ¨ç®±å­çš„è¡£æœï¼Œå…ˆæ”¾è¿›å»çš„åæ‹¿å‡ºæ¥ï¼‰</h3><h3 id="é˜Ÿåˆ—ï¼šå…ˆè¿›å…ˆå‡ºï¼ˆå°±åƒä¸€æ¡è·¯ï¼Œæœ‰ä¸€ä¸ªå…¥å£å’Œä¸€ä¸ªå‡ºå£ï¼Œå…ˆè¿›å»çš„å°±å¯ä»¥å…ˆå‡ºå»ï¼‰"><a href="#é˜Ÿåˆ—ï¼šå…ˆè¿›å…ˆå‡ºï¼ˆå°±åƒä¸€æ¡è·¯ï¼Œæœ‰ä¸€ä¸ªå…¥å£å’Œä¸€ä¸ªå‡ºå£ï¼Œå…ˆè¿›å»çš„å°±å¯ä»¥å…ˆå‡ºå»ï¼‰" class="headerlink" title="é˜Ÿåˆ—ï¼šå…ˆè¿›å…ˆå‡ºï¼ˆå°±åƒä¸€æ¡è·¯ï¼Œæœ‰ä¸€ä¸ªå…¥å£å’Œä¸€ä¸ªå‡ºå£ï¼Œå…ˆè¿›å»çš„å°±å¯ä»¥å…ˆå‡ºå»ï¼‰"></a>é˜Ÿåˆ—ï¼šå…ˆè¿›å…ˆå‡ºï¼ˆå°±åƒä¸€æ¡è·¯ï¼Œæœ‰ä¸€ä¸ªå…¥å£å’Œä¸€ä¸ªå‡ºå£ï¼Œå…ˆè¿›å»çš„å°±å¯ä»¥å…ˆå‡ºå»ï¼‰</h3><p>è¿›ç¨‹ä¸­æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„<strong>å †æ ˆ</strong>ï¼Œè¿™æ˜¯ä¸€æ®µçº¿ç¨‹åˆ›å»ºæ—¶ä¿ç•™ä¸‹çš„åœ°å€åŒºåŸŸã€‚æˆ‘ä»¬çš„â€œ<strong>æ ˆå†…å­˜</strong>â€å³åœ¨æ­¤ã€‚<br>è‡³äºâ€œ<strong>å †</strong>â€å†…å­˜ï¼Œæˆ‘ä¸ªäººè®¤ä¸ºåœ¨æœªç”¨newå®šä¹‰æ—¶ï¼Œ<strong>å †</strong>åº”è¯¥å°±æ˜¯æœªâ€œä¿ç•™â€æœªâ€œæäº¤â€çš„è‡ªç”±ç©ºé—´ï¼Œnewçš„åŠŸèƒ½æ˜¯åœ¨è¿™äº›è‡ªç”±ç©ºé—´ä¸­ä¿ç•™ï¼ˆå¹¶æäº¤ï¼‰å‡ºä¸€ä¸ªåœ°å€èŒƒå›´ã€‚</p><p><strong>æ ˆ</strong>(Stack)æ˜¯æ“ä½œç³»ç»Ÿåœ¨å»ºç«‹æŸä¸ªè¿›ç¨‹æ—¶æˆ–è€…çº¿ç¨‹ï¼ˆåœ¨æ”¯æŒå¤šçº¿ç¨‹çš„æ“ä½œç³»ç»Ÿä¸­æ˜¯çº¿ç¨‹ï¼‰ä¸ºè¿™ä¸ªçº¿ç¨‹å»ºç«‹çš„å­˜å‚¨åŒºåŸŸï¼Œè¯¥åŒºåŸŸå…·æœ‰FIFOçš„ç‰¹æ€§ï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™å¯ä»¥æŒ‡å®šéœ€è¦çš„Stackçš„å¤§å°ã€‚åœ¨ç¼–ç¨‹ä¸­ï¼Œä¾‹å¦‚C/C++ä¸­ï¼Œæ‰€æœ‰çš„å±€éƒ¨å˜é‡éƒ½æ˜¯ä»<strong>æ ˆ</strong>ä¸­åˆ†é…å†…å­˜ç©ºé—´ï¼Œå®é™…ä¸Šä¹Ÿä¸æ˜¯ä»€ä¹ˆåˆ†é…ï¼Œåªæ˜¯ä»<strong>æ ˆé¡¶</strong>å‘ä¸Šç”¨å°±è¡Œï¼Œåœ¨é€€å‡ºå‡½æ•°çš„æ—¶å€™ï¼Œåªæ˜¯ä¿®æ”¹<strong>æ ˆæŒ‡é’ˆ</strong>å°±å¯ä»¥æŠŠ<strong>æ ˆ</strong>ä¸­çš„å†…å®¹é”€æ¯ï¼Œæ‰€ä»¥é€Ÿåº¦æœ€å¿«ã€‚</p><p><strong>å †</strong>ï¼ˆHeap)æ˜¯åº”ç”¨ç¨‹åºåœ¨è¿è¡Œçš„æ—¶å€™è¯·æ±‚æ“ä½œç³»ç»Ÿåˆ†é…ç»™è‡ªå·±å†…å­˜ï¼Œä¸€èˆ¬æ˜¯ç”³è¯·/ç»™äºˆçš„è¿‡ç¨‹ï¼ŒC/C++åˆ†åˆ«ç”¨malloc/Newè¯·æ±‚åˆ†é…Heapï¼Œç”¨free/deleteé”€æ¯å†…å­˜ã€‚ç”±äºä»æ“ä½œç³»ç»Ÿç®¡ç†çš„å†…å­˜åˆ†é…æ‰€ä»¥åœ¨åˆ†é…å’Œé”€æ¯æ—¶éƒ½è¦å ç”¨æ—¶é—´ï¼Œæ‰€ä»¥ç”¨<strong>å †</strong>çš„æ•ˆç‡ä½çš„å¤šï¼ä½†æ˜¯<strong>å †</strong>çš„å¥½å¤„æ˜¯å¯ä»¥åšçš„å¾ˆå¤§ï¼ŒC/C++å¯¹åˆ†é…çš„Heapæ˜¯ä¸åˆå§‹åŒ–çš„ã€‚</p><p>åœ¨Javaä¸­é™¤äº†ç®€å•ç±»å‹ï¼ˆint,charç­‰ï¼‰éƒ½æ˜¯åœ¨<strong>å †</strong>ä¸­åˆ†é…å†…å­˜ï¼Œè¿™ä¹Ÿæ˜¯ç¨‹åºæ…¢çš„ä¸€ä¸ªä¸»è¦åŸå› ã€‚ä½†æ˜¯è·ŸC/C++ä¸åŒï¼ŒJavaä¸­åˆ†é…Heapå†…å­˜æ˜¯è‡ªåŠ¨åˆå§‹åŒ–çš„ã€‚åœ¨Javaä¸­æ‰€æœ‰çš„å¯¹è±¡ï¼ˆåŒ…æ‹¬intçš„wrapper  Integerï¼‰éƒ½æ˜¯åœ¨<strong>å †</strong>ä¸­åˆ†é…çš„ï¼Œä½†æ˜¯è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨å´æ˜¯åœ¨Stackä¸­åˆ†é…ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨å»ºç«‹ä¸€ä¸ªå¯¹è±¡æ—¶ä»ä¸¤ä¸ªåœ°æ–¹éƒ½åˆ†é…å†…å­˜ï¼Œåœ¨Heapä¸­åˆ†é…çš„å†…å­˜å®é™…å»ºç«‹è¿™ä¸ªå¯¹è±¡ï¼Œè€Œåœ¨Stackä¸­åˆ†é…çš„å†…å­˜åªæ˜¯ä¸€ä¸ªæŒ‡å‘è¿™ä¸ª<strong>å †</strong>å¯¹è±¡çš„æŒ‡é’ˆï¼ˆå¼•ç”¨ï¼‰è€Œå·²ã€‚</p><p><strong>å †</strong>æ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œè€Œä¸æ˜¯åœ¨ç¨‹åºç¼–è¯‘æ—¶ï¼Œç”³è¯·æŸä¸ªå¤§å°çš„å†…å­˜ç©ºé—´ã€‚å³åŠ¨æ€åˆ†é…å†…å­˜ï¼Œå¯¹å…¶è®¿é—®å’Œå¯¹ä¸€èˆ¬å†…å­˜çš„è®¿é—®æ²¡æœ‰åŒºåˆ«ã€‚{<strong>å †</strong>æ˜¯æŒ‡ç¨‹åºè¿è¡Œæ˜¯ç”³è¯·çš„åŠ¨æ€å†…å­˜ï¼Œè€Œæ ˆåªæ˜¯æŒ‡ä¸€ç§ä½¿ç”¨<strong>å †</strong>çš„<strong>æ–¹æ³•</strong>(å³<strong>å…ˆè¿›åå‡º</strong>)ã€‚}</p><p><strong>æ ˆ</strong>æ˜¯å…ˆè¿›åå‡ºçš„ï¼Œä½†æ˜¯äº<strong>å †</strong>è€Œè¨€å´æ²¡æœ‰è¿™ä¸ªç‰¹æ€§ï¼Œä¸¤è€…éƒ½æ˜¯å­˜æ”¾ä¸´æ—¶æ•°æ®çš„åœ°æ–¹ã€‚ å¯¹äº<strong>å †</strong>ï¼Œæˆ‘ä»¬å¯ä»¥éšå¿ƒæ‰€æ¬²çš„è¿›è¡Œå¢åŠ å˜é‡å’Œåˆ é™¤å˜é‡ï¼Œä¸è¦éµå¾ªä»€ä¹ˆæ¬¡åºï¼Œåªè¦ä½ å–œæ¬¢ã€‚</p><p>###åœ¨åŒä¸€ä¸ªgoroutineä¸­ï¼šå¤šä¸ªdeferçš„è°ƒç”¨æ ˆåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>deferå‡½æ•°æ˜¯å¦‚ä½•è°ƒç”¨çš„?</p><p>ä¸ºäº†æ¢ç©¶å…¶ä¸­çš„å¥¥ç§˜æˆ‘å‡†å¤‡äº†å¦‚ä¸‹ä»£ç ï¼š</p><pre class="line-numbers language-none"><code class="language-none">package mainimport "fmt"func main() {xx()}func xx() {defer aaa(100, "hello aaa")defer bbb("hello bbb")return}func aaa(x int, arg string) {fmt.Println(x, arg)}func bbb(arg string) {fmt.Println(arg)}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><p>bbb</p><p>100 hello aaa</p><p>ä»è¾“å‡ºç»“æœçœ‹å¾ˆåƒæ ˆçš„æ•°æ®ç»“æ„ç‰¹æ€§ï¼šåè¿›å…ˆå‡º(LIFO).</p><p>å¯¹äºå¦‚ä¸‹æ‰€ç¤ºçš„ defer è¯­å¥</p><pre class="line-numbers language-none"><code class="language-none">func x() {.......defer y(......).......}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é¦–å…ˆï¼Œç¼–è¯‘å™¨ä¼šæŠŠ defer è¯­å¥ç¿»è¯‘æˆå¯¹ deferproc å‡½æ•°çš„è°ƒç”¨ï¼Œdeferproc è´Ÿè´£æ„é€ ä¸€ä¸ªç”¨æ¥ä¿å­˜ y å‡½æ•°çš„åœ°å€ä»¥åŠ y å‡½æ•°éœ€è¦ç”¨åˆ°çš„å‚æ•°çš„ _defer ç»“æ„ä½“å¯¹è±¡ï¼Œå¹¶æŠŠè¯¥å¯¹è±¡åŠ å…¥å½“å‰ goroutine å¯¹åº”çš„ g ç»“æ„ä½“å¯¹è±¡çš„ _defer é“¾è¡¨è¡¨å¤´ï¼›</p><p>ç„¶åï¼Œç¼–è¯‘å™¨ä¼šåœ¨ x å‡½æ•°çš„ç»“å°¾å¤„æ’å…¥å¯¹ deferreturn çš„è°ƒç”¨ï¼Œdeferreturn è´Ÿè´£é€’å½’çš„è°ƒç”¨ x å‡½æ•°é€šè¿‡ defer è¯­å¥æ³¨å†Œçš„å‡½æ•°ã€‚</p><p>æ€»ä½“è¯´æ¥ï¼Œåœ¨ä¸è€ƒè™‘ panic/recover çš„æƒ…å†µä¸‹ï¼Œgoè¯­è¨€å¯¹ defer çš„å®ç°æœºåˆ¶è¿˜æ˜¯æ¯”è¾ƒç®€å•ï¼Œä½†å…¶å…·ä½“å®ç°ç»†èŠ‚è¿˜æ˜¯æœ‰å¾ˆå¤šåœ°æ–¹å€¼å¾—æˆ‘ä»¬ä»”ç»†æ€è€ƒå’Œå­¦ä¹ çš„ã€‚</p><p>æœ€åï¼Œdeferå‡½æ•°è™½ç„¶æ–¹ä¾¿ï¼Œä½†æ˜¯éœ€è¦æœ‰é¢å¤–çš„è¿è¡Œå¼€é”€ï¼Œåœ¨ä½¿ç”¨æ—¶éœ€è¦è¿›è¡Œå–èˆï¼Œå°¤å…¶æ˜¯å…·æœ‰å¤šä¸ªå‚æ•°çš„æ—¶å€™ï¼Œä¼šå‘ç”Ÿå¤šæ¬¡å†…å­˜æ‹·è´ï¼š</p><p>runtime.deferprocæ‰§è¡Œä¹‹å‰ï¼šç§»åŠ¨åˆ°æ ˆä¸­<br>runtime.deferprocæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ‹·è´_deferä¹‹å<br>runtime.deferreturnæ‰§è¡Œæ—¶ï¼Œç§»åŠ¨åˆ°æ ˆä¸­</p><p>updateï¼šgo1.13å¯¹deferè¿›è¡Œäº†ä¼˜åŒ–ï¼Œå¦‚æœ_deferæ²¡æœ‰å‘ç”Ÿé€ƒé€¸ï¼Œåˆ™å°†å…¶åˆ†é…åœ¨æ ˆä¸Šï¼Œå¯ä»¥æé«˜30%çš„æ€§èƒ½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¬”è®° </tag>
            
            <tag> Golang </tag>
            
            <tag> åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goç¨‹åºå‘˜å¼€å‘æ•ˆç‡ç¥å™¨æ±‡æ€»ï¼</title>
      <link href="/hypo-Z.github.io/2022/02/09/go-cheng-xu-yuan-kai-fa-xiao-lu-shen-qi-hui-zong/"/>
      <url>/hypo-Z.github.io/2022/02/09/go-cheng-xu-yuan-kai-fa-xiao-lu-shen-qi-hui-zong/</url>
      
        <content type="html"><![CDATA[<p>neon æ˜¯é¹…å‚çš„ä¸€ä½èµ„æ·±åå°å¼€å‘å·¥ç¨‹å¸ˆï¼Œå¤šå¹´å·¥ä½œä¸‹æ¥ä»–æ€»ç»“äº†å¾ˆå¤šæ•ˆç‡ç¥å™¨ï¼Œä»Šå¤©åˆ†äº«ç»™å¤§å®¶ã€‚</p><h2 id="ä¸€-å¼€å‘å·¥å…·"><a href="#ä¸€-å¼€å‘å·¥å…·" class="headerlink" title="ä¸€. å¼€å‘å·¥å…·"></a>ä¸€. å¼€å‘å·¥å…·</h2><p>1)sql2go<br>ç”¨äºå°† sql è¯­å¥è½¬æ¢ä¸º golang çš„ struct. ä½¿ç”¨ ddl è¯­å¥å³å¯ã€‚<br>ä¾‹å¦‚å¯¹äºåˆ›å»ºè¡¨çš„è¯­å¥: show create table xxx. å°†è¾“å‡ºçš„è¯­å¥ï¼Œç›´æ¥ç²˜è´´è¿›å»å°±è¡Œã€‚<br><a href="http://stming.cn/tool/sql2go.html">http://stming.cn/tool/sql2go.html</a></p><p>2)toml2go<br>ç”¨äºå°†ç¼–ç åçš„ toml æ–‡æœ¬è½¬æ¢é—® golang çš„ struct.<br><a href="https://xuri.me/toml-to-go/">https://xuri.me/toml-to-go/</a></p><p>3)curl2go<br>ç”¨æ¥å°† curl å‘½ä»¤è½¬åŒ–ä¸ºå…·ä½“çš„ golang ä»£ç .<br><a href="https://mholt.github.io/curl-to-go/">https://mholt.github.io/curl-to-go/</a></p><p>4)json2go<br>ç”¨äºå°† json æ–‡æœ¬è½¬æ¢ä¸º struct.<br><a href="https://mholt.github.io/json-to-go/">https://mholt.github.io/json-to-go/</a></p><p>5)mysql è½¬ ES å·¥å…·<br><a href="http://www.ischoolbar.com/EsParser/">http://www.ischoolbar.com/EsParser/</a></p><p>6)golang<br>æ¨¡æ‹Ÿæ¨¡æ¿çš„å·¥å…·ï¼Œåœ¨æ”¯æŒæ³›å‹ä¹‹å‰ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ã€‚<br><a href="https://github.com/cheekybits/genny">https://github.com/cheekybits/genny</a></p><p>7)æŸ¥çœ‹æŸä¸€ä¸ªåº“çš„ä¾èµ–æƒ…å†µï¼Œç±»ä¼¼äº go list åŠŸèƒ½<br><a href="https://github.com/KyleBanks/depth">https://github.com/KyleBanks/depth</a></p><p>8)ä¸€ä¸ªå¥½ç”¨çš„æ–‡ä»¶å‹ç¼©å’Œè§£å‹å·¥å…·ï¼Œé›†æˆäº† zipï¼Œtar ç­‰å¤šç§åŠŸèƒ½ï¼Œä¸»è¦è¿˜æœ‰è·¨å¹³å°ã€‚<br><a href="https://github.com/mholt/archiver">https://github.com/mholt/archiver</a></p><p>9)go å†…ç½®å‘½ä»¤<br>go list å¯ä»¥æŸ¥çœ‹æŸä¸€ä¸ªåŒ…çš„ä¾èµ–å…³ç³».<br>go vet å¯ä»¥æ£€æŸ¥ä»£ç ä¸ç¬¦åˆ golang è§„èŒƒçš„åœ°æ–¹ã€‚</p><p>10)çƒ­ç¼–è¯‘å·¥å…·<br><a href="https://github.com/silenceper/gowatch">https://github.com/silenceper/gowatch</a></p><p>11)revive<br>golang ä»£ç è´¨é‡æ£€æµ‹å·¥å…·<br><a href="https://github.com/mgechev/revive">https://github.com/mgechev/revive</a></p><p>12)Go Callvis<br>golang çš„ä»£ç è°ƒç”¨é“¾å›¾å·¥å…·<br><a href="https://github.com/TrueFurby/go-callvis">https://github.com/TrueFurby/go-callvis</a></p><p>13)Realize<br>å¼€å‘æµç¨‹æ”¹è¿›å·¥å…·<br><a href="https://github.com/oxequa/realize">https://github.com/oxequa/realize</a></p><p>14)Gotests<br>è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹å·¥å…·<br><a href="https://github.com/cweill/gotests">https://github.com/cweill/gotests</a></p><h2 id="äºŒ-è°ƒè¯•å·¥å…·"><a href="#äºŒ-è°ƒè¯•å·¥å…·" class="headerlink" title="äºŒ.è°ƒè¯•å·¥å…·"></a>äºŒ.è°ƒè¯•å·¥å…·</h2><p>1)perf<br>ä»£ç†å·¥å…·ï¼Œæ”¯æŒå†…å­˜ï¼Œcpuï¼Œå †æ ˆæŸ¥çœ‹ï¼Œå¹¶æ”¯æŒç«ç„°å›¾.<br>perf å·¥å…·å’Œ go-torch å·¥å…·ï¼Œå¿«æ·å®šä½ç¨‹åºé—®é¢˜.<br><a href="https://github.com/uber-archive/go-torch">https://github.com/uber-archive/go-torch</a><br><a href="https://github.com/google/gops">https://github.com/google/gops</a></p><p>2)dlv è¿œç¨‹è°ƒè¯•<br>åŸºäº goland+dlv å¯ä»¥å®ç°è¿œç¨‹è°ƒå¼çš„èƒ½åŠ›.<br><a href="https://github.com/go-delve/delve">https://github.com/go-delve/delve</a><br>æä¾›äº†å¯¹ golang åŸç”Ÿçš„æ”¯æŒï¼Œç›¸æ¯” gdb è°ƒè¯•ï¼Œç®€å•å¤ªå¤šã€‚</p><p>3)ç½‘ç»œä»£ç†å·¥å…·<br>goproxy ä»£ç†ï¼Œæ”¯æŒå¤šç§åè®®ï¼Œæ”¯æŒ ssh ç©¿é€å’Œ kcp åè®®.<br><a href="https://github.com/snail007/goproxy">https://github.com/snail007/goproxy</a></p><p>4)æŠ“åŒ…å·¥å…·<br>go-sniffer å·¥å…·ï¼Œå¯æ‰©å±•çš„æŠ“åŒ…å·¥å…·ï¼Œå¯ä»¥å¼€å‘è‡ªå®šä¹‰åè®®çš„å·¥å…·åŒ…. ç°åœ¨åªæ”¯æŒäº† httpï¼Œmysqlï¼Œredisï¼Œmongodb.<br>åŸºäºè¿™ä¸ªå·¥å…·ï¼Œæˆ‘ä»¬å¼€å‘äº† qapp åè®®çš„æŠ“åŒ…ã€‚<br><a href="https://github.com/40t/go-sniffer">https://github.com/40t/go-sniffer</a></p><p>5)åå‘ä»£ç†å·¥å…·ï¼Œå¿«æ·å¼€æ”¾å†…ç½‘ç«¯å£ä¾›å¤–éƒ¨ä½¿ç”¨ã€‚<br>ngrok å¯ä»¥è®©å†…ç½‘æœåŠ¡å¤–éƒ¨è°ƒç”¨<br><a href="https://ngrok.com/">https://ngrok.com/</a><br><a href="https://github.com/inconshreveable/ngrok">https://github.com/inconshreveable/ngrok</a></p><p>6)é…ç½®åŒ–ç”Ÿæˆè¯ä¹¦<br>ä»æ ¹è¯ä¹¦ï¼Œåˆ°ä¸šåŠ¡ä¾§è¯ä¹¦ä¸€é”®ç”Ÿæˆ.<br><a href="https://github.com/cloudflare/cfssl">https://github.com/cloudflare/cfssl</a></p><p>7)å…è´¹çš„è¯ä¹¦è·å–å·¥å…·<br>åŸºäº acme åè®®ï¼Œä» letsencrypt ç”Ÿæˆå…è´¹çš„è¯ä¹¦ï¼Œæœ‰æ•ˆæœŸ 1 å¹´ï¼Œå¯è‡ªåŠ¨ç»­æœŸã€‚<br><a href="https://github.com/Neilpang/acme.sh">https://github.com/Neilpang/acme.sh</a></p><p>8)å¼€å‘ç¯å¢ƒç®¡ç†å·¥å…·ï¼Œå•æœºæ­å»ºå¯ç§»æ¤å·¥å…·çš„åˆ©å™¨ã€‚æ”¯æŒå¤šç§è™šæ‹Ÿæœºåç«¯ã€‚<br>vagrantå¸¸è¢«æ‹¿æ¥åŒ docker ç›¸æ¯”ï¼Œå€¼å¾—æ‹¥æœ‰ã€‚<br><a href="https://github.com/hashicorp/vagrant">https://github.com/hashicorp/vagrant</a></p><p>9)è½»é‡çº§å®¹å™¨è°ƒåº¦å·¥å…·<br>nomad å¯ä»¥éå¸¸æ–¹ä¾¿çš„ç®¡ç†å®¹å™¨å’Œä¼ ç»Ÿåº”ç”¨ï¼Œç›¸æ¯” k8s æ¥è¯´ï¼Œç®€å•ä¸è¦å¤ªå¤š.<br><a href="https://github.com/hashicorp/nomad">https://github.com/hashicorp/nomad</a></p><p>10)æ•æ„Ÿä¿¡æ¯å’Œå¯†é’¥ç®¡ç†å·¥å…·<br><a href="https://github.com/hashicorp/vault">https://github.com/hashicorp/vault</a></p><p>11)é«˜åº¦å¯é…ç½®åŒ–çš„ http è½¬å‘å·¥å…·ï¼ŒåŸºäº etcd é…ç½®ã€‚<br><a href="https://github.com/gojek/weaver">https://github.com/gojek/weaver</a></p><p>12)è¿›ç¨‹ç›‘æ§å·¥å…· supervisor<br><a href="https://www.jianshu.com/p/39b476e808d8">https://www.jianshu.com/p/39b476e808d8</a></p><p>13)åŸºäºprocFileè¿›ç¨‹ç®¡ç†å·¥å…·. ç›¸æ¯” supervisor æ›´åŠ ç®€å•ã€‚<br><a href="https://github.com/ddollar/foreman">https://github.com/ddollar/foreman</a></p><p>14)åŸºäº httpï¼Œhttpsï¼Œwebsocket çš„è°ƒè¯•ä»£ç†å·¥å…·ï¼Œé…ç½®åŠŸèƒ½ä¸°å¯Œã€‚åœ¨çº¿æ•™è‚²çš„ nohost web è°ƒè¯•å·¥å…·ï¼ŒåŸºäºæ­¤å¼€å‘.<br><a href="https://github.com/avwo/whistle">https://github.com/avwo/whistle</a></p><p>15)åˆ†å¸ƒå¼è°ƒåº¦å·¥å…·<br><a href="https://github.com/shunfei/cronsun/blob/master/README_ZH.md">https://github.com/shunfei/cronsun/blob/master/README_ZH.md</a><br><a href="https://github.com/ouqiang/gocron">https://github.com/ouqiang/gocron</a></p><p>16)è‡ªåŠ¨åŒ–è¿ç»´å¹³å° Gaia<br><a href="https://github.com/gaia-pipeline/gaia">https://github.com/gaia-pipeline/gaia</a></p><h2 id="ä¸‰-ç½‘ç»œå·¥å…·"><a href="#ä¸‰-ç½‘ç»œå·¥å…·" class="headerlink" title="ä¸‰. ç½‘ç»œå·¥å…·"></a>ä¸‰. ç½‘ç»œå·¥å…·</h2><p><img src="https://hypo-pictrue-1308430808.cos.ap-shanghai.myqcloud.com/hypo.ltd-%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE%E5%AD%98%E5%82%A8/640.webp"></p><h2 id="å››-å¸¸ç”¨ç½‘ç«™"><a href="#å››-å¸¸ç”¨ç½‘ç«™" class="headerlink" title="å››. å¸¸ç”¨ç½‘ç«™"></a>å››. å¸¸ç”¨ç½‘ç«™</h2><p>go ç™¾ç§‘å…¨ä¹¦: <a href="https://awesome-go.com/">https://awesome-go.com/</a></p><p>json è§£æ: <a href="https://www.json.cn/">https://www.json.cn/</a></p><p>å‡ºå£ IP: <a href="https://ipinfo.io/">https://ipinfo.io/</a></p><p>redis å‘½ä»¤: <a href="http://doc.redisfans.com/">http://doc.redisfans.com/</a></p><p>ES å‘½ä»¤é¦–é¡µ:</p><p><a href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/index.html">https://www.elastic.co/guide/cn/elasticsearch/guide/current/index.html</a></p><p>UrlEncode: <a href="http://tool.chinaz.com/Tools/urlencode.aspx">http://tool.chinaz.com/Tools/urlencode.aspx</a></p><p>Base64: <a href="https://tool.oschina.net/encrypt?type=3">https://tool.oschina.net/encrypt?type=3</a></p><p>Guid: <a href="https://www.guidgen.com/">https://www.guidgen.com/</a></p><p>å¸¸ç”¨å·¥å…·: <a href="http://www.ofmonkey.com/">http://www.ofmonkey.com/</a></p><h2 id="äº”-golang-å¸¸ç”¨åº“"><a href="#äº”-golang-å¸¸ç”¨åº“" class="headerlink" title="äº”. golang å¸¸ç”¨åº“"></a>äº”. golang å¸¸ç”¨åº“</h2><p>æ—¥å¿—<br><a href="https://github.com/Sirupsen/logrus">https://github.com/Sirupsen/logrus</a><br><a href="https://github.com/uber-go/zap">https://github.com/uber-go/zap</a></p><p>é…ç½®<br>å…¼å®¹ jsonï¼Œtomlï¼Œyamlï¼Œhcl ç­‰æ ¼å¼çš„æ—¥å¿—åº“.<br><a href="https://github.com/spf13/viper">https://github.com/spf13/viper</a></p><p>å­˜å‚¨<br>mysql: <a href="https://github.com/go-xorm/xorm">https://github.com/go-xorm/xorm</a><br>es: <a href="https://github.com/elastic/elasticsearch">https://github.com/elastic/elasticsearch</a><br>redis: <a href="https://github.com/gomodule/redigo">https://github.com/gomodule/redigo</a><br>mongo: <a href="https://github.com/mongodb/mongo-go-driver">https://github.com/mongodb/mongo-go-driver</a><br>kafka: <a href="https://github.com/Shopify/sarama">https://github.com/Shopify/sarama</a></p><p>æ•°æ®ç»“æ„<br><a href="https://github.com/emirpasic/gods">https://github.com/emirpasic/gods</a></p><p>å‘½ä»¤è¡Œ<br><a href="https://github.com/spf13/cobra">https://github.com/spf13/cobra</a></p><p>æ¡†æ¶<br><a href="https://github.com/grpc/grpc-go">https://github.com/grpc/grpc-go</a><br><a href="https://github.com/gin-gonic/gin">https://github.com/gin-gonic/gin</a></p><p>å¹¶å‘<br><a href="https://github.com/Jeffail/tunny">https://github.com/Jeffail/tunny</a><br><a href="https://github.com/benmanns/goworker">https://github.com/benmanns/goworker</a><br>ç°åœ¨æˆ‘ä»¬æ¡†æ¶åœ¨ç”¨çš„ï¼Œè™½ç„¶ star ä¸å¤šï¼Œä½†æ˜¯ç¡®å®å¥½ç”¨ï¼Œå½“ç„¶è¿˜å¯ä»¥æ›´å¥½ç”¨.<br><a href="https://github.com/rafaeldias/async">https://github.com/rafaeldias/async</a></p><p>å·¥å…·<br>å®šä¹‰äº†å®ç”¨çš„åˆ¤å®šç±»ï¼Œä»¥åŠé’ˆå¯¹ç»“æ„ä½“çš„æ ¡éªŒé€»è¾‘ï¼Œé¿å…ä¸šåŠ¡ä¾§å†™å¤æ‚çš„ä»£ç .<br><a href="https://github.com/asaskevich/govalidator">https://github.com/asaskevich/govalidator</a><br><a href="https://github.com/bytedance/go-tagexpr">https://github.com/bytedance/go-tagexpr</a></p><p>protobuf æ–‡ä»¶åŠ¨æ€è§£æçš„æ¥å£ï¼Œå¯ä»¥å®ç°åå°„ç›¸å…³çš„èƒ½åŠ›ã€‚<br><a href="https://github.com/jhump/protoreflect">https://github.com/jhump/protoreflect</a></p><p>è¡¨è¾¾å¼å¼•æ“å·¥å…·<br><a href="https://github.com/Knetic/govaluate">https://github.com/Knetic/govaluate</a><br><a href="https://github.com/google/cel-go">https://github.com/google/cel-go</a></p><p>å­—ç¬¦ä¸²å¤„ç†<br><a href="https://github.com/huandu/xstrings">https://github.com/huandu/xstrings</a></p><p>ratelimit å·¥å…·<br><a href="https://github.com/uber-go/ratelimit">https://github.com/uber-go/ratelimit</a><br><a href="https://blog.csdn.net/chenchongg/article/details/85342086">https://blog.csdn.net/chenchongg/article/details/85342086</a><br><a href="https://github.com/juju/ratelimit">https://github.com/juju/ratelimit</a></p><p>golang ç†”æ–­çš„åº“<br>ç†”æ–­é™¤äº†è€ƒè™‘é¢‘ç‡é™åˆ¶ï¼Œè¿˜è¦è€ƒè™‘ qpsï¼Œå‡ºé”™ç‡ç­‰å…¶ä»–ä¸œè¥¿.<br><a href="https://github.com/afex/hystrix-go">https://github.com/afex/hystrix-go</a><br><a href="https://github.com/sony/gobreaker">https://github.com/sony/gobreaker</a></p><p>è¡¨æ ¼<br><a href="https://github.com/chenjiandongx/go-echarts">https://github.com/chenjiandongx/go-echarts</a></p><p>tail å·¥å…·åº“<br><a href="https://github.com/hpcloud/taglshi">https://github.com/hpcloud/taglshi</a></p><p>è½¬è‡ª<br><a href="https://mp.weixin.qq.com/s/WjaHJHE7ZPbgo7QwIDwZzQ">https://mp.weixin.qq.com/s/WjaHJHE7ZPbgo7QwIDwZzQ</a><br>æ„Ÿè°¢å¤§ä½¬åˆ†äº«ï¼ï¼</p>]]></content>
      
      
      <categories>
          
          <category> è½¬è½½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è½¬è½½ </tag>
            
            <tag> Golang </tag>
            
            <tag> æ•ˆç‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äººä¸äººä¹‹é—´çš„æ‚²å–œå¹¶ä¸ç›¸é€š</title>
      <link href="/hypo-Z.github.io/2022/01/24/32-ren-yu-ren-zhi-jian-de-bei-xi-bing-bu-xiang-tong/"/>
      <url>/hypo-Z.github.io/2022/01/24/32-ren-yu-ren-zhi-jian-de-bei-xi-bing-bu-xiang-tong/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©ç…§å¸¸æ‰“å¼€æ–°é—»ï¼Œå¶ç„¶é—´çœ‹åˆ°ä¸€ç¯‡çƒ­ç‚¹æ–°é—»ï¼Œæ ‡é¢˜æ˜¯â€œå¯»äº²ç”·å­©â€¦è‡ªæ€â€ï¼Œæˆ‘å°±å¥½å¥‡ç‚¹è¿›å»çœ‹äº†ä¸€ä¸‹ï¼Œç”·å­©è‡ªæ€å‰å†™äº†ä¸€å°é—ä¹¦ï¼Œè¿°è¯´äº†è‡ªå·±æ™®é€šä½†æƒ¨æ·¡çš„ä¸€ç”Ÿï¼Œä»–è¿°è¯´è‡ªå·±åœ¨è®°äº‹èµ·ï¼Œçˆ¶æ¯å°±å› ä¸ºäº‹æ•…å»ä¸–äº†ï¼Œä»å°å’Œå§¥å§¥ç”Ÿæ´»ï¼Œå¹¶ä¸”é­å—äº†æ—äººçš„æ¬ºè´Ÿä¸­æˆé•¿ã€‚åæ¥å¶ç„¶é—´å‘ç°è‡ªå·±åœ¨å©´å„¿æ—¶æœŸå°±è¢«è‡ªå·±çœŸæ­£çš„äº²ç”Ÿçˆ¶æ¯å–äº†ï¼Œæ‰€ä»¥ä»–æƒ³å¯»æ‰¾è‡ªå·±ä¸¢å¤±çš„äº²æƒ…ï¼Œä»–çš„äº‹è¿¹å°±è¢«å‘åˆ°ç½‘ä¸Šå‘é…µï¼Œä¸€äº›ä¸æ˜äº‹ç†å°±éšæ„è¯½è°¤ä»–åŠ æ¶è¨€ç›¸å‘ã€‚ä»–æ‰15å²ï¼Œåœ¨ä»–çš„æƒ¨æ·¡çš„ä¸€ç”Ÿä¸­ï¼Œä»–å°†è‡ªå·±çš„æ‚²ä¼¤è—åœ¨å¿ƒåœ°ï¼Œå¸Œæœ›ç»™è¢«äººä¸€ç‚¹é˜³å…‰çš„å½¢è±¡ï¼Œå¸Œæœ›åˆ«äººèƒ½å¤Ÿå–„å¾…ä»–ã€‚ä½†æ˜¯ï¼Œåœ¨è¿™ä¸ªäººäººè‡ªå·±çš„æ—¶ä»£ï¼Œå¤§å¤šæ•°çš„äººå¹¶ä¸ä¼šå¯¹ä½ çš„äº‹æƒ…ä½ çš„å¿ƒç†ä½ çš„ç”Ÿæ´»æœ‰åŒæƒ…ï¼Œå› ä¸ºä»–ä»¬ä¸æ˜¯ä½ ï¼Œä¸è¦å°è¯•æ”¹å˜å…¶ä»–äººçš„æƒ³æ³•ï¼Œæœ€ç»ˆä½ åªä¼šè‡ªé£Ÿå…¶æœã€‚äººä¸äººä¹‹é—´çš„å†…å¿ƒå¹¶ä¸ç›¸é€šï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡å…¶ä»–çš„äº‹ç‰©ï¼Œè¡¨è¾¾å‡ºæ¥ï¼Œåœ¨çœ‹è¿‡ä»–çš„é—ä¹¦å¹¶äº†è§£åˆ°ä»–çš„ä¸€ç”Ÿåï¼Œæˆ‘å¯¹ä»–è¡¨ç¤ºåŒæƒ…ã€‚ä¸ä»…ä»…æ˜¯å¯¹ä»–çš„äººç”Ÿï¼Œä¹Ÿæ˜¯å¯¹åƒä»–è¿™æ ·åœ¨ç½‘ä¸Šé­å—ç½‘ç»œæš´åŠ›çš„äººä»¬ï¼Œäººé—´æ˜¯ä¸ç¾å¥½çš„ï¼Œå¸Œæœ›ä»–åœ¨å¦ä¸€ä¸ªä¸–ç•Œä¸å†ç—›è‹¦ï¼Œèƒ½å’Œè‡ªå·±çš„çˆ¶æ¯å¿«ä¹çš„ç”Ÿæ´»ã€‚</p><p>åœ¨åé¢å¼•ç”¨ä¸€å¥è¯é€ç»™ç½‘ç»œæ–½æš´è€…ï¼š</p><p>å¦‚æœæˆ‘æ°¸è¿œå¿˜ä¸æ‰ï¼Œä½ ä»¬ä¹Ÿåˆ«æƒ³å¿˜æ‰ï¼Œä½ ä»¬éª‚è¿‡æˆ‘æœ€éš¾å¬çš„è¯ï¼Œä½ ä»¬åŠ¨æ‰‹çš„æ²¡åŠ¨æ‰‹çš„éƒ½ä¸€æ ·ï¼Œä½ ä»¬æ¯”çŸ³å¤´è¿˜å†·æ¼ ï¼Œä½ ä»¬åˆæ¶æ¯’åˆæ„šè ¢ï¼Œä½ ä»¬èƒ†å°æ€•äº‹ï¼Œåˆ«äººåšä»€ä¹ˆä½ å°±è·Ÿç€åšä»€ä¹ˆï¼Œä½ ä»¬å·´ä¸å¾—ä¸–ç•Œä¸Šå¤šæ­»ä¸€ä¸ªäººï¼Œå› ä¸ºä½ ä»¬æ—¥å­çœŸçš„æ— èŠï¼Œå› ä¸ºä½ ä»¬è§‰å¾—è‡ªå·±ä¸ä¼šæ‰¿æ‹…ä»»ä½•åæœï¼Œæ€æ­»é¡¾æ£®æ¹˜çš„å‡¶æ‰‹æˆ‘ä¸çŸ¥é“æ˜¯è°ï¼Œä½†æ€æ­»æˆ‘çš„å‡¶æ‰‹ï¼Œå°±éƒ½åœ¨è¿™é‡Œäº†ï¼â€”â€”â€”å½±è§†å‰§ç…§è¿›ç°å®ï¼</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
            <tag> æ–‡ç«  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IPFS-å¯å¿«é€Ÿç´¢å¼•çš„ç‰ˆæœ¬åŒ–çš„ç‚¹å¯¹ç‚¹æ–‡ä»¶ç³»ç»Ÿ</title>
      <link href="/hypo-Z.github.io/2022/01/21/31-ipfs-ke-kuai-su-suo-yin-de-ban-ben-hua-de-dian-dui-dian-wen-jian-xi-tong/"/>
      <url>/hypo-Z.github.io/2022/01/21/31-ipfs-ke-kuai-su-suo-yin-de-ban-ben-hua-de-dian-dui-dian-wen-jian-xi-tong/</url>
      
        <content type="html"><![CDATA[<h1 id="IPFS-å¯å¿«é€Ÿç´¢å¼•çš„ç‰ˆæœ¬åŒ–çš„ç‚¹å¯¹ç‚¹æ–‡ä»¶ç³»ç»Ÿï¼ˆè‰ç¨¿3ï¼‰"><a href="#IPFS-å¯å¿«é€Ÿç´¢å¼•çš„ç‰ˆæœ¬åŒ–çš„ç‚¹å¯¹ç‚¹æ–‡ä»¶ç³»ç»Ÿï¼ˆè‰ç¨¿3ï¼‰" class="headerlink" title="IPFS - å¯å¿«é€Ÿç´¢å¼•çš„ç‰ˆæœ¬åŒ–çš„ç‚¹å¯¹ç‚¹æ–‡ä»¶ç³»ç»Ÿï¼ˆè‰ç¨¿3ï¼‰"></a>IPFS - å¯å¿«é€Ÿç´¢å¼•çš„ç‰ˆæœ¬åŒ–çš„ç‚¹å¯¹ç‚¹æ–‡ä»¶ç³»ç»Ÿï¼ˆè‰ç¨¿3ï¼‰</h1><p>ä½œè€…ï¼š Juan Benet (<a href="mailto:juan@benet.ai">juan@benet.ai</a>)<br>è¯‘è€…ï¼š éƒ­å…‰å(<a href="mailto:gavin@8btc.com">gavin@8btc.com</a>)</p><h3 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h3><p>æ˜Ÿé™…æ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸€ç§ç‚¹å¯¹ç‚¹çš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œ æ—¨åœ¨è¿æ¥æ‰€æœ‰æœ‰ç›¸åŒçš„æ–‡ä»¶ç³»ç»Ÿçš„è®¡ç®—æœºè®¾å¤‡ã€‚åœ¨æŸäº›æ–¹é¢ï¼Œ IPFSç±»ä¼¼äºweb, ä½†web æ˜¯ä¸­å¿ƒåŒ–çš„ï¼Œè€ŒIPFSæ˜¯ä¸€ä¸ªå•ä¸€çš„Bittorrent ç¾¤é›†ï¼Œ ç”¨git ä»“åº“åˆ†å¸ƒå¼å­˜å‚¨ã€‚æ¢å¥è¯è¯´ï¼Œ IPFS æä¾›äº†é«˜ååé‡çš„å†…å®¹å¯»å€å—å­˜å‚¨æ¨¡å‹ï¼Œ å…·æœ‰å†…å®¹å¯»å€çš„è¶…é“¾æ¥ã€‚è¿™å½¢æˆäº†ä¸€ä¸ªå¹¿ä¹‰çš„Merkle DAG æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç”¨è¿™ä¸ªæ•°æ®ç»“æ„æ„å»ºç‰ˆæœ¬æ–‡ä»¶ç³»ç»Ÿï¼ŒåŒºå—é“¾ï¼Œç”šè‡³æ˜¯æ°¸ä¹…æ€§ç½‘ç«™ã€‚ã€‚IPFS ç»“åˆäº†åˆ†å¸ƒå¼å“ˆå¸Œè¡¨ï¼Œ å¸¦æœ‰æ¿€åŠ±æœºåˆ¶çš„å—äº¤æ¢å’Œè‡ªæˆ‘è®¤è¯å‘½åç©ºé—´ã€‚IPFS æ²¡æœ‰å•æ•…éšœç‚¹ï¼Œ èŠ‚ç‚¹ä¸éœ€è¦ç›¸äº’ä¿¡ä»»ã€‚</p><h3 id="1-ä»‹ç»"><a href="#1-ä»‹ç»" class="headerlink" title="1. ä»‹ç»"></a>1. ä»‹ç»</h3><p>   åœ¨å…¨çƒåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿè¿™é¢†åŸŸï¼Œ å·²ç»æœ‰è®¸å¤šäººçš„å°è¯•ã€‚ä¸€äº›ç³»ç»Ÿå·²ç»å–å¾—äº†é‡å¤§çš„æˆåŠŸï¼Œ è€Œå¾ˆå¤šå´å®Œå…¨å¤±è´¥äº†ã€‚åœ¨å­¦æœ¯å°è¯•ä¸­ï¼Œ AFSã€6ã€‘å°±æ˜¯æˆåŠŸçš„ä¾‹å­ï¼Œå¦‚ä»Šå·²ç»å¾—åˆ°å¹¿æ³›çš„åº”ç”¨ï¼Œ ç„¶è€Œï¼Œå…¶ä»–çš„ã€7ï¼Œ ï¼Ÿã€‘å´æ²¡æœ‰å¾—åˆ°ç›¸åŒçš„ç»“æœã€‚åœ¨å­¦æœ¯ç•Œä¹‹å¤–ï¼Œåº”ç”¨æœ€å¹¿æ³›çš„æ˜¯é¢å‘éŸ³è§†é¢‘åª’ä½“çš„ç‚¹å¯¹ç‚¹æ–‡ä»¶å…±äº«ç³»ç»Ÿã€‚ æœ€å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ Napster, KaZaA å’ŒBitTorrent[2]éƒ¨ç½²çš„æ–‡ä»¶åˆ†å‘ç³»ç»Ÿæ”¯æŒ1äº¿ç”¨æˆ·çš„åŒæ—¶åœ¨çº¿ã€‚å³ä½¿åœ¨ä»Šå¤©ï¼Œ BitTorrent ä¹Ÿç»´æŒç€æ¯å¤©åƒä¸‡èŠ‚ç‚¹çš„æ´»è·ƒæ•°ã€‚ åŸºäºè¿™äº›å­¦æœ¯æ–‡ä»¶ç³»ç»Ÿç†è®ºè€Œå®ç°çš„åº”ç”¨ç¨‹åºæœ‰å¾ˆå¤šçš„ç”¨æˆ·é‡ï¼Œ ç„¶è€Œï¼Œè¿™äº›ç³»ç»Ÿç†è®ºæ˜¯åœ¨åº”ç”¨å±‚ï¼Œè€Œæ²¡æœ‰æ”¾åœ¨åŸºç¡€å±‚ã€‚ä»¥è‡´æ²¡æœ‰å‡ºç°é€šç”¨çš„æ–‡ä»¶ç³»ç»ŸåŸºç¡€æ¡†æ¶ï¼Œ ç»™å…¨çƒæä¾›ä½å»¶è¿Ÿçš„åˆ†å‘ã€‚<br>   ä¹Ÿè®¸æ˜¯å› ä¸ºHTTPè¿™æ ·â€œè¶³å¤Ÿå¥½â€œçš„ç³»ç»Ÿå·²ç»å­˜åœ¨ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼ŒHTTPå·²ç»ä½œä¸ºâ€œåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿâ€œçš„åè®®ï¼Œå¹¶ä¸”å·²ç»å¤§é‡éƒ¨ç½²ï¼Œå†ä¸æµè§ˆå™¨ç›¸ç»“åˆï¼Œå…·æœ‰å·¨å¤§çš„æŠ€æœ¯å’Œç¤¾ä¼šå½±å“åŠ›ã€‚åœ¨ç°åœ¨ï¼Œ å®ƒå·²ç»æˆä¸ºäº’è”ç½‘ä¼ è¾“æ–‡ä»¶çš„äº‹å®æ ‡å‡†ã€‚ç„¶è€Œï¼Œä»–æ²¡æœ‰é‡‡ç”¨æœ€è¿‘15å¹´çš„å‘æ˜çš„æ•°åç§å…ˆè¿›çš„æ–‡ä»¶åˆ†å‘æŠ€æœ¯ã€‚ ä»ä¸€æ–¹é¢è®²ï¼Œ ç”±äºå‘åå…¼å®¹çš„é™åˆ¶ å’Œ å½“å‰æ–°æ¨¡å¼çš„æŠ•å…¥ï¼Œ ä¸æ–­å‘å±•http web çš„åŸºç¡€è®¾æ–½å‡ ä¹æ˜¯ä¸å¯èƒ½çš„ã€‚ä½†ä»ä¸€ä¸ªè§’åº¦çœ‹ï¼Œ ä»http å‡ºç°ä»¥æ¥ï¼Œ å·²ç»æœ‰è®¸å¤šæ–°åè®®å‡ºç°å¹¶è¢«å¹¿æ³›ä½¿ç”¨ã€‚å‡çº§httpåè®®è™½ç„¶èƒ½å¼•å…¥æ–°åŠŸèƒ½å’ŒåŠ å¼ºå½“å‰httpåè®®ï¼Œä½†ä¼šé™ä½ç”¨æˆ·çš„ä½“éªŒã€‚<br>   æœ‰äº›è¡Œä¸šå·²ç»æ‘†è„±ä½¿ç”¨HTTP è¿™ä¹ˆä¹…ï¼Œ å› ä¸ºç§»åŠ¨å°æ–‡ä»¶ç›¸å¯¹ä¾¿å®œï¼Œå³ä½¿å¯¹æ‹¥æœ‰å¤§æµé‡çš„å°ç»„ç»‡ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä½†æ˜¯ï¼Œéšç€æ–°çš„æŒ‘æˆ˜ï¼Œæˆ‘ä»¬æ­£åœ¨è¿›å…¥æ•°æ®åˆ†å‘çš„æ–°çºªå…ƒã€‚</p><p>ï¼ˆaï¼‰æ‰˜ç®¡å’Œåˆ†å‘PBçº§æ•°æ®é›†ï¼Œ<br>ï¼ˆbï¼‰è·¨ç»„ç»‡çš„å¤§æ•°æ®è®¡ç®—ï¼Œ<br>ï¼ˆcï¼‰å¤§æ‰¹é‡çš„é«˜æ¸…æ™°åº¦æŒ‰éœ€æˆ–å®æ—¶åª’ä½“æµï¼Œ<br>ï¼ˆdï¼‰å¤§è§„æ¨¡æ•°æ®é›†çš„ç‰ˆæœ¬åŒ–å’Œé“¾æ¥ï¼Œ<br>ï¼ˆeï¼‰é˜²æ­¢æ„å¤–ä¸¢å¤±é‡è¦æ–‡ä»¶ç­‰ã€‚å…¶ä¸­è®¸å¤šå¯ä»¥å½’ç»“ä¸ºâ€œå¤§é‡æ•°æ®ï¼Œæ— å¤„ä¸åœ¨â€ã€‚ç”±äºå…³é”®åŠŸèƒ½å’Œå¸¦å®½é—®é¢˜ï¼Œæˆ‘ä»¬å·²ç»ä¸ºä¸åŒçš„æ•°æ®æ”¾å¼ƒäº†HTTP åˆ†é”€åè®®ã€‚ä¸‹ä¸€æ­¥æ˜¯ä½¿å®ƒä»¬æˆä¸ºwebè‡ªå·±çš„ä¸€éƒ¨åˆ†ã€‚<br>æ­£äº¤äºæœ‰æ•ˆçš„æ•°æ®åˆ†å‘ï¼Œç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå·²ç»è®¾æ³•å¼€å‘é‡è¦çš„æ•°æ®åä½œå·¥ä½œæµç¨‹ã€‚Gitæ˜¯åˆ†å¸ƒå¼æºä»£ç ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¼€å‘äº†è®¸å¤šæœ‰ç”¨çš„æ–¹æ³•æ¥å»ºæ¨¡å’Œå®ç°åˆ†å¸ƒå¼æ•°æ®æ“ä½œã€‚Gitå·¥å…·é“¾æä¾›äº†çµæ´»çš„ç‰ˆæœ¬æ§åˆ¶åŠŸèƒ½ï¼Œè¿™æ­£æ˜¯å¤§é‡çš„æ–‡ä»¶åˆ†å‘ç³»ç»Ÿæ‰€ä¸¥é‡ç¼ºä¹çš„ã€‚ç”±Gitå¯å‘çš„æ–°è§£å†³æ–¹æ¡ˆæ­£åœ¨å‡ºç°ï¼Œå¦‚Camlistore [ï¼Ÿ]ï¼Œä¸ªäººæ–‡ä»¶å­˜å‚¨ç³»ç»Ÿï¼ŒDat [ï¼Ÿ]æ•°æ®åä½œå·¥å…·é“¾å’Œæ•°æ®é›†åŒ…ç®¡ç†å™¨ã€‚Gitå·²ç»å½±å“äº†åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿè®¾è®¡[9]ï¼Œå› ä¸ºå…¶å†…å®¹æ¶‰åŠåˆ°Merkle DAGæ•°æ®æ¨¡å‹ï¼Œèƒ½å¤Ÿå®ç°å¼ºå¤§çš„æ–‡ä»¶åˆ†å‘ç­–ç•¥ã€‚è¿˜æœ‰å¾…æ¢è®¨çš„æ˜¯ï¼Œè¿™ç§æ•°æ®ç»“æ„å¦‚ä½•å½±å“é¢å‘é«˜ååé‡çš„æ–‡ä»¶ç³»ç»Ÿçš„è®¾è®¡ï¼Œä»¥åŠå¦‚ä½•å‡çº§Webæœ¬èº«ã€‚<br>æœ¬æ–‡ä»‹ç»äº†IPFSï¼Œä¸€ç§æ–°é¢–çš„å¯¹ç­‰ç‰ˆæœ¬æ§åˆ¶çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ—¨åœ¨è°ƒå’Œè¿™äº›é—®é¢˜ã€‚ IPFSç»¼åˆäº†è®¸å¤šä»¥å‰æˆåŠŸçš„ç³»ç»Ÿçš„ä¼˜ç‚¹ã€‚ IPFSäº§ç”Ÿäº†çªå‡ºçš„æ•ˆæœï¼Œ ç”šè‡³æ¯”å‚è€ƒçš„è¿™äº›ç³»ç»Ÿçš„æ€»å’Œè¿˜è¦å¥½ã€‚IPFSçš„æ ¸å¿ƒåŸåˆ™æ˜¯å°†æ‰€æœ‰æ•°æ®å»ºæ¨¡ä¸ºåŒä¸€Merkle DAGçš„ä¸€éƒ¨åˆ†ã€‚</p><h3 id="2-èƒŒæ™¯"><a href="#2-èƒŒæ™¯" class="headerlink" title="2. èƒŒæ™¯"></a>2. èƒŒæ™¯</h3><p>   æœ¬èŠ‚å›é¡¾äº†IPFSæ‰€é‡‡ç”¨æˆåŠŸçš„ç‚¹å¯¹ç‚¹ç³»ç»ŸæŠ€æœ¯çš„é‡è¦å±æ€§ã€‚</p><h4 id="2-1-åˆ†å¸ƒå¼å“ˆå¸Œè¡¨-DHT"><a href="#2-1-åˆ†å¸ƒå¼å“ˆå¸Œè¡¨-DHT" class="headerlink" title="2.1 åˆ†å¸ƒå¼å“ˆå¸Œè¡¨(DHT)"></a>2.1 åˆ†å¸ƒå¼å“ˆå¸Œè¡¨(DHT)</h4><p>   åˆ†å¸ƒå¼æ•£åˆ—è¡¨ï¼ˆDHTï¼‰è¢«å¹¿æ³›ç”¨äºåè°ƒå’Œç»´æŠ¤å…³äºå¯¹ç­‰ç³»ç»Ÿçš„å…ƒæ•°æ®ã€‚æ¯”å¦‚ï¼ŒMainlineDHT æ˜¯ä¸€ä¸ªå»ä¸­å¿ƒåŒ–å“ˆå¸Œè¡¨ï¼Œä»–å¯è¿½è¸ªæŸ¥æ‰¾æ‰€æœ‰çš„å¯¹ç­‰èŠ‚ç‚¹ã€‚</p><h5 id="2-1-1-KADEMLIA-DHT"><a href="#2-1-1-KADEMLIA-DHT" class="headerlink" title="2.1.1 KADEMLIA DHT"></a>2.1.1 KADEMLIA DHT</h5><p>   Kademlia[10] æ˜¯å—æ¬¢è¿çš„DHT, å®ƒæä¾›ï¼š<br>   1.é€šè¿‡å¤§é‡ç½‘ç»œè¿›è¡Œé«˜æ•ˆæŸ¥è¯¢ï¼šæŸ¥è¯¢å¹³å‡è”ç³»äººO(log2N)èŠ‚ç‚¹ã€‚ ï¼ˆä¾‹å¦‚ï¼Œ20è·³10ä¸‡ä¸ªèŠ‚ç‚¹çš„ç½‘ç»œï¼‰<br>   2.ä½åè°ƒå¼€é”€ï¼šä¼˜åŒ–æ•°é‡çš„æ§åˆ¶æ¶ˆæ¯å‘é€åˆ°å…¶ä»–èŠ‚ç‚¹ã€‚<br>   3.æŠµæŠ—å„ç§æ”»å‡»ï¼Œå–œæ¬¢é•¿å¯¿èŠ‚ç‚¹ã€‚<br>   4.åœ¨å¯¹ç­‰åº”ç”¨ä¸­å¹¿æ³›ä½¿ç”¨ï¼ŒåŒ…æ‹¬Gnutellaå’ŒBitTorrentï¼Œå½¢æˆäº†è¶…è¿‡2000ä¸‡ä¸ªèŠ‚ç‚¹çš„ç½‘ç»œ[16]ã€‚</p><h5 id="2-1-2-CORAL-DSHT"><a href="#2-1-2-CORAL-DSHT" class="headerlink" title="2.1.2 CORAL DSHT"></a>2.1.2 CORAL DSHT</h5><p>   è™½ç„¶ä¸€äº›å¯¹ç­‰æ–‡ä»¶ç³»ç»Ÿç›´æ¥åœ¨DHTä¸­å­˜å‚¨æ•°æ®å—ï¼Œè¿™ç§â€œæ•°æ®å­˜å‚¨åœ¨ä¸éœ€è¦çš„èŠ‚ç‚¹ä¼šä¹±è´¹å­˜å‚¨å’Œå¸¦å®½â€[5]ã€‚Coral DSHTæ‰©å±•äº†Kademliaä¸‰ä¸ªç‰¹åˆ«é‡è¦çš„æ–¹å¼ï¼š</p><p>1.Kademliaåœ¨idsä¸ºâ€œæœ€è¿‘â€ï¼ˆä½¿ç”¨XOR-distanceï¼‰çš„å…³é”®èŠ‚ç‚¹ä¸­å­˜å‚¨å€¼ã€‚è¿™ä¸è€ƒ è™‘åº”ç”¨ç¨‹åºæ•°æ®çš„å±€éƒ¨æ€§ï¼Œå¿½ç•¥â€œè¿œâ€å¯èƒ½å·²ç»æ‹¥æœ‰æ•°æ®çš„èŠ‚ç‚¹ï¼Œå¹¶å¼ºåˆ¶â€œæœ€è¿‘â€èŠ‚ç‚¹å­˜å‚¨å®ƒï¼Œæ— è®ºå®ƒä»¬æ˜¯å¦éœ€è¦ã€‚è¿™æµªè´¹äº†å¤§é‡çš„å­˜å‚¨å’Œå¸¦å®½ã€‚ç›¸åï¼ŒCoral å­˜å‚¨äº†åœ°å€ï¼Œ è¯¥åœ°å€çš„å¯¹ç­‰èŠ‚ç‚¹å¯ä»¥æä¾›ç›¸åº”çš„æ•°æ®å—ã€‚<br>2.Coralå°†DHT APIä»get_value(key)æ¢æˆäº†get_any_values(key)ï¼ˆDSHTä¸­çš„â€œsloppyâ€ï¼‰ä¸­ã€‚è¿™ä»ç„¶æ˜¯å› ä¸ºCoralç”¨æˆ·åªéœ€è¦ä¸€ä¸ªï¼ˆå·¥ä½œï¼‰çš„å¯¹ç­‰ä½“ï¼Œè€Œä¸æ˜¯å®Œæ•´çš„åˆ—è¡¨ã€‚ä½œä¸ºå›æŠ¥ï¼ŒCoralå¯ä»¥ä»…å°†å­é›†åˆ†é…åˆ°â€œæœ€è¿‘â€çš„èŠ‚ç‚¹ï¼Œé¿å…çƒ­ç‚¹ï¼ˆå½“å¯†é’¥å˜å¾—æµè¡Œæ—¶ï¼Œé‡è½½æ‰€æœ‰æœ€è¿‘çš„èŠ‚ç‚¹ï¼‰ã€‚<br>3.å¦å¤–ï¼ŒCoralæ ¹æ®åŒºåŸŸå’Œå¤§å°ç»„ç»‡äº†ä¸€ä¸ªç§°ä¸ºç¾¤é›†çš„ç‹¬ç«‹DSHTå±‚æ¬¡ç»“æ„ã€‚è¿™ä½¿å¾—èŠ‚ç‚¹é¦–å…ˆæŸ¥è¯¢å…¶åŒºåŸŸä¸­çš„å¯¹ç­‰ä½“ï¼Œâ€œæŸ¥æ‰¾é™„è¿‘çš„æ•°æ®è€Œä¸æŸ¥è¯¢è¿œç¨‹èŠ‚ç‚¹â€[5]å¹¶å¤§å¤§å‡å°‘æŸ¥æ‰¾çš„å»¶è¿Ÿã€‚</p><h5 id="2-1-3-S-KADEMLIA-DHT"><a href="#2-1-3-S-KADEMLIA-DHT" class="headerlink" title="2.1.3 S/KADEMLIA DHT"></a>2.1.3 S/KADEMLIA DHT</h5><p>S/Kademlia[1] æ‰©å±•äº†Kademlia, ç”¨äºé˜²æ­¢æ¶æ„çš„æ”»å‡»ã€‚æœ‰å¦‚ä¸‹ä¸¤æ–¹é¢çš„æ–¹æ³•ï¼š<br>1.S/Kad æä¾›äº†æ–¹æ¡ˆæ¥ä¿è¯NodeIdçš„ç”Ÿæˆå·²ç»é˜²æ­¢Sybillæ”»å‡»ã€‚å®ƒéœ€è¦èŠ‚ç‚¹äº§ç”ŸPKIå…¬ç§é’¥å¯¹ã€‚ä»ä¸­å¯¼å‡ºä»–ä»¬çš„èº«ä»½ï¼Œå¹¶å½¼æ­¤é—´ç­¾åã€‚ä¸€ä¸ªæ–¹æ¡ˆä½¿ç”¨POWå·¥ä½œé‡è¯æ˜ï¼Œä½¿å¾—ç”ŸæˆSybillsæˆæœ¬é«˜æ˜‚ã€‚<br>2.S/Kad èŠ‚ç‚¹åœ¨ä¸ç›¸äº¤çš„è·¯å¾„ä¸ŠæŸ¥æ‰¾ç›´ï¼Œ å³ä½¿ç½‘ç»œä¸­å­˜åœ¨å¤§é‡çš„ä¸è¯šå®èŠ‚ç‚¹ï¼Œä¹Ÿèƒ½ç¡®ä¿è¯šå®èŠ‚ç‚¹å¯ä»¥äº’ç›¸é“¾æ¥ã€‚å³ä½¿ç½‘ç»œä¸­å­˜åœ¨ä¸€åŠçš„ä¸è¯šå®èŠ‚ç‚¹ï¼ŒS/Kad ä¹Ÿèƒ½è¾¾åˆ°85%çš„æˆåŠŸç‡ã€‚</p><h4 id="2-2-å—äº¤æ¢-BitTorrent"><a href="#2-2-å—äº¤æ¢-BitTorrent" class="headerlink" title="2.2 å—äº¤æ¢ - BitTorrent"></a>2.2 å—äº¤æ¢ - BitTorrent</h4><p>BitTorrent[3] æ˜¯ä¸€ä¸ªå¹¿æ³›æˆåŠŸåº”ç”¨çš„ç‚¹å¯¹ç‚¹å…±äº«æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒå¯ä»¥åœ¨å­˜åœ¨ä¸ä¿¡ä»»çš„å¯¹ç­‰èŠ‚ç‚¹ï¼ˆç¾¤é›†ï¼‰çš„åä½œç½‘ç»œä¸­åˆ†å‘å„è‡ªçš„æ–‡ä»¶æ•°æ®ç‰‡ã€‚ä»BitTorrentå’Œå®ƒçš„ç”Ÿæ€ç³»ç»Ÿçš„å…³é”®ç‰¹å¾ï¼Œ IPFSå¾—åˆ°å¯ç¤ºå¦‚ä¸‹ï¼š<br>1.BitTorrentçš„æ•°æ®äº¤æ¢åè®®ä½¿ç”¨äº†ä¸€ç§bit-for-tatçš„æ¿€åŠ±ç­–ç•¥ï¼Œ å¯ä»¥å¥–åŠ±å¯¹å…¶ä»–æ–¹é¢åšè´¡çŒ®çš„èŠ‚ç‚¹ï¼Œæƒ©ç½šåªæ¦¨å–å¯¹æ–¹èµ„æºçš„èŠ‚ç‚¹ã€‚<br>2.BitTorrentå¯¹ç­‰ä½“è·Ÿè¸ªæ–‡ä»¶çš„å¯ç”¨æ€§ï¼Œä¼˜å…ˆå‘é€ç¨€æœ‰ç‰‡æ®µã€‚è¿™å‡è½»äº†seedsèŠ‚ç‚¹çš„è´Ÿæ‹…ï¼Œ è®©non-seedsèŠ‚ç‚¹æœ‰èƒ½åŠ›äº’ç›¸äº¤æ˜“ã€‚<br>3.å¯¹äºä¸€äº›å‰¥å‰Šå¸¦å®½å…±äº«ç­–ç•¥ï¼Œ BitTorrentçš„æ ‡å‡†tit-for-tatç­–ç•¥æ˜¯éå¸¸è„†å¼±çš„ã€‚ ç„¶è€Œï¼ŒPropShare[8]æ˜¯ä¸€ç§ä¸åŒçš„å¯¹ç­‰å¸¦å®½åˆ†é…ç­–ç•¥ï¼Œ å¯ä»¥æ›´å¥½çš„æŠµåˆ¶å‰¥å‰Šæˆ˜ç•¥ï¼Œ æé«˜ç¾¤é›†çš„è¡¨ç°ã€‚</p><h4 id="2-3-ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ-Git"><a href="#2-3-ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ-Git" class="headerlink" title="2.3. ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ- Git"></a>2.3. ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ- Git</h4><p>ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæä¾›äº†å¯¹éšæ—¶é—´å˜åŒ–çš„æ–‡ä»¶è¿›è¡Œå»ºæ¨¡çš„è®¾æ–½ï¼Œå¹¶æœ‰æ•ˆåœ°åˆ†å‘ä¸åŒçš„ç‰ˆæœ¬ã€‚æµè¡Œç‰ˆæœ¬æ§åˆ¶ç³»ç»ŸGitæä¾›äº†å¼ºå¤§çš„Merkle DAGå¯¹è±¡æ¨¡å‹ï¼Œä»¥åˆ†å¸ƒå¼å‹å¥½çš„æ–¹å¼æ•è·å¯¹æ–‡ä»¶ç³»ç»Ÿæ ‘çš„æ›´æ”¹ã€‚<br>1.ä¸å¯æ›´æ”¹çš„å¯¹è±¡è¡¨ç¤ºæ–‡ä»¶ï¼ˆblobï¼‰ï¼Œç›®å½•ï¼ˆæ ‘ï¼‰å’Œæ›´æ”¹ï¼ˆæäº¤ï¼‰ã€‚<br>2.é€šè¿‡åŠ å¯†hashå¯¹è±¡çš„å†…å®¹ï¼Œè®©å¯¹è±¡å¯å¯»å€ã€‚<br>3.é“¾æ¥åˆ°å…¶ä»–å¯¹è±¡æ˜¯åµŒå…¥çš„ï¼Œå½¢æˆä¸€ä¸ªMerkle DAGã€‚è¿™æä¾›äº†å¾ˆå¤šæœ‰ç”¨çš„å®Œæ•´å’Œwork-flowå±æ€§ã€‚<br>4.å¾ˆå¤šç‰ˆæœ¬å…ƒæ•°æ®ï¼ˆåˆ†æ”¯ï¼Œæ ‡ç¤ºç­‰ç­‰ï¼‰éƒ½åªæ˜¯æŒ‡é’ˆå¼•ç”¨ï¼Œå› æ­¤åˆ›å»ºå’Œæ›´æ–°çš„ä»£ä»·éƒ½å°ã€‚<br>5.ç‰ˆæœ¬æ”¹å˜åªæ˜¯æ›´æ–°å¼•ç”¨æˆ–è€…æ·»åŠ å¯¹è±¡ã€‚<br>6.åˆ†å¸ƒå¼ç‰ˆæœ¬æ”¹å˜å¯¹å…¶ä»–ç”¨æˆ·è€Œè¨€åªæ˜¯è½¬ç§»å¯¹è±¡å’Œæ›´æ–°è¿œç¨‹å¼•ç”¨ã€‚</p><h4 id="2-4-è‡ªæˆ‘è®¤è¯è®¤æ–‡ä»¶ç³»ç»Ÿ-SFS"><a href="#2-4-è‡ªæˆ‘è®¤è¯è®¤æ–‡ä»¶ç³»ç»Ÿ-SFS" class="headerlink" title="2.4 è‡ªæˆ‘è®¤è¯è®¤æ–‡ä»¶ç³»ç»Ÿ-SFS"></a>2.4 è‡ªæˆ‘è®¤è¯è®¤æ–‡ä»¶ç³»ç»Ÿ-SFS</h4><p>SFS [ 12ï¼Œ11 ]æå‡ºäº†ä¸¤ä¸ªå¼•äººæ³¨ç›®çš„å®ç°ï¼ˆaï¼‰åˆ†å¸ƒå¼ä¿¡ä»»é“¾ï¼Œå’Œï¼ˆbï¼‰å¹³ç­‰å…±äº«çš„å…¨å±€å‘½åç©ºé—´ã€‚SFSå¼•å…¥äº†ä¸€ç§è‡ªæˆ‘å»ºæ„æŠ€æœ¯â€”æ³¨å†Œæ–‡ä»¶ï¼šå¯»å€è¿œç¨‹æ–‡ä»¶ç³»ç»Ÿä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š</p><pre class="line-numbers language-none"><code class="language-none">/sfs/&lt;Location&gt;:&lt;HostID&gt;Location:ä»£è¡¨çš„æ˜¯æœåŠ¡ç½‘ç»œåœ°æ–¹HostID = hash(public_key || Location)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å› æ­¤SFSæ–‡ä»¶ç³»ç»Ÿçš„åå­—è®¤è¯äº†å®ƒçš„æœåŠ¡ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡æœåŠ¡æä¾›çš„å…¬é’¥æ¥éªŒè¯ï¼Œåå•†ä¸€ä¸ªå…±äº«çš„ç§é’¥ï¼Œä¿è¯æ‰€æœ‰çš„é€šä¿¡ã€‚æ‰€æœ‰çš„SFSå®ä¾‹éƒ½å…±äº«äº†ä¸€ä¸ªå…¨å±€çš„å‘½åç©ºé—´ï¼Œè¿™ä¸ªå‘½åç©ºé—´çš„åç§°åˆ†é…æ˜¯åŠ å¯†çš„ï¼Œä¸è¢«ä»»ä½•ä¸­å¿ƒåŒ–çš„bodyæ§åˆ¶ã€‚</p><h3 id="3-IPFSè®¾è®¡"><a href="#3-IPFSè®¾è®¡" class="headerlink" title="3. IPFSè®¾è®¡"></a>3. IPFSè®¾è®¡</h3><p>   IPFSæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒç»¼åˆäº†ä»¥å‰çš„å¯¹ç­‰ç³»ç»Ÿçš„æˆåŠŸæƒ³æ³•ï¼ŒåŒ…æ‹¬DHTï¼ŒBitTorrentï¼ŒGitå’ŒSFSã€‚ IPFSçš„è´¡çŒ®æ˜¯ç®€åŒ–ï¼Œå‘å±•å’Œå°†æˆç†Ÿçš„æŠ€æœ¯è¿æ¥æˆä¸€ä¸ªå•ä¸€çš„å†…èšç³»ç»Ÿï¼Œå¤§äºå…¶éƒ¨åˆ†çš„æ€»å’Œã€‚ IPFSæä¾›äº†ç¼–å†™å’Œéƒ¨ç½²åº”ç”¨ç¨‹åºçš„æ–°å¹³å°ï¼Œä»¥åŠä¸€ä¸ªæ–°çš„åˆ†å‘ç³»ç»Ÿç‰ˆæœ¬åŒ–å¤§æ•°æ®ã€‚ IPFSç”šè‡³å¯ä»¥æ¼”è¿›ç½‘ç»œæœ¬èº«ã€‚<br>   IPFSæ˜¯ç‚¹å¯¹ç‚¹çš„;æ²¡æœ‰èŠ‚ç‚¹æ˜¯ç‰¹æƒçš„ã€‚ IPFSèŠ‚ç‚¹å°†IPFSå¯¹è±¡å­˜å‚¨åœ¨æœ¬åœ°å­˜å‚¨ä¸­ã€‚èŠ‚ç‚¹å½¼æ­¤è¿æ¥å¹¶ä¼ è¾“å¯¹è±¡ã€‚è¿™äº›å¯¹è±¡è¡¨ç¤ºæ–‡ä»¶å’Œå…¶ä»–æ•°æ®ç»“æ„ã€‚ IPFSåè®®åˆ†ä¸ºä¸€ç»„è´Ÿè´£ä¸åŒåŠŸèƒ½çš„å­åè®®ï¼š</p><ol><li>èº«ä»½ - ç®¡ç†èŠ‚ç‚¹èº«ä»½ç”Ÿæˆå’ŒéªŒè¯ã€‚æè¿°åœ¨3.1èŠ‚ã€‚<br>2.ç½‘ç»œ - ç®¡ç†ä¸å…¶ä»–å¯¹ç­‰ä½“çš„è¿æ¥ï¼Œä½¿ç”¨å„ç§åº•å±‚ç½‘ç»œåè®®ã€‚å¯é…ç½®çš„ã€‚è¯¦è§3.2èŠ‚ã€‚<br>3.è·¯ç”± - ç»´æŠ¤ä¿¡æ¯ä»¥å®šä½ç‰¹å®šçš„å¯¹ç­‰ä½“å’Œå¯¹è±¡ã€‚å“åº”æœ¬åœ°å’Œè¿œç¨‹æŸ¥è¯¢ã€‚é»˜è®¤ä¸ºDHâ€‹â€‹Tï¼Œä½†å¯æ›´æ¢ã€‚åœ¨3.3èŠ‚æè¿°ã€‚<br>4.äº¤æ¢ - ä¸€ç§æ”¯æŒæœ‰æ•ˆå—åˆ†é…çš„æ–°å‹å—äº¤æ¢åè®®ï¼ˆBitSwapï¼‰ã€‚æ¨¡æ‹Ÿå¸‚åœºï¼Œå¼±åŒ–æ•°æ®å¤åˆ¶ã€‚è´¸æ˜“ç­–ç•¥å¯æ›¿æ¢ã€‚æè¿°åœ¨3.4èŠ‚ã€‚<br>5.å¯¹è±¡ - å…·æœ‰é“¾æ¥çš„å†…å®¹å¯»å€ä¸å¯æ›´æ”¹å¯¹è±¡çš„Merkle DAGã€‚ç”¨äºè¡¨ç¤ºä»»æ„æ•°æ®ç»“æ„ï¼Œä¾‹å¦‚æ–‡ä»¶å±‚æ¬¡å’Œé€šä¿¡ç³»ç»Ÿã€‚è¯¦è§ç¬¬3.5èŠ‚ã€‚<br>6.æ–‡ä»¶ - ç”±Gitå¯å‘çš„ç‰ˆæœ¬åŒ–æ–‡ä»¶ç³»ç»Ÿå±‚æ¬¡ç»“æ„ã€‚è¯¦è§3.6èŠ‚ã€‚<br>7.å‘½å - è‡ªæˆ‘è®¤è¯çš„å¯å˜åç§°ç³»ç»Ÿã€‚è¯¦è§3.7èŠ‚ã€‚<br>è¿™äº›å­ç³»ç»Ÿä¸æ˜¯ç‹¬ç«‹çš„;å®ƒä»¬æ˜¯é›†æˆåœ¨ä¸€èµ·ï¼Œäº’ç›¸åˆ©ç”¨å„è‡ªçš„å±æ€§ã€‚ä½†æ˜¯ï¼Œåˆ†å¼€æè¿°å®ƒä»¬æ˜¯æœ‰ç”¨çš„ï¼Œä»ä¸‹åˆ°ä¸Šæ„å»ºåè®®æ ˆã€‚ç¬¦å·ï¼šGoè¯­è¨€ä¸­æŒ‡å®šäº†ä»¥ä¸‹æ•°æ®ç»“æ„å’ŒåŠŸèƒ½</li></ol><h4 id="3-1-èº«ä»½"><a href="#3-1-èº«ä»½" class="headerlink" title="3.1 èº«ä»½"></a>3.1 èº«ä»½</h4><p>èŠ‚ç‚¹ç”±NodeIdæ ‡è¯†ï¼Œè¿™æ˜¯ä½¿ç”¨S / Kademliaçš„é™æ€åŠ å¯†éš¾é¢˜[1]åˆ›å»ºçš„å…¬é’¥çš„å¯†ç æ•£åˆ—ã€‚èŠ‚ç‚¹å­˜å‚¨å…¶å…¬ç§é’¥ï¼ˆç”¨å¯†ç åŠ å¯†ï¼‰ã€‚ç”¨æˆ·å¯ä»¥åœ¨æ¯æ¬¡å¯åŠ¨æ—¶è‡ªç”±åœ°è®¾ç½®ä¸€ä¸ªâ€œæ–°â€èŠ‚ç‚¹èº«ä»½ï¼Œå°½ç®¡è¿™ä¼šæŸå¤±ç§¯ç´¯çš„ç½‘ç»œåˆ©ç›Šã€‚æ¿€åŠ±èŠ‚ç‚¹ä¿æŒä¸å˜ã€‚</p><pre class="line-numbers language-none"><code class="language-none">type NodeId Multihashtype Multihash []byte  // è‡ªæè¿°åŠ å¯†å“ˆå¸Œæ‘˜è¦type PublicKey []bytetype PrivateKey []byte // è‡ªæè¿°çš„ç§é’¥type Node struct {NodeId NodeIDPubKey PublicKeyPriKey PrivateKey}åŸºäºS / Kademliaçš„IPFSèº«ä»½ç”Ÿæˆï¼šdifficulty = &lt;integer parameter&gt;n = Node{}do {n.PubKey, n.PrivKey = PKI.genKeyPair()n.NodeId = hash(n.PubKey)p = count_preceding_zero_bits(hash(n.NodeId))} while (p &lt; difficulty)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é¦–æ¬¡è¿æ¥æ—¶ï¼Œå¯¹ç­‰ä½“äº¤æ¢å…¬é’¥ï¼Œå¹¶æ£€æŸ¥ï¼šhashï¼ˆother.PublicKeyï¼‰ç­‰äºother.NodeIdã€‚å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿æ¥è¢«ç»ˆæ­¢<br>å…³äºåŠ å¯†å‡½æ•°çš„æ³¨æ„äº‹é¡¹ï¼š<br>IPFSä¸æ˜¯å°†ç³»ç»Ÿé”å®šåˆ°ä¸€ç»„ç‰¹å®šçš„åŠŸèƒ½é€‰æ‹©ï¼Œè€Œæ˜¯æ”¯æŒè‡ªæˆ‘æè¿°çš„å€¼ã€‚å“ˆå¸Œæ‘˜è¦å€¼ä»¥å¤šé‡å“ˆå¸Œæ ¼å¼å­˜å‚¨ï¼Œå…¶åŒ…æ‹¬æŒ‡å®šä½¿ç”¨çš„å“ˆå¸Œå‡½æ•°çš„å¤´å’Œä»¥å­—èŠ‚ä¸ºå•ä½çš„æ‘˜è¦é•¿åº¦ã€‚ä¾‹å¦‚ï¼š</p><p>1<br><function code=""><digest length=""><digest bytes=""><br>è¿™å…è®¸ç³»ç»Ÿ</digest></digest></function></p><p>ï¼ˆaï¼‰é€‰æ‹©æœ€ä½³åŠŸèƒ½ç”¨ä¾‹ï¼ˆä¾‹å¦‚ï¼Œæ›´å¼ºçš„å®‰å…¨æ€§ä¸æ›´å¿«çš„æ€§èƒ½ï¼‰ï¼Œ<br>ï¼ˆbï¼‰éšç€åŠŸèƒ½é€‰æ‹©çš„å˜åŒ–è€Œæ¼”å˜ã€‚è‡ªæè¿°å€¼å…è®¸å…¼å®¹ä½¿ç”¨ä¸åŒçš„å‚æ•°é€‰æ‹©ã€‚</p><h4 id="3-2-ç½‘ç»œ"><a href="#3-2-ç½‘ç»œ" class="headerlink" title="3.2 ç½‘ç»œ"></a>3.2 ç½‘ç»œ</h4><p>IPFSèŠ‚ç‚¹ä¸æ•°ç™¾ä¸ªå…¶ä»–èŠ‚ç‚¹è¿›è¡Œå®šæœŸé€šä¿¡ç½‘ç»œä¸­çš„èŠ‚ç‚¹ï¼Œå¯èƒ½è·¨è¶Šå¹¿åŸŸç½‘ç»œã€‚IPFSç½‘ç»œå †æ ˆåŠŸèƒ½ï¼š<br>ä¼ è¾“å±‚ï¼š IPFSå¯ä»¥ä½¿ç”¨ä»»ä½•ä¼ è¾“åè®®ï¼Œå¹¶ä¸”æœ€é€‚åˆWebRTC DataChannels [ï¼Ÿ]ï¼ˆç”¨äºæµè§ˆå™¨è¿æ¥ï¼‰æˆ–uTPï¼ˆLEDBAT [14]ï¼‰ã€‚<br>å¯é æ€§ï¼š å¦‚æœåº•å±‚ç½‘ç»œä¸æä¾›å¯é æ€§ï¼ŒIPFSå¯ä½¿ç”¨uTPï¼ˆLEDBAT [14]ï¼‰æˆ–SCTP [15]æ¥æä¾›â€‹â€‹å¯é æ€§ã€‚<br>å¯è¿æ¥æ€§ï¼šIPFSè¿˜å¯ä»¥ä½¿ç”¨ICE NATç©¿å¢™æ‰“æ´æŠ€æœ¯[13]ã€‚<br>å®Œæ•´æ€§ï¼šå¯ä»¥ä½¿ç”¨å“ˆå¸Œæ ¡éªŒå’Œæ¥æ£€æŸ¥é‚®ä»¶çš„å®Œæ•´æ€§ã€‚<br>å¯éªŒè¯æ€§ï¼šå¯ä»¥ä½¿ç”¨å‘é€è€…çš„å…¬é’¥ä½¿ç”¨HMACæ¥æ£€æŸ¥æ¶ˆæ¯çš„çœŸå®æ€§ã€‚<br>3.2.1å¯¹ç­‰èŠ‚ç‚¹å¯»å€æ³¨æ„äº‹é¡¹ï¼š<br>IPFSå¯ä»¥ä½¿ç”¨ä»»ä½•ç½‘ç»œ; ä½†å®ƒä¸æ‰¿æ‹…å¯¹IPçš„è·å–ä»¥åŠä¸ç›´æ¥ä¾èµ–äºipå±‚ã€‚è¿™å…è®¸åœ¨è¦†ç›–ç½‘ç»œä¸­ä½¿ç”¨IPFSã€‚<br>IPFSå°†åœ°å€å­˜å‚¨ä¸ºå¤šå±‚åœ°å€ï¼Œè¿™ä¸ªå¤šå±‚åœ°å€æ˜¯ç”±å­—èŠ‚å­—ç¬¦ä¸²ç»„æˆçš„ï¼Œ ä»¥ä¾¿äºç»™åº•å±‚ç½‘ç»œä½¿ç”¨ã€‚å¤šå±‚åœ°å€æä¾›äº†ä¸€ç§æ–¹å¼æ¥è¡¨ç¤ºåœ°å€åŠå…¶åè®®ï¼Œå¯ä»¥å°è£…æˆå¥½è§£æçš„æ ¼å¼ã€‚ä¾‹å¦‚ï¼š</p><pre class="line-numbers language-none"><code class="language-none"># an SCTP/IPv4 connection/ip4/10.20.30.40/sctp/1234/# an SCTP/IPv4 connection proxied over TCP/IPv4/ip4/5.6.7.8/tcp/5678/ip4/1.2.3.4/sctp/1234/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="3-3-è·¯ç”±"><a href="#3-3-è·¯ç”±" class="headerlink" title="3.3 è·¯ç”±"></a>3.3 è·¯ç”±</h4><p>IPFSèŠ‚ç‚¹éœ€è¦ä¸€ä¸ªè·¯ç”±ç³»ç»Ÿï¼Œ è¿™ä¸ªè·¯ç”±ç³»ç»Ÿå¯ç”¨äºæŸ¥æ‰¾ï¼š</p><p>ï¼ˆaï¼‰å…¶ä»–åŒä¼´çš„ç½‘ç»œåœ°å€ï¼Œ<br>ï¼ˆbï¼‰ä¸“é—¨ç”¨äºæœåŠ¡ç‰¹å®šå¯¹è±¡çš„å¯¹ç­‰èŠ‚ç‚¹ã€‚<br>IPFSä½¿ç”¨åŸºäºS / Kademliaå’ŒCoralçš„DSHTï¼Œåœ¨2.1èŠ‚ä¸­å…·ä½“ä»‹ç»è¿‡ã€‚åœ¨å¯¹è±¡å¤§å°å’Œä½¿ç”¨æ¨¡å¼æ–¹é¢ï¼Œ IPFS ç±»ä¼¼äºCoral[5] å’ŒMainline[16], å› æ­¤ï¼ŒIPFS DHTæ ¹æ®å…¶å¤§å°å¯¹å­˜å‚¨çš„å€¼è¿›è¡ŒåŒºåˆ†ã€‚å°çš„å€¼ï¼ˆç­‰äºæˆ–å°äº1KBï¼‰ç›´æ¥å­˜å‚¨åœ¨DHTä¸Šã€‚å¯¹äºæ›´å¤§çš„å€¼ï¼ŒDHTåªå­˜å‚¨å€¼ç´¢å¼•ï¼Œè¿™ä¸ªç´¢å¼•å°±æ˜¯ä¸€ä¸ªå¯¹ç­‰èŠ‚ç‚¹çš„NodeId, è¯¥å¯¹ç­‰èŠ‚ç‚¹å¯ä»¥æä¾›å°è¯¥ç±»å‹çš„å€¼çš„å…·ä½“æœåŠ¡ã€‚<br>DSHTçš„æ¥å£å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">type IPFSRouting interface {FindPeer(node NodeId) // è·å–ç‰¹å®šNodeIdçš„ç½‘ç»œåœ°å€ã€‚SetValue(key []bytes, value []bytes) // å¾€DHTå­˜å‚¨ä¸€ä¸ªå°çš„å…ƒæ•°æ®ã€‚GetValue(key []bytes) // ä»DHTè·å–å…ƒæ•°æ®ã€‚ProvideValue(key Multihash) // å£°æ˜è¿™ä¸ªèŠ‚ç‚¹å¯ä¸€ä¸ªæä¾›ä¸€ä¸ªå¤§çš„æ•°æ®ã€‚FindValuePeers(key Multihash, min int) // è·å–æœåŠ¡äºè¯¥å¤§æ•°æ®çš„èŠ‚ç‚¹ã€‚}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„ï¼šä¸åŒçš„ç”¨ä¾‹å°†è¦æ±‚åŸºæœ¬ä¸åŒçš„è·¯ç”±ç³»ç»Ÿï¼ˆä¾‹å¦‚å¹¿åŸŸç½‘ä¸­ä½¿ç”¨DHTï¼Œå±€åŸŸç½‘ä¸­ä½¿ç”¨é™æ€HTï¼‰ã€‚å› æ­¤ï¼ŒIPFSè·¯ç”±ç³»ç»Ÿå¯ä»¥æ ¹æ®ç”¨æˆ·çš„éœ€æ±‚æ›¿æ¢çš„ã€‚åªè¦ä½¿ç”¨ä¸Šé¢çš„æ¥å£å°±å¯ä»¥äº†ï¼Œç³»ç»Ÿéƒ½èƒ½ç»§ç»­æ­£å¸¸è¿è¡Œã€‚</p><h4 id="3-4å—äº¤æ¢-BitSwapåè®®"><a href="#3-4å—äº¤æ¢-BitSwapåè®®" class="headerlink" title="3.4å—äº¤æ¢ - BitSwapåè®®"></a>3.4å—äº¤æ¢ - BitSwapåè®®</h4><p>IPFS ä¸­çš„BitSwapåè®®å—åˆ°BitTorrent çš„å¯å‘ï¼Œé€šè¿‡å¯¹ç­‰èŠ‚ç‚¹é—´äº¤æ¢æ•°æ®å—æ¥åˆ†å‘æ•°æ®çš„ã€‚åƒBTä¸€æ ·ï¼Œ æ¯ä¸ªå¯¹ç­‰èŠ‚ç‚¹åœ¨ä¸‹è½½çš„åŒæ—¶ä¸æ–­å‘å…¶ä»–å¯¹ç­‰èŠ‚ç‚¹ä¸Šä¼ å·²ä¸‹è½½çš„æ•°æ®ã€‚å’ŒBTåè®®ä¸åŒçš„æ˜¯ï¼Œ BitSwap ä¸å±€é™äºä¸€ä¸ªtorrentæ–‡ä»¶ä¸­çš„æ•°æ®å—ã€‚BitSwap åè®®ä¸­å­˜åœ¨ä¸€ä¸ªæ°¸ä¹…çš„å¸‚åœºã€‚ è¿™ä¸ªå¸‚åœºåŒ…æ‹¬å„ä¸ªèŠ‚ç‚¹æƒ³è¦è·å–çš„æ‰€æœ‰å—æ•°æ®ã€‚è€Œä¸ç®¡è¿™äº›å—æ˜¯å“ªäº›å¦‚.torrentæ–‡ä»¶ä¸­çš„ä¸€éƒ¨åˆ†ã€‚è¿™äº›å¿«æ•°æ®å¯èƒ½æ¥è‡ªæ–‡ä»¶ç³»ç»Ÿä¸­å®Œå…¨ä¸ç›¸å…³çš„æ–‡ä»¶ã€‚ è¿™ä¸ªå¸‚åœºæ˜¯ç”±æ‰€æœ‰çš„èŠ‚ç‚¹ç»„æˆçš„ã€‚<br>è™½ç„¶æ˜“è´§ç³»ç»Ÿçš„æ¦‚å¿µæ„å‘³ç€å¯ä»¥åˆ›å»ºè™šæ‹Ÿè´§å¸ï¼Œä½†è¿™å°†éœ€è¦ä¸€ä¸ªå…¨å±€åˆ†ç±»è´¦æœ¬æ¥è·Ÿè¸ªè´§å¸çš„æ‰€æœ‰æƒå’Œè½¬ç§»ã€‚è¿™å¯ä»¥å®æ–½ä¸ºBitSwapç­–ç•¥ï¼Œå¹¶å°†åœ¨æœªæ¥çš„è®ºæ–‡ä¸­æ¢è®¨ã€‚<br>åœ¨åŸºæœ¬æƒ…å†µä¸‹ï¼ŒBitSwapèŠ‚ç‚¹å¿…é¡»ä»¥å—çš„å½¢å¼å½¼æ­¤æä¾›ç›´æ¥çš„å€¼ã€‚åªæœ‰å½“è·¨èŠ‚ç‚¹çš„å—çš„åˆ†å¸ƒæ˜¯äº’è¡¥çš„æ—¶å€™ï¼Œå„å–æ‰€éœ€çš„æ—¶å€™ï¼Œè¿™æ‰ä¼šå·¥ä½œçš„å¾ˆå¥½ã€‚ é€šå¸¸æƒ…å†µå¹¶éå¦‚æ­¤ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒèŠ‚ç‚¹å¿…é¡»ä¸ºè‡ªå·±çš„å—è€Œå·¥ä½œã€‚ åœ¨èŠ‚ç‚¹æ²¡æœ‰å…¶å¯¹ç­‰èŠ‚ç‚¹æ‰€éœ€çš„ï¼ˆæˆ–æ ¹æœ¬æ²¡æœ‰çš„ï¼‰æƒ…å†µä¸‹ï¼Œå®ƒä¼šæ›´ä½çš„ä¼˜å…ˆçº§å»å¯»æ‰¾å¯¹ç­‰èŠ‚ç‚¹æƒ³è¦çš„å—ã€‚è¿™ä¼šæ¿€åŠ±èŠ‚ç‚¹å»ç¼“å­˜å’Œä¼ æ’­ç¨€æœ‰ç‰‡æ®µï¼Œ å³ä½¿èŠ‚ç‚¹å¯¹è¿™äº›ç‰‡æ®µä¸æ„Ÿå…´è¶£ã€‚</p><h5 id="3-4-1-BITSWAP-ä¿¡ç”¨"><a href="#3-4-1-BITSWAP-ä¿¡ç”¨" class="headerlink" title="3.4.1 - BITSWAP ä¿¡ç”¨"></a>3.4.1 - BITSWAP ä¿¡ç”¨</h5><p>è¿™ä¸ªåè®®å¿…é¡»å¸¦æœ‰æ¿€åŠ±æœºåˆ¶ï¼Œ å»æ¿€åŠ±èŠ‚ç‚¹å»seed å…¶ä»–èŠ‚ç‚¹æ‰€éœ€è¦çš„å—ï¼Œè€Œå®ƒä»¬æœ¬èº«æ˜¯ä¸éœ€è¦è¿™äº›å—çš„ã€‚ å› æ­¤ï¼Œ BitSwapçš„èŠ‚ç‚¹å¾ˆç§¯æå»ç»™å¯¹ç«¯èŠ‚ç‚¹å‘é€å—ï¼ŒæœŸå¾…è·å¾—æŠ¥é…¬ã€‚ä½†å¿…é¡»é˜²æ­¢æ°´è›­æ”»å‡»ï¼ˆç©ºè´Ÿè½½èŠ‚ç‚¹ä»ä¸å…±äº«å—ï¼‰ï¼Œä¸€ä¸ªç®€å•çš„ç±»ä¼¼ä¿¡ç”¨çš„ç³»ç»Ÿè§£å†³äº†è¿™äº›é—®é¢˜ï¼š</p><p>1ï¼Œ å¯¹ç­‰èŠ‚ç‚¹é—´ä¼šè¿½è¸ªä»–ä»¬çš„å¹³è¡¡ï¼ˆé€šè¿‡å­—èŠ‚è®¤è¯çš„æ–¹å¼ï¼‰ã€‚<br>2ï¼Œ éšç€å€ºåŠ¡å¢åŠ è€Œæ¦‚ç‡é™ä½ï¼Œå¯¹ç­‰è€…æ¦‚ç‡çš„å‘å€ºåŠ¡äººå‘é€å—ã€‚<br>æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœèŠ‚ç‚¹å†³å®šä¸å‘é€åˆ°å¯¹ç­‰ä½“ï¼ŒèŠ‚ç‚¹éšåå¿½ç•¥å¯¹ç­‰ä½“çš„ignore_cooldownè¶…æ—¶ã€‚ è¿™æ ·å¯ä»¥é˜²æ­¢å‘é€è€…å°è¯•å¤šæ¬¡å‘é€ï¼ˆæ´ªæ°´æ”»å‡»ï¼‰ ï¼ˆBitSwapé»˜è®¤æ˜¯10ç§’ï¼‰ã€‚<br>3.4.2 BITSWAPçš„ç­–ç•¥<br>BitSwap å¯¹ç­‰èŠ‚ç‚¹é‡‡ç”¨å¾ˆå¤šä¸åŒçš„ç­–ç•¥ï¼Œè¿™äº›ç­–ç•¥å¯¹æ•´ä¸ªæ•°æ®å—çš„äº¤æ¢æ‰§è¡ŒåŠ›äº§ç”Ÿäº†ä¸åŒçš„å·¨å¤§å½±å“ã€‚åœ¨BT ä¸­ï¼Œ æ ‡å‡†ç­–ç•¥æ˜¯æ˜ç¡®è§„å®šçš„ï¼ˆtit-for-tatï¼‰ï¼Œå…¶ä»–ä¸åŒçš„ç­–ç•¥ä¹Ÿå·²ç»è¢«å®æ–½ï¼Œä»BitTyrant [8]ï¼ˆå°½å¯èƒ½åˆ†äº«ï¼‰åˆ°BitThief [8]ï¼ˆåˆ©ç”¨ä¸€ä¸ªæ¼æ´ï¼Œä»ä¸å…±äº«ï¼‰ï¼Œåˆ°PropShare [8]ï¼ˆæŒ‰æ¯”ä¾‹åˆ†äº«ï¼‰ã€‚BitSwap å¯¹ç­‰ä½“å¯ä»¥ç±»ä¼¼åœ°å®ç°ä¸€ç³»åˆ—çš„ç­–ç•¥ï¼ˆè‰¯å¥½å’Œæ¶æ„ï¼‰ã€‚å¯¹äºåŠŸèƒ½çš„é€‰æ‹©ï¼Œåº”è¯¥ç„å‡†ï¼š<br>1.ä¸ºæ•´ä¸ªäº¤æ˜“å’ŒèŠ‚ç‚¹æœ€å¤§åŒ–äº¤æ˜“èƒ½åŠ›ã€‚<br>2.ä¸ºäº†é˜²æ­¢ç©ºè´Ÿè½½èŠ‚ç‚¹åˆ©ç”¨å’ŒæŸå®³äº¤æ˜“ã€‚<br>3.é«˜æ•ˆæŠµåˆ¶æœªçŸ¥ç­–ç•¥ã€‚<br>4.å¯¹å¯ä¿¡ä»»çš„å¯¹ç­‰èŠ‚ç‚¹æ›´å®½å®¹ã€‚<br>æ¢ç´¢è¿™äº›ç­–ç•¥çš„ç©ºç™½æ˜¯æœªæ¥çš„äº‹æƒ…ã€‚åœ¨å®è·µä¸­ä½¿ç”¨çš„ä¸€ä¸ªé€‰æ‹©æ€§åŠŸèƒ½æ˜¯sigmoidï¼Œæ ¹æ®è´Ÿå€ºæ¯”ä¾‹è¿›è¡Œç¼©æ”¾ï¼š<br>è®©è´Ÿå€ºæ¯”ä¾‹åœ¨ä¸€ä¸ªèŠ‚ç‚¹å’Œå®ƒå¯¹ç­‰èŠ‚ç‚¹ä¹‹é—´ï¼š</p><pre class="line-numbers language-none"><code class="language-none">r =  bytes_sent  / bytes_recv + 1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ ¹æ®rï¼Œå‘é€åˆ°è´Ÿå€ºèŠ‚ç‚¹çš„æ¦‚ç‡ä¸ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">P(send | r ) = 1 âˆ’ ( 1/  ( 1 + exp(6 âˆ’ 3r) ) )<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ­£å¦‚ä½ çœ‹åˆ°çš„å›¾ç‰‡1ï¼Œå½“èŠ‚ç‚¹è´Ÿå€ºæ¯”ä¾‹è¶…è¿‡èŠ‚ç‚¹å·²å»ºç«‹ä¿¡è´·çš„ä¸¤å€ï¼Œå‘é€åˆ°è´Ÿå€ºèŠ‚ç‚¹çš„æ¦‚ç‡å°±ä¼šæ€¥é€Ÿä¸‹é™ã€‚</p><p>å›¾ç‰‡1  å½“rå¢åŠ æ—¶å‘é€çš„æ¦‚ç‡<br>è´Ÿå€ºæ¯”æ˜¯ä¿¡ä»»çš„è¡¡é‡æ ‡å‡†ï¼šå¯¹äºä¹‹å‰æˆåŠŸçš„äº’æ¢è¿‡å¾ˆå¤šæ•°æ®çš„èŠ‚ç‚¹ä¼šå®½å®¹å€ºåŠ¡ï¼Œè€Œå¯¹ä¸ä¿¡ä»»ä¸äº†è§£çš„èŠ‚ç‚¹ä¼šä¸¥æ ¼å¾ˆå¤šã€‚è¿™ä¸ª(a)ç»™ä¸é‚£äº›åˆ›é€ å¾ˆå¤šèŠ‚ç‚¹çš„æ”»å‡»è€…ï¼ˆsybill æ”»å‡»ï¼‰ä¸€ä¸ªéšœç¢ã€‚(b)ä¿æŠ¤äº†ä¹‹å‰æˆåŠŸäº¤æ˜“èŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»ï¼Œå³ä½¿è¿™ä¸ªèŠ‚ç‚¹æš‚æ—¶æ— æ³•æä¾›æ•°æ®ã€‚(c)æœ€ç»ˆé˜»å¡é‚£äº›å…³ç³»å·²ç»æ¶åŒ–çš„èŠ‚ç‚¹ä¹‹é—´çš„é€šä¿¡ï¼Œç›´åˆ°ä»–ä»¬è¢«å†æ¬¡è¯æ˜ã€‚</p><h5 id="3-4-3-BITSWAP-è´¦æœ¬"><a href="#3-4-3-BITSWAP-è´¦æœ¬" class="headerlink" title="3.4.3 BITSWAP è´¦æœ¬"></a>3.4.3 BITSWAP è´¦æœ¬</h5><p>BitSwapèŠ‚ç‚¹ä¿å­˜äº†ä¸€ä¸ªè®°å½•ä¸æ‰€æœ‰å…¶ä»–èŠ‚ç‚¹ä¹‹é—´äº¤æ˜“çš„è´¦æœ¬ã€‚è¿™ä¸ªå¯ä»¥è®©èŠ‚ç‚¹è¿½è¸ªå†å²è®°å½•ä»¥åŠé¿å…è¢«ç¯¡æ”¹ã€‚å½“æ¿€æ´»äº†ä¸€ä¸ªé“¾æ¥ï¼ŒBitSwapèŠ‚ç‚¹å°±ä¼šäº’æ¢å®ƒä»¬è´¦æœ¬ä¿¡æ¯ã€‚å¦‚æœè¿™äº›è´¦æœ¬ä¿¡æ¯å¹¶ä¸å®Œå…¨ç›¸åŒï¼Œåˆ†ç±»è´¦æœ¬å°†ä¼šé‡æ–°åˆå§‹åŒ–ï¼Œ é‚£äº›åº”è®¡ä¿¡è´·å’Œå€ºåŠ¡ä¼šä¸¢å¤±ã€‚ æ¶æ„èŠ‚ç‚¹ä¼šæœ‰æ„å»å¤±å»â€œè¿™äº›â€œè´¦æœ¬ï¼Œ ä»è€ŒæœŸæœ›æ¸…é™¤è‡ªå·±çš„å€ºåŠ¡ã€‚èŠ‚ç‚¹æ˜¯ä¸å¤ªå¯èƒ½åœ¨å¤±å»äº†åº”è®¡ä¿¡æ‰˜çš„æƒ…å†µä¸‹è¿˜èƒ½ç´¯ç§¯è¶³å¤Ÿçš„å€ºåŠ¡å»æˆæƒè®¤è¯ã€‚ä¼™ä¼´èŠ‚ç‚¹å¯ä»¥è‡ªç”±çš„å°†å…¶è§†ä¸ºä¸å½“è¡Œä¸ºï¼Œ æ‹’ç»äº¤æ˜“ã€‚</p><pre class="line-numbers language-none"><code class="language-none">type Ledger struct {owner NodeIdpartner NodeIdbytes_sent intbytes_recv inttimestamp Timestamp}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>èŠ‚ç‚¹å¯ä»¥è‡ªç”±çš„ä¿ç•™åˆ†å¸ƒå¼è´¦æœ¬å†å²ï¼Œè¿™ä¸éœ€è¦æ­£ç¡®çš„æ“ä½œï¼Œå› ä¸ºåªæœ‰å½“å‰çš„åˆ†ç±»è´¦æœ¬æ¡ç›®æ˜¯æœ‰ç”¨çš„ã€‚èŠ‚ç‚¹ä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦è‡ªç”±æ”¶é›†åˆ†å¸ƒå¼å¸æœ¬ï¼Œä»ä¸å¤ªæœ‰ç”¨çš„åˆ†å¸ƒå¼å¸å¼€å§‹ï¼šè€ï¼ˆå…¶ä»–å¯¹ç­‰èŠ‚ç‚¹å¯èƒ½ä¸å­˜åœ¨ï¼‰å’Œå°ã€‚</p><h5 id="3-4-4-BITSWAP-è¯¦è§£"><a href="#3-4-4-BITSWAP-è¯¦è§£" class="headerlink" title="3.4.4 BITSWAP è¯¦è§£"></a>3.4.4 BITSWAP è¯¦è§£</h5><p>BitSwap èŠ‚ç‚¹æœ‰ä»¥ä¸‹ç®€å•çš„åè®®ã€‚</p><pre class="line-numbers language-none"><code class="language-none">// Additional state kepttype BitSwap struct {ledgers map[NodeId]Ledger // Ledgers known to this node, inc inactiveactive map[NodeId]Peer // currently open connections to other nodesneed_list []Multihash // checksums of blocks this node needshave_list []Multihash // checksums of blocks this node has}type Peer struct {nodeid NodeIdledger Ledger // Ledger between the node and this peerlast_seen Timestamp // timestamp of last received messagewant_list []Multihash // checksums of all blocks wanted by peer// includes blocks wanted by peer's peers}// Protocol interface:interface Peer {open (nodeid : NodeId, ledger : Ledger);send_want_list (want_list : WantList);send_block(block: Block) -&gt; (complete:Bool);close(final: Bool);}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯¹ç­‰è¿æ¥çš„ç”Ÿå‘½å‘¨æœŸè‰å›¾ï¼š</p><p>1.Open: å¯¹ç­‰èŠ‚ç‚¹é—´å‘é€ledgers ç›´åˆ°ä»–ä»¬åŒæ„ã€‚<br>2.Sending: å¯¹ç­‰èŠ‚ç‚¹é—´äº¤æ¢want_lists å’Œblocksã€‚<br>3.Close: å¯¹ç­‰èŠ‚ç‚¹æ–­å¼€é“¾æ¥ã€‚<br>4.Ignored: ï¼ˆç‰¹æ®Šï¼‰å¯¹ç­‰ä½“è¢«å¿½ç•¥ï¼ˆç­‰å¾…æ—¶é—´çš„è¶…æ—¶ï¼‰å¦‚æœèŠ‚ç‚¹é‡‡ç”¨é˜²æ­¢å‘é€ç­–ç•¥ã€‚<br>Peer.open(NodeId, Ledger).<br>å½“å‘ç”Ÿé“¾æ¥çš„æ—¶å€™ï¼ŒèŠ‚ç‚¹ä¼šåˆå§‹åŒ–é“¾æ¥çš„è´¦æœ¬ï¼Œè¦ä¹ˆä¿å­˜ä¸€ä¸ªä»½é“¾æ¥è¿‡å»çš„è´¦æœ¬ï¼Œè¦ä¹ˆåˆ›å»ºä¸€ä¸ªæ–°çš„è¢«æ¸…é›¶çš„è´¦æœ¬ã€‚ç„¶åï¼Œå‘é€ä¸€ä¸ªæºå¸¦è´¦æœ¬çš„openä¿¡æ¯ç»™å¯¹ç­‰èŠ‚ç‚¹ã€‚<br>æ¥æ”¶åˆ°ä¸€ä¸ªopenä¿¡æ¯ä¹‹åï¼Œå¯¹ç­‰èŠ‚ç‚¹å¯ä»¥é€‰æ‹©æ˜¯å¦æ¥å—æ­¤é“¾æ¥ã€‚å¦‚æœï¼Œæ ¹æ®æ¥æ”¶è€…çš„è´¦æœ¬ï¼Œå‘é€è€…æ˜¯ä¸€ä¸ªä¸å¯ä¿¡çš„ä»£ç†ï¼ˆä¼ è¾“ä½äºé›¶æˆ–è€…æœ‰å¾ˆå¤§çš„æœªå¿è¿˜çš„å€ºåŠ¡ï¼‰ï¼Œæ¥æ”¶è€…å¯èƒ½ä¼šé€‰æ‹©å¿½ç•¥è¿™ä¸ªè¯·æ±‚ã€‚å¿½ç•¥è¯·æ±‚æ˜¯ignore_cooldownè¶…æ—¶æ¥æ¦‚ç‡æ€§å®ç°çš„ï¼Œä¸ºäº†è®©é”™è¯¯èƒ½å¤Ÿæœ‰æ—¶é—´æ”¹æ­£å’Œæ”»å‡»è€…è¢«æŒ«è´¥ã€‚<br>å¦‚æœé“¾æ¥æˆåŠŸï¼Œæ¥æ”¶è€…ç”¨æœ¬åœ°è´¦æœ¬æ¥åˆå§‹åŒ–ä¸€ä¸ªPeerå¯¹è±¡ä»¥åŠè®¾ç½®last_seenæ—¶é—´æˆ³ã€‚ç„¶åï¼Œå®ƒä¼šå°†æ¥å—åˆ°çš„è´¦æœ¬ä¸è‡ªå·±çš„è´¦æœ¬è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœä¸¤ä¸ªè´¦æœ¬å®Œå…¨ä¸€æ ·ï¼Œé‚£ä¹ˆè¿™ä¸ªé“¾æ¥å°±è¢«Openï¼Œå¦‚æœè´¦æœ¬å¹¶ä¸å®Œå…¨ä¸€è‡´ï¼Œé‚£ä¹ˆæ­¤èŠ‚ç‚¹ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„è¢«æ¸…é›¶çš„è´¦æœ¬å¹¶ä¸”ä¼šå‘é€æ­¤è´¦æœ¬ã€‚<br>Peer.send_want_list(WantList)<br>å½“é“¾æ¥å·²ç»Opençš„æ—¶å€™ï¼ŒèŠ‚ç‚¹ä¼šå¹¿å‘å®ƒä»¬çš„want_listç»™æ‰€æœ‰å·²ç»é“¾æ¥çš„å¯¹ç­‰èŠ‚ç‚¹ã€‚è¿™ä¸ªæ˜¯åœ¨(a)opené“¾æ¥å(b)éšæœºé—´æ­‡è¶…æ—¶å(c)want_listæ”¹å˜å(d)æ¥æ”¶åˆ°ä¸€ä¸ªæ–°çš„å—ä¹‹åå®Œæˆçš„ã€‚<br>å½“æ¥æ”¶åˆ°ä¸€ä¸ªwant_listä¹‹åï¼ŒèŠ‚ç‚¹ä¼šå­˜å‚¨å®ƒã€‚ç„¶åï¼Œä¼šæ£€æŸ¥è‡ªå·±æ˜¯å¦æ‹¥æœ‰ä»»ä½•å®ƒæƒ³è¦çš„å—ã€‚å¦‚æœæœ‰ï¼Œä¼šæ ¹æ®ä¸Šé¢æåˆ°çš„BitSwapç­–ç•¥æ¥å°†want_listæ‰€éœ€è¦çš„å—å‘é€å‡ºå»ã€‚<br>Peer.send_block(Block)<br>å‘é€ä¸€ä¸ªå—æ˜¯ç›´æ¥äº†å½“çš„ã€‚èŠ‚ç‚¹åªæ˜¯ä¼ è¾“æ•°æ®å—ã€‚å½“æ¥æ”¶åˆ°äº†æ‰€æœ‰æ•°æ®çš„æ—¶å€™ï¼Œæ¥æ”¶è€…ä¼šè®¡ç®—å¤šé‡hashæ ¡éªŒå’Œæ¥éªŒè¯å®ƒæ˜¯å¦æ˜¯è‡ªå·±æ‰€éœ€æ•°æ®ï¼Œç„¶åå‘é€ç¡®è®¤ä¿¡æ¯ã€‚<br>åœ¨å®Œæˆä¸€ä¸ªæ­£ç¡®çš„å—ä¼ è¾“ä¹‹åï¼Œæ¥å—è€…ä¼šå°†æ­¤å—ä»need_listä¸€åˆ°have_list,æœ€åæ¥æ”¶è€…å’Œå‘é€è€…éƒ½ä¼šæ›´æ–°å®ƒä»¬çš„è´¦æœ¬æ¥åæ˜ å‡ºä¼ è¾“çš„é¢å¤–æ•°æ®å­—èŠ‚æ•°ã€‚<br>å¦‚æœä¸€ä¸ªä¼ è¾“éªŒè¯å¤±è´¥äº†ï¼Œå‘é€è€…è¦ä¹ˆä¼šå‡ºæ•…éšœè¦ä¹ˆä¼šæ”»å‡»æ¥æ”¶è€…ï¼Œæ¥æ”¶è€…å¯ä»¥é€‰æ‹©æ‹’ç»åé¢çš„äº¤æ˜“ã€‚æ³¨æ„ï¼ŒBitSwapæ˜¯æœŸæœ›èƒ½å¤Ÿåœ¨ä¸€ä¸ªå¯é çš„ä¼ è¾“é€šé“ä¸Šè¿›è¡Œæ“ä½œçš„ï¼Œæ‰€ä»¥ä¼ è¾“é”™è¯¯ï¼ˆå¯èƒ½ä¼šå¼•èµ·ä¸€ä¸ªå¯¹è¯šå®å‘é€è€…é”™è¯¯çš„æƒ©ç½šï¼‰æ˜¯æœŸæœ›åœ¨æ•°æ®å‘é€ç»™BitSwapä¹‹å‰èƒ½å¤Ÿè¢«æ•æ‰åˆ°ã€‚<br>Peer.close(Bool)<br>ä¼ ç»™closeæœ€åçš„ä¸€ä¸ªå‚æ•°ï¼Œä»£è¡¨closeé“¾æ¥æ˜¯å¦æ˜¯å‘é€è€…çš„æ„æ„¿ã€‚å¦‚æœå‚æ•°å€¼ä¸ºfalse,æ¥æ”¶è€…å¯èƒ½ä¼šç«‹å³é‡æ–°opené“¾æ¥ï¼Œè¿™é¿å…é“¾è¿‡æ—©çš„closeé“¾æ¥ã€‚<br>ä¸€ä¸ªå¯¹ç­‰èŠ‚ç‚¹closeé“¾æ¥å‘ç”Ÿåœ¨ä¸‹é¢ä¸¤ç§æƒ…å†µä¸‹ï¼š<br>silence_waitè¶…æ—¶å·²ç»è¿‡æœŸï¼Œå¹¶ä¸”æ²¡æœ‰æ¥æ”¶åˆ°æ¥è‡ªäºå¯¹ç­‰èŠ‚ç‚¹çš„ä»»ä½•ä¿¡æ¯ï¼ˆBitSwapé»˜è®¤ä½¿ç”¨30ç§’ï¼‰ï¼ŒèŠ‚ç‚¹ä¼šå‘é€Peer.close(false)ã€‚<br>åœ¨èŠ‚ç‚¹é€€å‡ºå’ŒBitSwapå…³é—­çš„æ—¶å€™ï¼ŒèŠ‚ç‚¹ä¼šå‘é€Peer.close(true).<br>æ¥æ”¶åˆ°closeæ¶ˆæ¯ä¹‹åï¼Œæ¥æ”¶è€…å’Œå‘é€è€…ä¼šæ–­å¼€é“¾æ¥ï¼Œæ¸…é™¤æ‰€æœ‰è¢«å­˜å‚¨çš„çŠ¶æ€ã€‚è´¦æœ¬å¯èƒ½ä¼šè¢«ä¿å­˜ä¸‹æ¥ä¸ºäº†ä»¥åçš„ä¾¿åˆ©ï¼Œå½“ç„¶ï¼Œåªæœ‰åœ¨è¢«è®¤ä¸ºè´¦æœ¬ä»¥åä¼šæœ‰ç”¨æ—¶æ‰ä¼šè¢«ä¿å­˜ä¸‹æ¥ã€‚<br>æ³¨æ„ç‚¹ï¼š<br>éopenä¿¡æ¯åœ¨ä¸€ä¸ªä¸æ´»è·ƒçš„è¿æ¥ä¸Šåº”è¯¥æ˜¯è¢«å¿½ç•¥çš„ã€‚åœ¨å‘é€send_blockä¿¡æ¯æ—¶ï¼Œæ¥æ”¶è€…åº”è¯¥æ£€æŸ¥è¿™ä¸ªå—ï¼Œçœ‹å®ƒæ˜¯å¦æ˜¯è‡ªå·±æ‰€éœ€çš„ï¼Œå¹¶ä¸”æ˜¯å¦æ˜¯æ­£ç¡®çš„ï¼Œå¦‚æœæ˜¯ï¼Œå°±ä½¿ç”¨æ­¤å—ã€‚æ€»ä¹‹ï¼Œæ‰€æœ‰ä¸è§„åˆ™çš„ä¿¡æ¯éƒ½ä¼šè®©æ¥æ”¶è€…è§¦å‘ä¸€ä¸ªclose(false)ä¿¡æ¯å¹¶ä¸”å¼ºåˆ¶æ€§çš„é‡åˆå§‹åŒ–æ­¤é“¾æ¥ã€‚</p><h4 id="3-5-Merkle-DAGå¯¹è±¡"><a href="#3-5-Merkle-DAGå¯¹è±¡" class="headerlink" title="3.5 Merkle DAGå¯¹è±¡"></a>3.5 Merkle DAGå¯¹è±¡</h4><p>DHTå’ŒBitSwapå…è®¸IPFSæ„é€ ä¸€ä¸ªåºå¤§çš„ç‚¹å¯¹ç‚¹ç³»ç»Ÿç”¨æ¥å¿«é€Ÿç¨³å®šçš„åˆ†å‘å’Œå­˜å‚¨ã€‚æœ€ä¸»è¦çš„æ˜¯ï¼ŒIPFSå»ºé€ äº†ä¸€ä¸ªMerkle DAG,ä¸€ä¸ªæ— å›è·¯æœ‰å‘å›¾ï¼Œå¯¹è±¡ä¹‹é—´çš„linkséƒ½æ˜¯hashåŠ å¯†åµŒå…¥åœ¨æºç›®æ ‡ä¸­ã€‚è¿™æ˜¯Gitæ•°æ®ç»“æ„çš„ä¸€ç§æ¨å¹¿ã€‚Merkle DAGSç»™IPFSæä¾›äº†å¾ˆå¤šæœ‰ç”¨çš„å±æ€§ï¼ŒåŒ…æ‹¬ï¼š<br>1.å†…å®¹å¯å¯»å€ï¼šæ‰€æœ‰å†…å®¹éƒ½æ˜¯è¢«å¤šé‡hashæ ¡éªŒå’Œæ¥å”¯ä¸€è¯†åˆ«çš„ï¼ŒåŒ…æ‹¬linksã€‚<br>2.é˜²æ­¢ç¯¡æ”¹ï¼šæ‰€æœ‰çš„å†…å®¹éƒ½ç”¨å®ƒçš„æ ¡éªŒå’Œæ¥éªŒè¯ã€‚å¦‚æœæ•°æ®è¢«ç¯¡æ”¹æˆ–æŸåï¼ŒIPFSä¼šæ£€æµ‹åˆ°ã€‚<br>3.é‡å¤æ•°æ®åˆ é™¤ï¼šæ‰€æœ‰çš„å¯¹è±¡éƒ½æ‹¥æœ‰ç›¸åŒçš„å†…å®¹å¹¶åªå­˜å‚¨ä¸€æ¬¡ã€‚è¿™å¯¹äºç´¢å¼•å¯¹è±¡éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚gitçš„treeå’Œcommitsï¼Œæˆ–è€…æ•°æ®çš„å…¬å…±éƒ¨åˆ†ã€‚<br>IPFSå¯¹è±¡çš„æ ¼å¼æ˜¯ï¼š</p><pre class="line-numbers language-none"><code class="language-none">type IPFSLink struct {Name string      // æ­¤linkçš„åˆ«åHash Multihash // ç›®æ ‡çš„åŠ å¯†hashSize int             // ç›®æ ‡æ€»å¤§å°}type IPFSObject struct {links []IPFSLink   //linksæ•°ç»„data []byte         //ä¸é€æ˜å†…å®¹æ•°æ®}IPFS Merkle DAGæ˜¯å­˜å‚¨æ•°æ®éå¸¸çµæ´»çš„ä¸€ç§æ–¹å¼ã€‚åªè¦æ±‚å¯¹è±¡å¼•ç”¨æ˜¯(aï¼‰å†…å®¹å¯å¯»å€çš„ï¼Œ(b)ç”¨ä¸Šé¢çš„æ ¼å¼ç¼–ç ã€‚IPFSå…è®¸åº”ç”¨å®Œå…¨çš„æŒæ§æ•°æ®åŸŸï¼›åº”ç”¨å¯ä»¥ä½¿ç”¨ä»»ä½•è‡ªå®šä¹‰æ ¼å¼çš„æ•°æ®ï¼Œå³ä½¿æ•°æ®IPFSéƒ½æ— æ³•ç†è§£ã€‚å•ç‹¬çš„å†…éƒ¨å¯¹è±¡linkè¡¨å…è®¸IPFSåšï¼š<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç”¨å¯¹è±¡çš„å½¢å¼åˆ—å‡ºæ‰€æœ‰å¯¹è±¡å¼•ç”¨ï¼Œä¾‹å¦‚ï¼š</p><pre class="line-numbers language-none"><code class="language-none">&gt; ipfs ls /XLZ1625Jjn7SubMDgEyeaynFuR84ginqvzbXLYkgq61DYaQ8NhkcqyU7rLcnSa7dSHQ16x 189458 lessXLHBNmRQ5sJJrdMPuu48pzeyTtRo39tNDR5 19441 scriptXLF4hwVHsVuZ78FZK6fozf8Jj9WEURMbCX4 5286 template&lt;object multihash&gt; &lt;object size&gt; &lt;link name&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è§£å†³å­—ç¬¦ä¸²è·¯ç»æŸ¥æ‰¾ï¼Œä¾‹å¦‚foo/bar/bazã€‚ç»™å‡ºä¸€ä¸ªå¯¹è±¡ï¼ŒIPFSä¼šè§£æç¬¬ä¸€ä¸ªè·¯ç»æˆåˆ†è¿›è¡Œhashæ”¾å…¥åˆ°å¯¹è±¡çš„linkè¡¨ä¸­ï¼Œå†è·å–è·¯å¾„çš„ç¬¬äºŒä¸ªç»„æˆéƒ¨åˆ†ï¼Œä¸€ç›´å¦‚æ­¤é‡å¤ä¸‹å»ã€‚å› æ­¤ï¼Œä»»ä½•æ•°æ®æ ¼å¼çš„å­—ç¬¦ä¸²è·¯ç»éƒ½å¯ä»¥åœ¨Merkle DAGä¸­ä½¿ç”¨ã€‚<br>*é€’å½’æ€§çš„è§£å†³æ‰€æœ‰å¯¹è±¡å¼•ç”¨ï¼š</p><pre class="line-numbers language-none"><code class="language-none">&gt; ipfs refs --recursive \/XLZ1625Jjn7SubMDgEyeaynFuR84ginqvzbXLLxhdgJcXzLbtsLRL1twCHA2NrURp4H38sXLYkgq61DYaQ8NhkcqyU7rLcnSa7dSHQ16xXLHBNmRQ5sJJrdMPuu48pzeyTtRo39tNDR5XLWVQDqxo9Km9zLyquoC9gAP8CL1gWnHZ7z<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åŸå§‹æ•°æ®ç»“æ„å…¬å…±linkç»“æ„æ˜¯IPFSæ„å»ºä»»æ„æ•°æ®ç»“æ„çš„å¿…è¦ç»„æˆéƒ¨åˆ†ã€‚å¯ä»¥å¾ˆå®¹æ˜“çœ‹å‡ºGitçš„å¯¹è±¡æ¨¡å‹æ˜¯å¦‚ä½•å¥—ç”¨DAGçš„ã€‚ä¸€äº›å…¶ä»–æ½œåœ¨çš„æ•°æ®ç»“æ„ï¼š</p><p>(a)é”®å€¼å­˜å‚¨<br>(b)ä¼ ç»Ÿå…³ç³»å‹æ•°æ®<br>(c)æ•°æ®ä¸‰å€å­˜å‚¨<br>(d) æ–‡æ¡£å‘å¸ƒç³»ç»Ÿ<br>(e)é€šä¿¡å¹³å°<br>(f)åŠ å¯†è´§å¸åŒºå—ã€‚<br>è¿™äº›ç³»ç»Ÿéƒ½å¯ä»¥å¥—ç”¨IPFS Merkle DAGï¼Œè¿™ä½¿è¿™äº›ç³»ç»Ÿæ›´å¤æ‚çš„åº”ç”¨å¯ä»¥ä½¿ç”¨IPFSä½œä¸ºä¼ è¾“åè®®ã€‚</p><h5 id="3-5-1-è·¯ç»"><a href="#3-5-1-è·¯ç»" class="headerlink" title="3.5.1 è·¯ç»"></a>3.5.1 è·¯ç»</h5><p>IPFSå¯¹è±¡å¯ä»¥éå†ä¸€ä¸ªå­—ç¬¦ä¸²è·¯ç»ã€‚è·¯ç»æ ¼å¼ä¸ä¼ ç»ŸUNIXæ–‡ä»¶ç³»ç»Ÿä»¥åŠWebä¸€è‡´ã€‚Merkle DAGçš„linksä½¿éå†å˜å¾—å¾ˆå®¹æ˜“ã€‚å…¨ç§°è·¯ç»åœ¨IPFSä¸­çš„æ ¼å¼æ˜¯ï¼š</p><pre class="line-numbers language-none"><code class="language-none">*# æ ¼å¼/ipfs/&lt;hash-of-object&gt;/&lt;name-path-to-object&gt;*# ä¾‹å­/ipfs/XLYkgq61DYaQ8NhkcqyU7rLcnSa7dSHQ16x/foo.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>/ipfså‰ç¼€å…è®¸åªè¦åœ¨æŒ‚è½½ç‚¹ä¸å†²çª(æŒ‚è½½ç‚¹åç§°å½“ç„¶æ˜¯å¯é…ç½®çš„)çš„æƒ…å†µä¸‹æŒ‚è½½åˆ°ä¸€ä¸ªå·²å­˜åœ¨çš„ç³»ç»Ÿä¸Šã€‚ç¬¬äºŒä¸ªè·¯ç»ç»„æˆéƒ¨åˆ†(ç¬¬ä¸€ä¸ªæ˜¯IPFS)æ˜¯ä¸€ä¸ªå¯¹è±¡çš„hashã€‚é€šå¸¸éƒ½æ˜¯è¿™ç§æƒ…å†µï¼Œå› ä¸ºæ²¡æœ‰å…¨å±€çš„æ ¹ã€‚ä¸€ä¸ªæ ¹å¯¹è±¡å¯èƒ½ä¼šæœ‰ä¸€ä¸ªä¸å¯èƒ½å®Œæˆçš„ä»»åŠ¡ï¼Œå°±æ˜¯åœ¨åˆ†å¸ƒå¼ç¯å¢ƒ(å¯èƒ½è¿˜æ–­å¼€é“¾æ¥)ä¸­å¤„ç†ç™¾ä¸‡å¯¹è±¡çš„ä¸€è‡´æ€§ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ç”¨åœ°å€å¯å¯»å€æ¥æ¨¡æ‹Ÿæ ¹ã€‚é€šè¿‡çš„hashæ‰€æœ‰çš„å¯¹è±¡éƒ½æ˜¯å¯è®¿é—®çš„ã€‚è¿™æ„æ€æ˜¯è¯´ï¼Œç»™ä¸€ä¸ªè·¯ç»å¯¹è±¡/bar/bazï¼Œæœ€åä¸€ä¸ªå¯¹è±¡å¯ä»¥å¯ä»¥è¢«æ‰€æœ‰çš„è®¿é—®çš„ï¼š</p><pre class="line-numbers language-none"><code class="language-none">/ipfs/&lt;hash-of-foo&gt;/bar/baz/ipfs/&lt;hash-of-bar&gt;/baz/ipfs/&lt;hash-of-baz&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h5 id="3-5-2-æœ¬åœ°å¯¹è±¡"><a href="#3-5-2-æœ¬åœ°å¯¹è±¡" class="headerlink" title="3.5.2 æœ¬åœ°å¯¹è±¡"></a>3.5.2 æœ¬åœ°å¯¹è±¡</h5><p>IPFSå®¢æˆ·ç«¯éœ€è¦ä¸€ä¸ªæœ¬åœ°å­˜å‚¨å™¨ï¼Œä¸€ä¸ªå¤–éƒ¨ç³»ç»Ÿå¯ä»¥ä¸ºIPFSç®¡ç†çš„å¯¹è±¡å­˜å‚¨ä»¥åŠæ£€ç´¢æœ¬åœ°åŸå§‹æ•°æ®ã€‚å­˜å‚¨å™¨çš„ç±»å‹æ ¹æ®èŠ‚ç‚¹ä½¿ç”¨æ¡ˆä¾‹ä¸åŒè€Œä¸åŒã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™ä¸ªå­˜å‚¨å™¨åªæ˜¯ç¡¬ç›˜ç©ºé—´çš„ä¸€éƒ¨åˆ†ï¼ˆä¸æ˜¯è¢«æœ¬åœ°çš„æ–‡ä»¶ç³»ç»Ÿä½¿ç”¨é”®å€¼å­˜å‚¨å¦‚leveldbæ¥ç®¡ç†ï¼Œå°±æ˜¯ç›´æ¥è¢«IPFSå®¢æˆ·ç«¯ç®¡ç†ï¼‰ï¼Œåœ¨å…¶ä»–çš„æƒ…å†µä¸‹ï¼Œä¾‹å¦‚éæŒä¹…æ€§ç¼“å­˜ï¼Œå­˜å‚¨å™¨å°±æ˜¯RAMçš„ä¸€éƒ¨åˆ†ã€‚<br>æœ€ç»ˆï¼Œæ‰€æœ‰çš„å—åœ¨IPFSä¸­éƒ½æ˜¯èƒ½å¤Ÿè·å–çš„åˆ°çš„ï¼Œå—éƒ½å­˜å‚¨åœ¨äº†ä¸€äº›èŠ‚ç‚¹çš„æœ¬åœ°å­˜å‚¨å™¨ä¸­ã€‚å½“ç”¨æˆ·è¯·æ±‚ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡ä¼šè¢«æŸ¥æ‰¾åˆ°å¹¶ä¸‹è½½ä¸‹æ¥å­˜å‚¨åˆ°æœ¬åœ°ï¼Œè‡³å°‘ä¹Ÿæ˜¯æš‚æ—¶çš„å­˜å‚¨åœ¨æœ¬åœ°ã€‚è¿™ä¸ºä¸€äº›å¯é…ç½®æ—¶é—´é‡æä¾›äº†å¿«é€Ÿçš„æŸ¥æ‰¾ã€‚</p><h5 id="3-5-3å¯¹è±¡é”å®š"><a href="#3-5-3å¯¹è±¡é”å®š" class="headerlink" title="3.5.3å¯¹è±¡é”å®š"></a>3.5.3å¯¹è±¡é”å®š</h5><p>å¸Œæœ›ç¡®ä¿ç‰¹å®šå¯¹è±¡ç”Ÿå­˜çš„èŠ‚ç‚¹å¯ä»¥é”å®šæ­¤å¯¹è±¡ã€‚è¿™ä¿è¯æ­¤ç‰¹å®šå¯¹è±¡è¢«ä¿å­˜åœ¨äº†èŠ‚ç‚¹çš„æœ¬åœ°å­˜å‚¨å™¨ä¸Šã€‚ä¹Ÿå¯ä»¥é€’å½’çš„è¿›è¡Œé”å®šæ‰€æœ‰ç›¸å…³çš„æ´¾ç”Ÿå¯¹è±¡ã€‚è¿™ä½¿æ‰€æœ‰è¢«æŒ‡å®šçš„å¯¹è±¡éƒ½ä¿å­˜åœ¨æœ¬åœ°å­˜å‚¨å™¨ä¸Šã€‚è¿™å¯¹é•¿ä¹…ä¿å­˜æ–‡ä»¶ç‰¹åˆ«æœ‰ç”¨ï¼ŒåŒ…æ‹¬å¼•ç”¨ã€‚è¿™ä¹ŸåŒæ ·è®©IPFSæˆä¸ºä¸€ä¸ªlinksæ˜¯æ°¸ä¹…çš„Webï¼Œä¸”å¯¹è±¡å¯ä»¥ç¡®ä¿å…¶ä»–è¢«æŒ‡å®šå¯¹è±¡çš„ç”Ÿå­˜ã€‚</p><h5 id="3-5-4-å‘å¸ƒå¯¹è±¡"><a href="#3-5-4-å‘å¸ƒå¯¹è±¡" class="headerlink" title="3.5.4 å‘å¸ƒå¯¹è±¡"></a>3.5.4 å‘å¸ƒå¯¹è±¡</h5><p>IPFSæ˜¯å…¨çƒåˆ†å¸ƒçš„ã€‚å®ƒè®¾è®¡ä¸ºå…è®¸æˆåƒä¸Šä¸‡çš„ç”¨æˆ·æ–‡ä»¶å¯ä»¥å…±åŒçš„å­˜åœ¨çš„ã€‚DHTä½¿ç”¨å†…å®¹å“ˆå¸Œå¯»å€æŠ€æœ¯ï¼Œä½¿å‘å¸ƒå¯¹è±¡æ˜¯å…¬å¹³çš„ï¼Œå®‰å…¨çš„ï¼Œå®Œå…¨åˆ†å¸ƒå¼çš„ã€‚ä»»ä½•äººéƒ½å¯ä»¥å‘å¸ƒå¯¹è±¡ï¼Œåªéœ€è¦å°†å¯¹è±¡çš„keyåŠ å…¥åˆ°DHTä¸­ï¼Œå¹¶ä¸”ä»¥å¯¹è±¡æ˜¯å¯¹ç­‰èŠ‚ç‚¹çš„æ–¹å¼åŠ å…¥è¿›å»ï¼Œç„¶åæŠŠè·¯å¾„ç»™å…¶ä»–çš„ç”¨æˆ·ã€‚è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹è±¡æœ¬è´¨ä¸Šæ˜¯ä¸å¯æ”¹å˜çš„ï¼Œå°±åƒåœ¨Gitä¸­ä¸€æ ·ã€‚æ–°ç‰ˆæœ¬çš„å“ˆå¸Œå€¼ä¸åŒï¼Œå› æ­¤æ˜¯æ–°å¯¹è±¡ã€‚è·Ÿè¸ªç‰ˆæœ¬åˆ™æ˜¯é¢å¤–ç‰ˆæœ¬å¯¹è±¡çš„å·¥ä½œã€‚</p><h5 id="3-5-5-å¯¹è±¡çº§åˆ«çš„åŠ å¯†"><a href="#3-5-5-å¯¹è±¡çº§åˆ«çš„åŠ å¯†" class="headerlink" title="3.5.5 å¯¹è±¡çº§åˆ«çš„åŠ å¯†"></a>3.5.5 å¯¹è±¡çº§åˆ«çš„åŠ å¯†</h5><p>IPFSæ˜¯å…·å¤‡å¯ä»¥å¤„ç†å¯¹è±¡çº§åˆ«åŠ å¯†æ“ä½œçš„ã€‚ä¸€ä¸ªå·²åŠ å¯†çš„æˆ–è€…å·²ç­¾åçš„å¯¹è±¡åŒ…è£…åœ¨ä¸€ä¸ªç‰¹æ®Šçš„æ¡†æ¶é‡Œï¼Œæ­¤æ¡†æ¶å…è®¸åŠ å¯†å’ŒéªŒè¯åŸå§‹å­—èŠ‚ã€‚</p><pre class="line-numbers language-none"><code class="language-none">type EncryptedObject struct {Object []bytes // å·²åŠ å¯†çš„åŸå§‹å¯¹è±¡æ•°æ®Tag []bytes    // å¯é€‰æ‹©çš„åŠ å¯†æ ‡è¯†type SignedObject struct {Object []bytes  // å·²ç­¾åçš„åŸå§‹å¯¹è±¡æ•°æ®Signature []bytes // HMACç­¾åPublicKey []multihash // å¤šé‡å“ˆå¸Œèº«ä»½é”®å€¼}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åŠ å¯†æ“ä½œæ”¹å˜äº†å¯¹è±¡çš„å“ˆå¸Œå€¼ï¼Œå®šä¹‰ä¸€ä¸ªä¸åŒçš„æ–°çš„å¯¹è±¡ã€‚IPFSè‡ªåŠ¨çš„éªŒè¯ç­¾åä»¥åŠä½¿ç”¨ç”¨æˆ·æŒ‡å®šçš„é’¥åŒ™é“¾è§£å¯†æ•°æ®ã€‚åŠ å¯†æ•°æ®çš„linksä¹ŸåŒæ ·çš„è¢«ä¿æŠ¤ç€ï¼Œæ²¡æœ‰è§£å¯†ç§˜é’¥å°±æ— æ³•éå†å¯¹è±¡ã€‚ä¹Ÿå­˜åœ¨ç€ä¸€ç§ç°è±¡ï¼Œå¯èƒ½çˆ¶å¯¹è±¡ä½¿ç”¨äº†ä¸€ä¸ªç§˜é’¥è¿›è¡Œäº†åŠ å¯†ï¼Œè€Œå­å¯¹è±¡ä½¿ç”¨äº†å¦ä¸€ä¸ªç§˜é’¥è¿›è¡ŒåŠ å¯†æˆ–è€…æ ¹æœ¬æ²¡æœ‰åŠ å¯†ã€‚è¿™å¯ä»¥ä¿è¯linkså…±äº«å¯¹è±¡å®‰å…¨ã€‚</p><h4 id="3-6-æ–‡ä»¶"><a href="#3-6-æ–‡ä»¶" class="headerlink" title="3.6 æ–‡ä»¶"></a>3.6 æ–‡ä»¶</h4><p>IPFSåœ¨Merkle DAGä¸Šè¿˜ä¸ºæ¨¡å‹åŒ–ç‰ˆæœ¬æ–‡ä»¶ç³»ç»Ÿå®šä¹‰äº†ä¸€ç»„å¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡æ¨¡å‹ä¸Gitæ¯”è¾ƒç›¸ä¼¼ï¼š<br>Blockï¼šä¸€ä¸ªå¯å˜å¤§å°çš„æ•°æ®å—<br>Listï¼šå—æˆ–è€…å…¶ä»–é“¾è¡¨çš„é›†åˆ<br>Treeï¼šå—ï¼Œé“¾è¡¨ï¼Œæˆ–è€…å…¶ä»–æ ‘çš„é›†åˆ<br>Commitï¼šæ ‘åœ¨ç‰ˆæœ¬å†å²è®°å½•ä¸­çš„ä¸€ä¸ªå¿«ç…§<br>æˆ‘åŸæœ¬å¸Œæœ›ä½¿ç”¨ä¸Gitå¯¹è±¡æ ¼å¼ä¸€è‡´çš„æ¨¡å‹ï¼Œä½†é‚£å°±å¿…é¡»è¦åˆ†å¼€æ¥å¼•è¿›åœ¨åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä¸­æœ‰ç”¨çš„æŸäº›ç‰¹å¾ï¼Œå¦‚</p><p>(a)å¿«é€Ÿå¤§å°æŸ¥æ‰¾(æ€»å­—èŠ‚å¤§å°å·²ç»åŠ å…¥åˆ°å¯¹è±¡ä¸­)<br>(b)å¤§æ–‡ä»¶çš„é‡å¤åˆ é™¤(æ·»åŠ åˆ°listå¯¹è±¡)<br>(c)commitsåµŒå…¥åˆ°treesä¸­ã€‚ä¸è¿‡ï¼ŒIPFSæ–‡ä»¶å¯¹è±¡ä¸Gitè¿˜æ˜¯éå¸¸ç›¸è¿‘çš„ï¼Œä¸¤è€…ä¹‹é—´è¿›è¡Œäº¤æµéƒ½æ˜¯æœ‰å¯èƒ½çš„ã€‚è€Œä¸”ï¼ŒGitçš„ä¸€ä¸ªç³»åˆ—çš„å¯¹è±¡å¯ä»¥è¢«å¼•è¿›è¿‡æ¥è½¬æ¢éƒ½ä¸ä¼šä¸¢å¤±ä»»ä½•çš„ä¿¡æ¯ã€‚ï¼ˆUNIXæ–‡ä»¶æƒé™ç­‰ç­‰ï¼‰ã€‚<br>æ ‡è®°ï¼šä¸‹é¢çš„æ–‡ä»¶å¯¹è±¡æ ¼å¼ä½¿ç”¨JSONã€‚æ³¨æ„ï¼Œè™½ç„¶IPFSåŒ…å«äº†JSONçš„äº’ç›¸è½¬æ¢ï¼Œä½†æ˜¯æ–‡ä»¶å¯¹è±¡çš„ç»“æ„ä½“è¿˜æ˜¯ä½¿ç”¨protobufsçš„äºŒè¿›åˆ¶ç¼–ç ã€‚</p><h5 id="3-6-1-æ–‡ä»¶å¯¹è±¡ï¼šBLOB"><a href="#3-6-1-æ–‡ä»¶å¯¹è±¡ï¼šBLOB" class="headerlink" title="3.6.1 æ–‡ä»¶å¯¹è±¡ï¼šBLOB"></a>3.6.1 æ–‡ä»¶å¯¹è±¡ï¼šBLOB</h5><p>blobå¯¹è±¡ä»£è¡¨ä¸€ä¸ªæ–‡ä»¶ä¸”åŒ…å«ä¸€ä¸ªå¯å¯»å€çš„æ•°æ®å•å…ƒï¼ŒIPFSçš„blobså°±åƒGitçš„blobsæˆ–è€…æ–‡ä»¶ç³»ç»Ÿæ•°æ®å—ã€‚å®ƒä»¬å­˜å‚¨ç”¨æˆ·çš„æ•°æ®ã€‚éœ€è¦ç•™æ„çš„æ˜¯IPFSæ–‡ä»¶å¯ä»¥ä½¿ç”¨listsæˆ–è€…blobsæ¥è¡¨ç¤ºã€‚Blobsæ²¡æœ‰linksã€‚</p><pre class="line-numbers language-none"><code class="language-none">{"data": "some data here",  // blobsæ— links}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h5 id="3-6-2-æ–‡ä»¶å¯¹è±¡-LIST"><a href="#3-6-2-æ–‡ä»¶å¯¹è±¡-LIST" class="headerlink" title="3.6.2 æ–‡ä»¶å¯¹è±¡: LIST"></a>3.6.2 æ–‡ä»¶å¯¹è±¡: LIST</h5><p>Listå¯¹è±¡ä»£è¡¨ç€ç”±å‡ ä¸ªIPFSçš„blobsè¿æ¥æˆçš„å¤§æ–‡ä»¶æˆ–è€…é‡å¤æ•°æ®åˆ é™¤æ–‡ä»¶ã€‚ListsåŒ…å«ç€æœ‰åºçš„blobåºåˆ—æˆ–listå¯¹è±¡ã€‚ä»æŸç§ç¨‹åº¦ä¸Šè€Œè¨€ï¼ŒIPFSçš„listå‡½æ•°å°±åƒä¸€ä¸ªé—´æ¥å—çš„æ–‡ä»¶ç³»ç»Ÿã€‚ç”±äºlistså¯ä»¥åŒ…å«å…¶ä»–çš„listsï¼Œé‚£ä¹ˆåŒ…å«linkedçš„é“¾è¡¨å’Œå¹³è¡¡æ ‘çš„æ‹“æ‰‘ç»“æ„æ˜¯æœ‰å¯èƒ½çš„ã€‚æœ‰å‘å›¾ä¸­ç›¸åŒçš„èŠ‚ç‚¹å‡ºç°åœ¨å¤šä¸ªä¸åŒåœ°æ–¹å…è®¸åœ¨æ–‡ä»¶ä¸­é‡å¤æ•°æ®åˆ é™¤ã€‚å½“ç„¶ï¼Œå¾ªç¯æ˜¯ä¸å¯ä»¥èƒ½çš„ï¼Œå› ä¸ºæ˜¯è¢«å“ˆå¸Œå¯»å€å¼ºåˆ¶å®è¡Œçš„ã€‚</p><pre class="line-numbers language-none"><code class="language-none">{"data": ["blob", "list", "blob"], //listsæœ‰ä¸€ä¸ªå¯¹è±¡ç±»å‹çš„æ•°ç»„ä½œä¸ºæ•°æ®"links": [{ "hash": "XLYkgq61DYaQ8NhkcqyU7rLcnSa7dSHQ16x","size": 189458 },{ "hash": "XLHBNmRQ5sJJrdMPuu48pzeyTtRo39tNDR5","size": 19441 },{ "hash": "XLWVQDqxo9Km9zLyquoC9gAP8CL1gWnHZ7z","size": 5286 } //åœ¨linksä¸­listsæ˜¯æ²¡æœ‰åå­—çš„]}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="3-6-3-æ–‡ä»¶å¯¹è±¡ï¼šTREE"><a href="#3-6-3-æ–‡ä»¶å¯¹è±¡ï¼šTREE" class="headerlink" title="3.6.3 æ–‡ä»¶å¯¹è±¡ï¼šTREE"></a>3.6.3 æ–‡ä»¶å¯¹è±¡ï¼šTREE</h5><p>IPFSä¸­çš„treeå¯¹è±¡ä¸Gitä¸­ç›¸ä¼¼ï¼Œå®ƒä»£è¡¨ç€ä¸€ä¸ªç›®å½•ï¼Œä¸€ä¸ªåå­—åˆ°å“ˆå¸Œå€¼çš„æ˜ å°„ã€‚å“ˆå¸Œå€¼åˆ™è¡¨ç¤ºç€blobsï¼Œlistsï¼Œå…¶ä»–çš„treesï¼Œæˆ–è€…commitsã€‚æ³¨æ„ï¼Œä¼ ç»Ÿè·¯å¾„çš„å‘½åæ—©å·²ç»è¢«Merkle DAGå®ç°äº†ã€‚</p><pre class="line-numbers language-none"><code class="language-none">{"data": ["blob", "list", "blob"],//treesæœ‰ä¸€ä¸ªå¯¹è±¡ç±»å‹çš„æ•°ç»„ä½œä¸ºæ•°æ®"links": [{ "hash": "XLYkgq61DYaQ8NhkcqyU7rLcnSa7dSHQ16x","name": "less", "size": 189458 },{ "hash": "XLHBNmRQ5sJJrdMPuu48pzeyTtRo39tNDR5","name": "script", "size": 19441 },{ "hash": "XLWVQDqxo9Km9zLyquoC9gAP8CL1gWnHZ7z","name": "template", "size": 5286 }//treesæ˜¯æœ‰åå­—çš„]}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="3-6-4-æ–‡ä»¶å¯¹è±¡ï¼šCOMMIT"><a href="#3-6-4-æ–‡ä»¶å¯¹è±¡ï¼šCOMMIT" class="headerlink" title="3.6.4 æ–‡ä»¶å¯¹è±¡ï¼šCOMMIT"></a>3.6.4 æ–‡ä»¶å¯¹è±¡ï¼šCOMMIT</h5><p>IPFSä¸­çš„commitå¯¹è±¡ä»£è¡¨ä»»ä½•å¯¹è±¡åœ¨ç‰ˆæœ¬å†å²è®°å½•ä¸­çš„ä¸€ä¸ªå¿«ç…§ã€‚ä¸Gitä¸­ç±»ä¼¼ï¼Œä½†æ˜¯å®ƒèƒ½å¤Ÿè¡¨ç¤ºä»»ä½•ç±»å‹çš„å¯¹è±¡ã€‚å®ƒåŒæ ·linkç€å‘èµ·å¯¹è±¡ã€‚</p><h5 id="3-6-5-ç‰ˆæœ¬æ§åˆ¶"><a href="#3-6-5-ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="3.6.5 ç‰ˆæœ¬æ§åˆ¶"></a>3.6.5 ç‰ˆæœ¬æ§åˆ¶</h5><p>Commitå¯¹è±¡ä»£è¡¨ç€ä¸€ä¸ªå¯¹è±¡åœ¨å†å²ç‰ˆæœ¬ä¸­çš„ä¸€ä¸ªç‰¹å®šå¿«ç…§ã€‚åœ¨ä¸¤ä¸ªä¸åŒçš„commitä¸­æ¯”è¾ƒå¯¹è±¡ï¼ˆå’Œå­å¯¹è±¡ï¼‰å¯ä»¥æ­éœ²å‡ºä¸¤ä¸ªä¸åŒç‰ˆæœ¬æ–‡ä»¶ç³»ç»Ÿçš„åŒºåˆ«ã€‚åªè¦commitå’Œå®ƒæ‰€æœ‰å­å¯¹è±¡çš„å¼•ç”¨æ˜¯èƒ½å¤Ÿè¢«è®¿é—®çš„ï¼Œæ‰€æœ‰å‰ç‰ˆæœ¬æ˜¯å¯è·å–çš„ï¼Œæ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿæ”¹å˜çš„å…¨éƒ¨å†å²æ˜¯å¯è®¿é—®çš„ï¼Œè¿™å°±ä¸Merkle DAGå¯¹è±¡æ¨¡å‹è„±ç¦»å¼€æ¥äº†ã€‚</p><p>Gitç‰ˆæœ¬æ§åˆ¶å·¥å…·çš„æ‰€æœ‰åŠŸèƒ½å¯¹äºIPFSçš„ç”¨æˆ·æ˜¯å¯ç”¨çš„ã€‚å¯¹è±¡æ¨¡å‹ä¸å®Œå…¨ä¸€è‡´ï¼Œä½†ä¹Ÿæ˜¯å¯å…¼å®¹çš„ã€‚è¿™å¯èƒ½</p><p>(a)æ„å»ºä¸€ä¸ªGitå·¥å…·ç‰ˆæœ¬æ”¹é€ æˆä½¿ç”¨IPFSå¯¹è±¡å›¾ï¼Œ<br>(b)æ„å»ºä¸€ä¸ªæŒ‚è½½FUSEæ–‡ä»¶ç³»ç»Ÿï¼ŒæŒ‚è½½ä¸€ä¸ªIPFSçš„treeä½œä¸ºGitçš„ä»“åº“ï¼ŒæŠŠGitæ–‡ä»¶ç³»ç»Ÿçš„è¯»/å†™è½¬æ¢ä¸ºIPFSçš„æ ¼å¼ã€‚</p><h5 id="3-6-6-æ–‡ä»¶ç³»ç»Ÿè·¯å¾„"><a href="#3-6-6-æ–‡ä»¶ç³»ç»Ÿè·¯å¾„" class="headerlink" title="3.6.6 æ–‡ä»¶ç³»ç»Ÿè·¯å¾„"></a>3.6.6 æ–‡ä»¶ç³»ç»Ÿè·¯å¾„</h5><p>å¦‚æˆ‘ä»¬åœ¨Merkle DAGä¸­çœ‹åˆ°çš„ä¸€æ ·ï¼ŒIPFSå¯¹è±¡å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²è·¯å¾„APIæ¥éå†ã€‚IPFSæ–‡ä»¶å¯¹è±¡æ˜¯ç‰¹æ„è®¾è®¡çš„ï¼Œä¸ºäº†è®©æŒ‚è½½IPFSåˆ°UNIXæ–‡ä»¶ç³»ç»Ÿæ›´åŠ ç®€å•ã€‚æ–‡ä»¶å¯¹è±¡é™åˆ¶treesæ²¡æœ‰æ•°æ®ï¼Œä¸ºäº†ä½¿å®ƒä»¬å¯ä»¥è¡¨ç¤ºç›®å½•ã€‚Commitså¯ä»¥ä»¥ä»£è¡¨ç›®å½•çš„å½¢å¼å‡ºç°ï¼Œä¹Ÿå¯ä»¥å®Œå…¨çš„éšè—åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚</p><h5 id="3-6-7-å°†æ–‡ä»¶åˆ†éš”æˆLISTSå’ŒBLOBS"><a href="#3-6-7-å°†æ–‡ä»¶åˆ†éš”æˆLISTSå’ŒBLOBS" class="headerlink" title="3.6.7 å°†æ–‡ä»¶åˆ†éš”æˆLISTSå’ŒBLOBS"></a>3.6.7 å°†æ–‡ä»¶åˆ†éš”æˆLISTSå’ŒBLOBS</h5><p>ç‰ˆæœ¬æ§åˆ¶å’Œåˆ†å‘å¤§æ–‡ä»¶å…¶ä¸­ä¸€ä¸ªæœ€ä¸»è¦çš„æŒ‘æˆ˜æ˜¯ï¼šæ‰¾åˆ°ä¸€ä¸ªæ­£ç¡®çš„æ–¹æ³•æ¥å°†å®ƒä»¬åˆ†éš”æˆç‹¬ç«‹çš„å—ã€‚ä¸å…¶è®¤ä¸ºIPFSå¯ä»¥ä¸ºæ¯ä¸ªä¸åŒç±»å‹çš„æ–‡ä»¶æä¾›æ­£ç¡®çš„åˆ†éš”æ–¹æ³•ï¼Œä¸å¦‚è¯´IPFSæä¾›äº†ä»¥ä¸‹çš„å‡ ä¸ªå¯é€‰é€‰æ‹©ï¼š<br>å°±åƒåœ¨LIBFS[?]ä¸­ä¸€æ ·ä½¿ç”¨Rabin Fingerprints [?]æ¥é€‰æ‹©ä¸€ä¸ªæ¯”è¾ƒåˆé€‚çš„å—è¾¹ç•Œã€‚<br>ä½¿ç”¨rsync[?] rolling-checksumç®—æ³•ï¼Œæ¥æ£€æµ‹å—åœ¨ç‰ˆæœ¬ä¹‹é—´çš„æ”¹å˜ã€‚<br>å…è®¸ç”¨æˆ·æŒ‡å®šä¸“ä¸ºç‰¹å®šæ–‡ä»¶è€Œè°ƒæ•´çš„â€™å¿«åˆ†éš”â€™å‡½æ•°ã€‚</p><h5 id="3-6-8è·¯å¾„æŸ¥æ‰¾æ€§èƒ½"><a href="#3-6-8è·¯å¾„æŸ¥æ‰¾æ€§èƒ½" class="headerlink" title="3.6.8è·¯å¾„æŸ¥æ‰¾æ€§èƒ½"></a>3.6.8è·¯å¾„æŸ¥æ‰¾æ€§èƒ½</h5><p>åŸºäºè·¯å¾„çš„è®¿é—®éœ€è¦éå†å¯¹è±¡å›¾ã€‚è·å–æ¯ä¸ªå¯¹è±¡è¦æ±‚åœ¨DHTä¸­æŸ¥æ‰¾å®ƒä»¬çš„keyï¼Œè¿æ¥åˆ°å¯¹ç­‰èŠ‚ç‚¹ï¼Œç„¶åè·å–å®ƒçš„å—ã€‚è¿™é€ æˆç›¸å½“å¤§çš„å¼€é”€ï¼Œç‰¹åˆ«æ˜¯æŸ¥æ‰¾çš„è·¯å¾„ç”±å¾ˆå¤šå­è·¯å¾„ç»„æˆæ—¶ã€‚ä¸‹é¢çš„æ–¹æ³•å¯ä»¥å‡ç¼“å¼€é”€ï¼š</p><p>treeç¼“å­˜ï¼šç”±äºæ‰€æœ‰çš„å¯¹è±¡éƒ½æ˜¯å“ˆå¸Œå¯»å€çš„ï¼Œå®ƒä»¬å¯ä»¥è¢«æ— é™çš„ç¼“å­˜ã€‚å¦å¤–ï¼Œtreesä¸€èˆ¬æ¯”è¾ƒå°ï¼Œæ‰€ä»¥æ¯”èµ·blobsï¼ŒIPFSä¼šä¼˜å…ˆç¼“å­˜treesã€‚<br>flattened treesï¼šå¯¹äºä»»ä½•treeï¼Œä¸€ä¸ªç‰¹æ®Šçš„ flattened treeå¯ä»¥æ„å»ºä¸€ä¸ªé“¾è¡¨ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½å¯ä»¥ä»è¿™ä¸ªtreeä¸­è®¿é—®å¾—åˆ°ã€‚åœ¨flattened treeä¸­åå­—å°±æ˜¯ä¸€ä¸ªä»åŸå§‹treeåˆ†ç¦»çš„è·¯å¾„ï¼Œç”¨æ–œçº¿åˆ†éš”ã€‚<br>ä¾‹å¦‚ï¼Œå¯¹äºä¸Šé¢çš„ttt111çš„flattened treeå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">{"data":["tree", "blob", "tree", "list", "blob" "blob"],"links": [{ "hash": "&lt;ttt222-hash&gt;", "size": 1234"name": "ttt222-name" },{ "hash": "&lt;bbb111-hash&gt;", "size": 123,"name": "ttt222-name/bbb111-name" },{ "hash": "&lt;ttt333-hash&gt;", "size": 3456,"name": "ttt333-name" },{ "hash": "&lt;lll111-hash&gt;", "size": 587,"name": "ttt333-name/lll111-name"},{ "hash": "&lt;bbb222-hash&gt;", "size": 22,"name": "ttt333-name/lll111-name/bbb222-name" },{ "hash": "&lt;bbb222-hash&gt;", "size": 22"name": "bbb222-name" }] }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="3-7-IPNSï¼šå‘½åä»¥åŠæ˜“å˜çŠ¶æ€"><a href="#3-7-IPNSï¼šå‘½åä»¥åŠæ˜“å˜çŠ¶æ€" class="headerlink" title="3.7 IPNSï¼šå‘½åä»¥åŠæ˜“å˜çŠ¶æ€"></a>3.7 IPNSï¼šå‘½åä»¥åŠæ˜“å˜çŠ¶æ€</h4><p>ç›®å‰ä¸ºæ­¢ï¼ŒIPFSæ¡Ÿå½¢æˆäº†ä¸€ä¸ªå¯¹ç­‰å—äº¤æ¢ç»„æˆä¸€ä¸ªå†…å®¹å¯å¯»å€çš„DAGå¯¹è±¡ã€‚è¿™æä¾›äº†å‘å¸ƒå’Œè·å–ä¸å¯æ”¹å˜çš„å¯¹è±¡ã€‚è¿™ç”šè‡³å¯ä»¥è·Ÿè¸ªè¿™äº›å¯¹è±¡çš„ç‰ˆæœ¬å†å²è®°å½•ã€‚ä½†æ˜¯ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå…³é”®æˆåˆ†é—æ¼äº†ï¼šæ˜“å˜çš„å‘½åã€‚æ²¡æœ‰è¿™ä¸ªï¼Œå‘é€IPFSçš„linksï¼Œæ‰€æœ‰æ–°å†…å®¹çš„é€šä¿¡è‚¯å®šéƒ½ä¼šæœ‰æ‰€åå·®ã€‚ç°åœ¨æ‰€éœ€å°±æ˜¯èƒ½æœ‰æŸäº›æ–¹æ³•å¯ä»¥è·å–ç›¸åŒè·¯å¾„çš„çš„æ˜“å˜çŠ¶æ€ã€‚<br>è¿™å€¼å¾—è¯¦è¿°åŸå› â€”å¦‚æœæœ€ç»ˆæ˜“å˜æ•°æ®æ˜¯å¿…é¡»çš„â€”æˆ‘ä»¬è´¹äº†å¾ˆå¤§çš„åŠ›æ°”æ„å»ºäº†ä¸€ä¸ªä¸å¯æ”¹å˜çš„Merkle DAGã€‚å°±å½“åšIPFSè„±ç¦»äº†Merkle DAGçš„ç‰¹å¾ï¼šå¯¹è±¡å¯ä»¥</p><p>(a)é€šè¿‡å“ˆå¸Œå€¼å¯ä»¥è·å–<br>(b)å®Œæ•´æ€§çš„æ£€æŸ¥<br>(c)linkå…¶ä»–çš„å¯¹è±¡<br>(d)æ— é™ç¼“å­˜ã€‚ä»æŸç§æ„ä¹‰ä¸Šè¯´ï¼š<br>å¯¹è±¡å°±æ˜¯æ°¸æ’çš„<br>è¿™äº›å°±æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½åˆ†å¸ƒå¼ç³»ç»Ÿçš„å…³é”®ç‰¹å¾ï¼Œåœ¨æ­¤ç³»ç»Ÿä¸Šè·¨ç½‘ç»œlinksä¹‹é—´ç§»åŠ¨æ–‡ä»¶æ˜¯éå¸¸æ˜‚è´µçš„ã€‚å¯¹è±¡å†…å®¹å¯å¯»å€æ„å»ºäº†ä¸€ä¸ªå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹çš„Webï¼Œ(a)ä¼˜ç§€çš„å®½å¸¦ä¼˜åŒ–(b)ä¸å—ä¿¡ä»»çš„å†…å®¹æœåŠ¡(c)æ°¸æ’çš„links(d)èƒ½å¤Ÿæ°¸ä¹…å¤‡ä»»ä½•å¯¹è±¡ä»¥åŠå®ƒçš„å¼•ç”¨ã€‚<br>ä¸å¯å˜çš„å†…å®¹å¯å¯»å€å¯¹è±¡å’Œå‘½åçš„Merkle DAGï¼Œ å¯å˜æŒ‡é’ˆæŒ‡å‘Merkle DAGï¼Œå®ä¾‹åŒ–äº†ä¸€ä¸ªå‡ºç°åœ¨å¾ˆå¤šæˆåŠŸåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„äºŒåˆ†æ³•ã€‚è¿™äº›ç³»ç»ŸåŒ…æ‹¬Gitçš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä½¿ç”¨ä¸å¯å˜çš„å¯¹è±¡å’Œå¯å˜çš„å¼•ç”¨ï¼›è¿˜æœ‰UNIXåˆ†å¸ƒå¼çš„ç»§æ‰¿è€…Plan9[?]æ–‡ä»¶ç³»ç»Ÿï¼Œä½¿ç”¨å¯å˜çš„Fossilå’Œä¸å¯å˜çš„Venti[?]ã€‚LBFS[?]åŒæ ·ä½¿ç”¨å¯å˜çš„ç´¢å¼•ä»¥åŠä¸å¯å˜çš„å—ã€‚</p><h5 id="3-7-1-è‡ªæˆ‘è®¤è¯åç§°"><a href="#3-7-1-è‡ªæˆ‘è®¤è¯åç§°" class="headerlink" title="3.7.1 è‡ªæˆ‘è®¤è¯åç§°"></a>3.7.1 è‡ªæˆ‘è®¤è¯åç§°</h5><p>ä½¿ç”¨SFS[12,11]ä¸­çš„å‘½åæ–¹æ¡ˆï¼Œç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªç§å¯ä»¥æ„å»ºè‡ªæˆ‘è®¤è¯åç§°çš„æ–¹æ³•ï¼Œ<br>åœ¨ä¸€ä¸ªåŠ å¯†æŒ‡å®šçš„å…¨å±€å‘½åç©ºé—´ä¸­ï¼Œè¿™æ˜¯å¯å˜çš„ã€‚IPFSçš„æ–¹æ¡ˆå¦‚ä¸‹ï¼š</p><p>1.å›æƒ³ä¸€ä¸‹åœ¨IPFSä¸­ï¼šNodeId = hash(node.PubKey)<br>2.æˆ‘ä»¬ç»™æ¯ä¸ªç”¨æˆ·åˆ†é…ä¸€ä¸ªå¯å˜çš„å‘½åç©ºé—´ï¼Œåœ¨æ­¤è·¯å¾„ä¸‹ï¼š/ipns/<br>3.ä¸€ä¸ªç”¨æˆ·å¯ä»¥åœ¨æ­¤è·¯å¾„ä¸‹å‘å¸ƒä¸€ä¸ªç”¨è‡ªå·±ç§é’¥ç­¾åçš„å¯¹è±¡ï¼Œæ¯”å¦‚è¯´ï¼š/ipns/XLF2ipQ4jD3UdeX5xp1KBgeHRhemUtaA8Vm/<br>4.å½“å…¶ä»–ç”¨æˆ·è·å–å¯¹è±¡æ—¶ï¼Œä»–ä»¬å¯ä»¥æ£€æµ‹ç­¾åæ˜¯å¦ä¸å…¬é’¥å’ŒNodeIdåŒ¹é…ã€‚è¿™ä¸ªéªŒè¯äº†ç”¨æˆ·å‘å¸ƒå¯¹è±¡çš„çœŸå®æ€§ï¼Œè¾¾åˆ°äº†å¯å˜çŠ¶æ€çš„è·å–ã€‚<br>æ³¨æ„ä¸‹é¢çš„ç»†èŠ‚ï¼š</p><p>IPNS(InterPlanetaryçš„å‘½åç©ºé—´)åˆ†å¼€å‰ç¼€æ˜¯åœ¨å¯å˜å’Œä¸å¯å˜çš„è·¯å¾„ä¹‹é—´å»ºç«‹ä¸€ä¸ªå¾ˆå®¹æ˜“è¾¨è®¤çš„åŒºåˆ«ï¼Œä¸ºäº†ç¨‹åºä¹Ÿä¸ºäº†äººç±»é˜…è¯»çš„ä¾¿åˆ©ã€‚<br>å› ä¸ºè¿™ä¸æ˜¯ä¸€ä¸ªå†…å®¹å¯å¯»å€çš„å¯¹è±¡ï¼Œæ‰€ä»¥å‘å¸ƒå®ƒå°±è¦ä¾é IPFSä¸­çš„å”¯ä¸€çš„å¯å˜çŠ¶æ€åˆ†é…åˆ¶åº¦ï¼Œè·¯ç”±ç³»ç»Ÿã€‚è¿‡ç¨‹æ˜¯(a)é¦–å…ˆæŠŠæ­¤å¯¹è±¡åšä¸€ä¸ªå¸¸è§„çš„ä¸å¯å˜IPFSçš„å¯¹è±¡æ¥å‘å¸ƒ(b)å°†æ­¤å¯¹è±¡çš„å“ˆå¸Œå€¼ä½œä¸ºå…ƒæ•°æ®çš„å€¼å‘å¸ƒåˆ°è·¯ç”±ç³»ç»Ÿä¸Šï¼š</p><pre class="line-numbers language-none"><code class="language-none">routing.setValue(NodeId, &lt;ns-object-hash&gt;)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‘å¸ƒçš„å¯¹è±¡ä¸­ä»»ä½•linksåœ¨å‘½ä»¤ç©ºé—´ä¸­å……å½“å­åç§°ï¼š</p><pre class="line-numbers language-none"><code class="language-none">/ipns/XLF2ipQ4jD3UdeX5xp1KBgeHRhemUtaA8Vm//ipns/XLF2ipQ4jD3UdeX5xp1KBgeHRhemUtaA8Vm/docs/ipns/XLF2ipQ4jD3UdeX5xp1KBgeHRhemUtaA8Vm/docs/ipfs<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä¸€èˆ¬å»ºè®®å‘å¸ƒä¸€ä¸ªcommitå¯¹è±¡æˆ–è€…å…¶ä»–å¯¹è±¡çš„æ—¶å€™ï¼Œè¦ä½¿ç”¨å†å²ç‰ˆæœ¬è®°å½•ï¼Œå› ä¸ºè¿™æ ·å°±ç”¨æˆ·å°±å¯ä»¥æ‰¾åˆ°ä¹‹å‰ä½¿ç”¨è¿‡çš„åå­—ã€‚ä¸è¿‡ç”±äºè¿™å¹¶ä¸æ€»æ˜¯éœ€è¦çš„ï¼Œæ‰€ä»¥ç•™ä¸ªç”¨æˆ·è‡ªå·±é€‰æ‹©ã€‚<br>æ³¨æ„å½“ç”¨æˆ·å‘å¸ƒä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œä»–ä¸èƒ½ä½¿ç”¨ç›¸åŒçš„æ–¹å¼æ¥å‘å¸ƒå¯¹è±¡ã€‚</p><h5 id="3-7-2äººç±»å‹å¥½åç§°"><a href="#3-7-2äººç±»å‹å¥½åç§°" class="headerlink" title="3.7.2äººç±»å‹å¥½åç§°"></a>3.7.2äººç±»å‹å¥½åç§°</h5><p>IPNSçš„ç¡®æ˜¯ä¸€ä¸ªåˆ†é…å’Œåœ¨åˆ†é…åç§°çš„å¥½æ–¹æ³•ï¼Œä½†æ˜¯å¯¹ç”¨æˆ·å´ä¸æ˜¯ååˆ†å‹å¥½çš„ï¼Œå› ä¸ºå®ƒä½¿ç”¨å¾ˆé•¿çš„å“ˆå¸Œå€¼ä½œä¸ºåç§°ï¼Œä¼—æ‰€å‘¨çŸ¥è¿™æ ·çš„åç§°å¾ˆéš¾è¢«è®°ä½ã€‚IPNSè¶³å¤Ÿåº”ä»˜URLsï¼Œä½†å¯¹äºå¾ˆå¤šçº¿ä¸‹çš„ä¼ è¾“å·¥ä½œå°±æ²¡æœ‰è¿™ä¹ˆå¥½ç”¨äº†ã€‚å› æ­¤ï¼ŒIPFSä½¿ç”¨ä¸‹é¢çš„æŠ€æœ¯æ¥å¢åŠ IPNSçš„ç”¨æˆ·å‹å¥½åº¦ã€‚<br>å¯¹ç­‰èŠ‚ç‚¹Links<br>è¢«SFSæ‰€é¼“èˆï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥å°†å…¶ä»–ç”¨æˆ·çš„å¯¹è±¡linkåˆ°è‡ªå·±çš„å¯¹è±¡ä¸Šï¼ˆå‘½ä»¤ç©ºé—´ï¼Œå®¶ç›®å½•ç­‰ç­‰ï¼‰ã€‚è¿™æœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯åˆ›å»ºäº†ä¸€ä¸ªå¯ä¿¡ä»»çš„Webï¼ˆä¹Ÿæ”¯æŒè€çš„çœŸå®æ€§è®¤è¯æ¨¡å‹ï¼‰ï¼š</p><pre class="line-numbers language-none"><code class="language-none"># Alice links åˆ°Bobä¸Šipfs link /&lt;alice-pk-hash&gt;/friends/bob /&lt;bob-pk-hash&gt;# Eve links åˆ°Aliceä¸Šipfs link /&lt;eve-pk-hash/friends/alice /&lt;alice-pk-hash&gt;# Eve ä¹Ÿå¯ä»¥è®¿é—®Bob/&lt;eve-pk-hash/friends/alice/friends/bob# è®¿é—®Verisign è®¤è¯åŸŸ/&lt;verisign-pk-hash&gt;/foo.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>DNS TXT IPNS è®°å½•<br>å¦‚æœ/ipns/æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„åŸŸåç§°ï¼ŒIPFSä¼šåœ¨DNS TXTè®°å½•ä¸­æŸ¥æ‰¾å…³é”®çš„ipnsã€‚IPFSä¼šå°†æŸ¥æ‰¾åˆ°çš„å€¼ç¿»è¯‘ä¸ºä¸€ä¸ªå¯¹è±¡çš„å“ˆå¸Œå€¼æˆ–è€…å¦ä¸€ä¸ªipnsçš„è·¯å¾„ï¼š</p><pre class="line-numbers language-none"><code class="language-none"># DNS TXT è®°å½•ipfs.benet.ai. TXT "ipfs=XLF2ipQ4jD3U ..."# è¡¨ç°ä¸ºç¬¦å·é“¾æ¥ln -s /ipns/XLF2ipQ4jD3U /ipns/fs.benet.ai<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>Proquint å¯è¯»çš„æ ‡è¯†ç¬¦<br>æ€»æ˜¯ä¼šæœ‰å°†äºŒè¿›åˆ¶ç¼–ç ç¿»è¯‘æˆå¯è¯»æ–‡ä»¶çš„æ–¹æ³•ã€‚IPNSåˆ™æ”¯æŒProquint[?].ã€‚å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none"># proquintè¯­å¥/ipns/dahih-dolij-sozuk-vosah-luvar-fuluh# åˆ†è§£ä¸ºç›¸åº”çš„ä¸‹é¢å½¢å¼/ipns/KhAwNprxYVxKqpDZ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç¼©çŸ­åç§°æœåŠ¡<br>ä¼šæ¶Œç°å‡ºå¾ˆå¤šæœåŠ¡å™¨æä¾›ç¼©çŸ­åç§°çš„æœåŠ¡ï¼Œå‘ç”¨æˆ·æä¾›ä»–ä»¬çš„å‘½åç©ºé—´ã€‚å°±åƒæˆ‘ä»¬ç°åœ¨çœ‹åˆ°çš„DNSå’ŒWebçš„URLsï¼š</p><pre class="line-numbers language-none"><code class="language-none"># ç”¨æˆ·å¯ä»¥ä»ä¸‹é¢è·å–ä¸€ä¸ªlink/ipns/shorten.er/foobar# ç„¶åæ”¾åˆ°è‡ªå·±çš„å‘½åç©ºé—´/ipns/XLF2ipQ4jD3UdeX5xp1KBgeHRhemUtaA8Vm<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="3-8-ä½¿ç”¨IPFS"><a href="#3-8-ä½¿ç”¨IPFS" class="headerlink" title="3.8 ä½¿ç”¨IPFS"></a>3.8 ä½¿ç”¨IPFS</h4><p>IPFSè®¾è®¡ä¸ºå¯ä»¥ä½¿ç”¨å¤šç§ä¸åŒçš„æ–¹æ³•æ¥ä½¿ç”¨çš„ï¼Œä¸‹é¢å°±æ˜¯ä¸€äº›æˆ‘å°†ä¼šç»§ç»­è¿½æ±‚çš„ä½¿ç”¨æ–¹å¼ï¼š</p><p>1.ä½œä¸ºä¸€ä¸ªæŒ‚è½½çš„å…¨å±€æ–‡ä»¶ç³»ç»Ÿï¼ŒæŒ‚è½½åœ¨/ipfså’Œ/ipnsä¸‹<br>2.ä½œä¸ºä¸€ä¸ªæŒ‚è½½çš„ä¸ªäººåŒæ­¥æ–‡ä»¶å¤¹ï¼Œè‡ªåŠ¨çš„è¿›è¡Œç‰ˆæœ¬ç®¡ç†ï¼Œå‘å¸ƒï¼Œä»¥åŠå¤‡ä»½ä»»ä½•çš„å†™å…¥<br>3.ä½œä¸ºä¸€ä¸ªåŠ å¯†çš„æ–‡ä»¶æˆ–è€…æ•°æ®å…±äº«ç³»ç»Ÿ<br>4.ä½œä¸ºæ‰€æœ‰è½¯ä»¶çš„ç‰ˆæœ¬åŒ…ç®¡ç†è€…<br>5.ä½œä¸ºè™šæ‹Ÿæœºå™¨çš„æ ¹æ–‡ä»¶ç³»ç»Ÿ<br>6.ä½œä¸ºVMçš„å¯åŠ¨æ–‡ä»¶ç³»ç»Ÿ (åœ¨ç®¡ç†ç¨‹åºä¸‹)<br>7.ä½œä¸ºä¸€ä¸ªæ•°æ®åº“ï¼šåº”ç”¨å¯ä»¥ç›´æ¥å°†æ•°æ®å†™å…¥Merkle DAGæ•°æ®æ¨¡å‹ä¸­ï¼Œè·å–æ‰€æœ‰çš„ç‰ˆæœ¬ï¼Œç¼“å†²ï¼Œä»¥åŠIPFSæä¾›çš„åˆ†é…<br>8.ä½œä¸ºä¸€ä¸ªlinkedï¼ˆå’ŒåŠ å¯†çš„ï¼‰é€šä¿¡å¹³å°<br>9.ä½œä¸ºä¸€ä¸ªä¸ºå¤§æ–‡ä»¶çš„å®Œæ•´æ€§æ£€æŸ¥CDNï¼ˆä¸ä½¿ç”¨SSLçš„æƒ…å†µä¸‹ï¼‰<br>10.ä½œä¸ºä¸€ä¸ªåŠ å¯†çš„CDN<br>11.åœ¨ç½‘é¡µä¸Šï¼Œä½œä¸ºä¸€ä¸ªweb CDN<br>12.ä½œä¸ºä¸€ä¸ªlinksæ°¸è¿œå­˜åœ¨æ–°çš„æ°¸æ’çš„Web<br>IPFSå®ç°çš„ç›®æ ‡ï¼š<br>(a)ä¸€ä¸ªIPFSåº“å¯ä»¥å¯¼å‡ºåˆ°ä½ è‡ªå·±åº”ç”¨ä¸­ä½¿ç”¨<br>(b)å‘½ä»¤è¡Œå·¥å…·å¯ä»¥ç›´æ¥æ“ä½œå¯¹è±¡<br>(c)ä½¿ç”¨FUSE[?]æˆ–è€…å†…æ ¸çš„æ¨¡å‹æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ</p><h3 id="4-æœªæ¥"><a href="#4-æœªæ¥" class="headerlink" title="4. æœªæ¥"></a>4. æœªæ¥</h3><p>   IPFSçš„æ€æƒ³æ˜¯å‡ åå¹´æˆåŠŸçš„åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ¢ç´¢å’Œå¼€æºçš„äº§ç‰©ã€‚IPFSç»¼åˆäº†å¾ˆå¤šè¿„ä»Šä¸ºæ­¢å¾ˆæˆåŠŸçš„ç³»ç»Ÿä¸­ä¼˜ç§€çš„æ€æƒ³ã€‚é™¤äº†BitSwapæ–°åè®®ä¹‹å¤–ï¼ŒIPFSæœ€å¤§çš„ç‰¹è‰²å°±æ˜¯ç³»ç»Ÿçš„è€¦åˆä»¥åŠè®¾è®¡çš„ç»¼åˆæ€§ã€‚<br>   IPFSæ˜¯å»ä¸­å¿ƒåŒ–ç½‘ç»œåŸºç¡€è®¾æ–½çš„ä¸€ä¸ªé‡å¿ƒè®¾æƒ³ï¼Œå¾ˆå¤šä¸åŒç±»å‹çš„åº”ç”¨éƒ½å¯ä»¥å»ºç«‹åœ¨IPFSä¸Šã€‚æœ€ä½é™åº¦ï¼Œå®ƒå¯ä»¥ç”¨æ¥ä½œä¸ºä¸€ä¸ªå…¨å±€çš„ï¼ŒæŒ‚è½½æ€§ï¼Œç‰ˆæœ¬æ§åˆ¶æ–‡ä»¶ç³»ç»Ÿå’Œå‘½åç©ºé—´ï¼Œæˆ–è€…ä½œä¸ºä¸‹ä¸€ä»£çš„æ–‡ä»¶å…±äº«ç³»ç»Ÿã€‚è€Œæœ€å¥½çš„æƒ…å†µæ˜¯ï¼ŒIPFSå¯ä»¥è®©Webå‡çº§ä¸€ä¸ªå±‚æ¬¡ï¼Œå½“å‘å¸ƒä¸€ä¸ªæœ‰ä»·å€¼çš„ä¿¡æ¯æ—¶ï¼Œä»»ä½•æ„Ÿå…´è¶£çš„äººéƒ½å¯ä»¥è¿›è¡Œå‘å¸ƒè€Œä¸ä¼šå¼ºè¿«æ€§çš„å¿…é¡»åªå…è®¸å‘å¸ƒæœºæ„è¿›è¡Œå‘å¸ƒï¼Œç”¨æˆ·å¯ä»¥ä¿¡ä»»ä¿¡æ¯çš„å†…å®¹ï¼Œä¿¡ä¸ä¿¡ä»»ä¿¡æ¯çš„å‘é€è€…éƒ½æ˜¯æ— å…³ç´§è¦çš„ï¼Œè¿˜æœ‰ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ï¼Œä¸€äº›é‡è¦ä½†å¾ˆè€çš„æ–‡ä»¶ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚IPFSæœŸå¾…ç€å¸¦æˆ‘ä»¬è¿›å…¥åˆ°ä¸€ä¸ªæ°¸æ’Wdbçš„ä¸–ç•Œã€‚</p><h3 id="5-æ„Ÿè°¢"><a href="#5-æ„Ÿè°¢" class="headerlink" title="5. æ„Ÿè°¢"></a>5. æ„Ÿè°¢</h3><p>   IPFSæ˜¯ä¸€ä¸ªå¾ˆå¤šå¾ˆæ£’çš„ä¸»æ„ä»¥åŠç³»ç»Ÿçš„ç»¼åˆä½“ã€‚æ²¡æœ‰ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šï¼ŒIPFSä¹Ÿä¸å¯èƒ½æ•¢äºæœ‰ä¸€ä¸ªè¿™ä¹ˆæœ‰é‡å¿ƒçš„ç›®æ ‡ã€‚ä¸ªäººæ„Ÿè°¢å‚ä¸è¿™äº›ä¸»æ„é•¿æœŸè®¨è®ºçš„äººï¼šDavid Dalrymple, Joe Zimmerman, and Ali Yahyaï¼Œç‰¹åˆ«æ˜¯ï¼šæ­å¼€Merkle DAGçš„æ€»ä½“æ¶æ„(David, Joe),æ»šåŠ¨å“ˆå¸Œé˜»å¡(David), s/kademlia sybill ä¿æŠ¤(David, Ali)ï¼Œç‰¹åˆ«æ„Ÿè°¢David Mazieres,ä¸ºä»–ä¹‹å‰éå¸¸èªæ˜çš„ä¸»æ„ã€‚<br>   6.å¼•ç”¨å¤‡å¿˜å½•<br>   7.å¼•ç”¨<br>   [1].I. Baumgart and S. Mies. S/kademlia:ä¸€ä¸ªå®‰å…¨çš„åŸºäºç§˜é’¥è·¯ç”±çš„å¯è¡Œæ–¹æ³•ã€‚2007å¹´å›½é™…ä¼šè®®ï¼Œç¬¬2å·ï¼Œ1-8é¡µï¼Œåœ¨ã€Šå¹¶å‘å’Œåˆ†å¸ƒå¼ç³»ç»Ÿã€‹ä¸­ã€‚IEEEï¼Œ2007å¹´ã€‚<br>   [2].I. BitTorrent.Bittorrentå’ŒAttorrentè½¯ä»¶è¶…è¿‡1äº¿5000ä¸‡ç”¨æˆ·é‡Œç¨‹ç¢‘ï¼ŒJanã€‚2012<br>   [3].B. Cohen.æ¿€åŠ±æœºåˆ¶åœ¨bittorrentä¸­å»ºç«‹äº†å¥å£®æ€§ã€‚åœ¨ã€Šå¯¹ç­‰ç³»ç»Ÿç»æµç ”è®¨ä¼šã€‹ä¸­ï¼Œç¬¬6å·ï¼Œ68-72é¡µï¼Œ2003å¹´ã€‚<br>   [4].J. Dean and S. Ghemawat. Leveldb - ä¸€ä¸ªå¿«é€Ÿå’Œè½»é‡çº§é”®å€¼å­˜å‚¨æ•°æ®åº“ï¼Œè°·æ­Œæä¾›ï¼Œ2011å¹´ã€‚<br>   [5].M. J. Freedman, E. Freudenthal, and D. Mazieres. Coralæ°‘ä¸»å†…å®¹å‘å¸ƒã€‚åœ¨NSDIä¸­ï¼Œç¬¬4å·ï¼Œ18-18é¡µï¼Œ2004å¹´ã€‚<br>   [6].J. H. Howard, M. L. Kazar, S. G. Menees, D. A,Nichols, M. Satyanarayanan, R. N. Sidebotham, ä»¥åŠM. J. West.åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿçš„è§„æ¨¡å’Œæ€§èƒ½ã€‚â€œACM ç”µè„‘ç³»ç»Ÿä¸Šçš„äº¤æ˜“ ï¼ˆTOCSï¼‰â€ 6(1):51-81, 1988å¹´</p>]]></content>
      
      
      <categories>
          
          <category> è½¬è½½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ–‡ç«  </tag>
            
            <tag> è½¬è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerå®¹å™¨é—´é€šä¿¡</title>
      <link href="/hypo-Z.github.io/2022/01/08/docker-rong-qi-jian-tong-xin/"/>
      <url>/hypo-Z.github.io/2022/01/08/docker-rong-qi-jian-tong-xin/</url>
      
        <content type="html"><![CDATA[<h1 id="Dockerå®¹å™¨é—´é€šä¿¡"><a href="#Dockerå®¹å™¨é—´é€šä¿¡" class="headerlink" title="Dockerå®¹å™¨é—´é€šä¿¡"></a>Dockerå®¹å™¨é—´é€šä¿¡</h1><p>Bridgeç½‘æ¡¥åŒå‘é€šä¿¡</p><p><strong>æµè§ˆå™¨&lt;==&gt;ç‰©ç†ç½‘å¡&lt;=ç½‘æ¡¥=&gt;Dockerç¯å¢ƒä¸‹çš„å®¹å™¨</strong></p><p>å°†æŒ‡å®šçš„å®¹å™¨éƒ½ç»‘å®šåˆ°åŒä¸€ä¸ªç½‘æ¡¥ä¸Šï¼Œè¿™äº›å®¹å™¨å°±ä¼šå¤©ç„¶çš„äº’è”äº’é€š</p><pre class="line-numbers language-none"><code class="language-none">docker run -d --name server appdocker run -d --name database mysqldocker network create -d bridge my-bridge #åˆ›å»ºä¸€ä¸ªæ–°çš„ç½‘æ¡¥[root@VM-0-2-centos ~]# docker network ls #åˆ—å‡ºdockeræœåŠ¡ç½‘ç»œåº•å±‚æ˜ç»†NETWORK ID          NAME                DRIVER              SCOPE0dfca8776e29        bridge              bridge              localdec8ce58f992        host                host                local522173622fe8        my-bridge           bridge              local36e1a4828e03        none                null                local<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åˆ›å»ºæ–°çš„ç½‘æ¡¥"><a href="#åˆ›å»ºæ–°çš„ç½‘æ¡¥" class="headerlink" title="åˆ›å»ºæ–°çš„ç½‘æ¡¥"></a>åˆ›å»ºæ–°çš„ç½‘æ¡¥</h2><pre class="line-numbers language-none"><code class="language-none">docker network create my-bridge<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å®¹å™¨å’Œç½‘æ¡¥ç»‘å®š"><a href="#å®¹å™¨å’Œç½‘æ¡¥ç»‘å®š" class="headerlink" title="å®¹å™¨å’Œç½‘æ¡¥ç»‘å®š"></a>å®¹å™¨å’Œç½‘æ¡¥ç»‘å®š</h2><pre class="line-numbers language-none"><code class="language-none">docker network connect my-bridge webdocker network connect my-bridge database<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="ç½‘æ¡¥å®ç°åŸç†"><a href="#ç½‘æ¡¥å®ç°åŸç†" class="headerlink" title="ç½‘æ¡¥å®ç°åŸç†"></a>ç½‘æ¡¥å®ç°åŸç†</h2><pre class="line-numbers language-none"><code class="language-none">å¤–ç½‘----&gt;ç‰©ç†ç½‘å¡ï¼ˆ192.168.0.117ï¼‰-----&gt;dockeré‡Œçš„è™šæ‹Ÿç½‘å¡ï¼ˆ172.17.0.1ï¼‰|-----&gt;redis(172.17.0.2:6375)  |----&gt;server(172.17.0.3:8080)  <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://hypo-pictrue-1308430808.cos.ap-shanghai.myqcloud.com/hypo.ltd-%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE%E5%AD%98%E5%82%A8/%E7%BD%91%E6%A1%A5.png"></p><h2 id="å®¹å™¨å’Œç½‘æ¡¥è§£é™¤ç»‘å®š"><a href="#å®¹å™¨å’Œç½‘æ¡¥è§£é™¤ç»‘å®š" class="headerlink" title="å®¹å™¨å’Œç½‘æ¡¥è§£é™¤ç»‘å®š"></a>å®¹å™¨å’Œç½‘æ¡¥è§£é™¤ç»‘å®š</h2><pre class="line-numbers language-none"><code class="language-none">docker network disconnect my-bridge serverdocker network disconnect my-bridge database<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å›¢é˜Ÿåä½œä¸­çš„Githubflowå·¥ä½œæµç¨‹</title>
      <link href="/hypo-Z.github.io/2022/01/07/29-tuan-dui-xie-zuo-zhong-de-githubflow-gong-zuo-liu-cheng/"/>
      <url>/hypo-Z.github.io/2022/01/07/29-tuan-dui-xie-zuo-zhong-de-githubflow-gong-zuo-liu-cheng/</url>
      
        <content type="html"><![CDATA[<h1 id="å›¢é˜Ÿåä½œä¸­çš„Github-flow-å·¥ä½œæµç¨‹"><a href="#å›¢é˜Ÿåä½œä¸­çš„Github-flow-å·¥ä½œæµç¨‹" class="headerlink" title="å›¢é˜Ÿåä½œä¸­çš„Github flow å·¥ä½œæµç¨‹"></a>å›¢é˜Ÿåä½œä¸­çš„Github flow å·¥ä½œæµç¨‹</h1><p>ä½œè€…ï¼šçŸ¥ä¹@<a href="https://www.zhihu.com/people/hui-xiao-48">å›æ™“</a></p><p>æ–‡ç« å¼•è‡ªï¼š<a href="https://zhuanlan.zhihu.com/p/39148914">https://zhuanlan.zhihu.com/p/39148914</a></p><p>æœ‰åˆ å‡</p><p>ä½œä¸ºä¸€åå¼€å‘äººå‘˜ Git å¸¸ç”¨å‘½ä»¤æ¯å¤©éƒ½åœ¨ä½¿ç”¨ï¼Œå¤§å®¶è‚¯å®šä¿¡æ‰‹æ‹ˆæ¥ï¼Œä½†æ˜¯åœ¨å›¢é˜Ÿåä½œä¸­ Git çš„ä½¿ç”¨å§¿åŠ¿å’Œä¸ªäººå¼€å‘è¿˜æ˜¯æœ‰å¾ˆå¤šä¸ä¸€æ ·çš„åœ°æ–¹ï¼Œå¯¹äºæŠ€æœ¯å›¢é˜Ÿï¼ŒæœŸæœ›å¤§å®¶ä½¿ç”¨è§„èŒƒçš„ Git æ“ä½œæµç¨‹ï¼Œè§„èŒƒçš„ Commit Messageï¼Œè§„èŒƒçš„ä»£ç é£æ ¼ã€‚è¿™æ ·æ‰èƒ½æé«˜å›¢é˜Ÿå¼€å‘ç›¸ç‡å’Œé¡¹ç›®çš„å¯ç»´æŠ¤æ€§ã€‚</p><p>åœ¨æœ¬åœ°ä»“åº“ä¸­æœ‰ä¸¤ä¸ªå›ºå®šçš„åˆ†æ”¯ï¼Œåˆ†åˆ«æ˜¯masterå’Œdevelop</p><pre class="line-numbers language-none"><code class="language-none">git clone to local<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">git remote -v<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ­¤æ—¶å¯ä»¥åœ¨æ§åˆ¶å°è¾“å…¥ <code>git remote -v</code> å‘½ä»¤æŸ¥çœ‹å½“å‰è¿œç«¯ä»“åº“çš„åœ°å€ï¼š</p><pre class="line-numbers language-none"><code class="language-none">origin git@local.git(fetch)origin  git@local.git(push)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªåå­—ä¸º upstream çš„ä¸Šæ¸¸åœ°å€ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬é¡¹ç›®ä¸»ä»“åº“çš„åœ°å€<br>åœ¨å‘½ä»¤è¡Œæ‰§è¡Œï¼š</p><pre class="line-numbers language-none"><code class="language-none">git remote add upstream upstream git@upstream.git<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ·»åŠ ä¸€ä¸ªåˆ«åä¸ºupstream(ä¸Šæ¸¸)çš„åœ°å€ï¼ŒæŒ‡å‘ä¹‹å‰ fork çš„åŸé¡¹ç›®ä»“åº“åœ°å€ã€‚<br>å†æ¬¡æ‰§è¡Œ <code>git remote -v</code> æ§åˆ¶å°è¾“å‡ºå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">origin git@local.git(fetch)origin  git@local.git(push)upstream upstream git@upstream.git(fetch)upstream upstream git@upstream.git(push)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è®¾ç½®ä¸Šæ¸¸åœ°å€çš„ç›®çš„æ˜¯å½“æˆ‘ä»¬é€šè¿‡ pull request çš„å½¢å¼æåˆ°ä¸»ä»“åº“ä¹‹åï¼Œæœ¬åœ°ä»“åº“éœ€è¦åŒæ­¥ä¸»ä»“åº“çš„ä»£ç ï¼Œå¹¶åŠæ—¶æ›´æ–°åˆ° originï¼ˆè¿œç«¯ï¼‰ä»“åº“ï¼Œä¿è¯è‡ªå·±æ‰˜ç®¡ç©ºé—´ä¸‹æœ¬åœ°å’Œè¿œç«¯ä»“åº“çš„ä»£ç éƒ½æ˜¯æœ€æ–°çš„ã€‚</p><p>ä¹‹åè¿è¡Œä¸‹é¢å‡ æ¡å‘½ä»¤ï¼Œå°±å¯ä»¥ä¿æŒæœ¬åœ°ä»“åº“ä¸ä¸Šæ¸¸ï¼ˆupstreamï¼‰ä»“åº“åŒæ­¥äº†</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">git fetch upstreamgit checkout mastergit merge upstream/master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¥ä¸‹æ¥å°±æ˜¯æœ¬åœ°ä»“åº“æ¨é€åˆ°è¿œç«¯ï¼ˆoriginï¼‰ä»“åº“ï¼š</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">git push origin master<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥åœ¨æœ¬åœ°è¿›è¡Œå¼€å‘äº†ï¼Œé€šå¸¸æˆ‘ä»¬è§„å®šï¼š</p><ul><li>å¼€å‘æ–°åŠŸèƒ½è¦ä» develop åˆ†æ”¯ä¸Šæ–°å»ºä¸€ä¸ª feat/[name-desc] ä¸´æ—¶åˆ†æ”¯</li><li>bug ä¿®å¤ ä» master åˆ†æ”¯æ–°å»ºä¸€ä¸ª hotfix/[name-desc] ä¸´æ—¶åˆ†æ”¯</li></ul><p>å¦‚æœæ²¡æœ‰è¾“å‡ºä»»ä½•æäº¤ä¿¡æ¯çš„è¯ï¼Œå³è¡¨ç¤º feat/feedback åˆ†æ”¯ ç›¸å¯¹äº develop åˆ†æ”¯ æ˜¯ æœ€æ–°ï¼ˆup-to-dateï¼‰çš„ã€‚å¦‚æœæœ‰è¾“å‡ºçš„è¯å»æ‰§è¡Œ <code>git merge --ff-only</code> ï¼Œæäº¤è·¯çº¿å›¾å°±ä¼šåˆ†å‰ï¼Œä¸ºäº†å¾—åˆ°ä¸€ä¸ªå¹²å‡€æ¸…çˆ½çš„æäº¤è·¯çº¿å›¾ï¼Œåˆå¹¶å‰æœ€å¥½å…ˆæ‰§è¡Œï¼š</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">git checkout feat/feedbackgit rebase develop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿™ä¼šå°†æ•´ä¸ªå·¥ä½œåˆ†æ”¯ç§»åˆ° develop åˆ†æ”¯çš„å‰é¢ï¼ˆHEADï¼‰ï¼Œå¯ä»¥ä½¿ feat/feedback åˆ†æ”¯ä¸ä¸Šæ¸¸ï¼ˆupstreamï¼‰ develop åˆ†æ”¯åŒæ­¥ï¼Œæœ€åæˆ‘ä»¬å°†ä»£ç æ¨é€åˆ°è¿œç«¯ï¼ˆoriginï¼‰åˆ†æ”¯ã€‚</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">git push origin feat/feedback<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™æ · pull request é€šè¿‡ä¹‹åï¼Œfeat/feedback åˆ†æ”¯çš„ä»£ç æ‰§è¡Œåˆå¹¶æ“ä½œä¹‹åï¼Œcommit å†å²æ‹¼æ¥åˆ°æ›´æ–°åˆ°æœ€æ–°çš„develop åˆ†æ”¯ä¹‹åï¼Œæœ€ç»ˆå¾—åˆ°ä¸€ä¸ªå¹²å‡€èˆ’æœçš„æäº¤çº¿å›¾ã€‚</p><h2 id="æäº¤-pull-request"><a href="#æäº¤-pull-request" class="headerlink" title="æäº¤ pull request"></a><strong>æäº¤ pull request</strong></h2><p>ä»è‡ªå·±è¿œç«¯ï¼ˆoriginï¼‰ä»“åº“çš„ feat/feedback åˆ†æ”¯æƒ³è¦æäº¤åˆ°ä¸Šæ¸¸ï¼ˆupstreamï¼‰ä¸»ä»“åº“çš„ develop åˆ†æ”¯ï¼Œéœ€è¦å»åœ¨ä¸»ä»“åº“ä¸ŠOpen a pull request ï¼š</p><p>åœ¨ç‚¹å‡»Merge pull request çš„æ—¶å€™ï¼Œæˆ‘ä»¬çœ‹åˆ°æœ‰ä¸‰ä¸ªé€‰é¡¹ï¼Œç®€å•ä»‹ç»ä¸€ä¸‹ä½¿ç”¨åœºæ™¯ï¼š</p><h2 id="Create-a-merge-commit"><a href="#Create-a-merge-commit" class="headerlink" title="Create a merge commit"></a><strong>Create a merge commit</strong></h2><p>å½“ç‚¹å‡»çš„æ˜¯ Create a merge commit æ—¶ï¼Œfeature åˆ†æ”¯ä¸Šæ‰€æœ‰çš„ commit éƒ½ä¼šè¢«åŠ åˆ°develop åˆ†æ”¯åé¢ï¼Œå¹¶ä¸”ä¼šç”Ÿæˆä¸€ä¸ª merge commit æ–°èŠ‚ç‚¹ã€‚è¿™ä¸ª pull request çš„åˆå¹¶ä½¿ç”¨çš„å°±æ˜¯ <code>git merge --ff-only</code>æ“ä½œï¼Œ<code>--ff-only</code>è§£é‡Šä¸ºä»…ä½¿ç”¨â€“fast forward(å¿«è¿›)ï¼Œå°½å¯èƒ½å°†åˆå¹¶è§£æä¸ºå¿«è¿›ï¼›ä¸å¯èƒ½æ—¶ï¼Œæ‹’ç»åˆå¹¶å¹¶ä»¥éé›¶çŠ¶æ€é€€å‡ºã€‚ä½¿ç”¨è¯¥æ“ä½œåˆå¹¶ä¹‹åçš„commit è·¯çº¿å›¾çœ‹åˆ°ï¼Œä½¿ç”¨ <code>git merge --ff-only</code> æ²¡æœ‰æäº¤çº¿è·¯åˆ†å‰çš„æ•ˆæœã€‚</p><h2 id="Squash-and-merge"><a href="#Squash-and-merge" class="headerlink" title="Squash and merge"></a><strong>Squash and merge</strong></h2><p>å½“é€‰æ‹© Squash and merge é€‰é¡¹æ—¶ï¼Œå®é™…çš„git æ“ä½œä¸º <code>git merge --squash</code> ã€‚è¿™ä¸ªå‘½ä»¤ä¼šä½¿ è¯¥pull request ä¸Šçš„æ‰€æœ‰ commit éƒ½ä¼šåˆå¹¶æˆä¸€ä¸ª commit æ”¾åœ¨ develop åˆ†æ”¯ä¸Šï¼ŒåŸæ¥çš„ commit å†å²å¹¶ä¸ä¼šå¸¦è¿‡æ¥ã€‚</p><p>åˆ¤æ–­æ˜¯å¦è¦ç”¨ squash and merge çš„æ ‡å‡†æ˜¯å¾…åˆå¹¶çš„åˆ†æ”¯çš„å†å²æ˜¯å¦æœ‰æ„ä¹‰ï¼Œå¦‚æœåœ¨å¼€å‘åˆ†æ”¯ä¸Šæäº¤çš„éå¸¸éšæ„ï¼Œå¹¶æ²¡æœ‰åšä¸€ä¸ªå¾ˆå¥½çš„è§„èŒƒæ€§æäº¤ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ squash and merge é€‰é¡¹ã€‚ä½†æ˜¯å¯¹äºå¤§å‹é¡¹ç›®çš„å¤šäººå¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¿è¯æ¯ä¸ª commit å¿…é¡»æœ‰æ„ä¹‰æ˜¯å¼€å‘äººå‘˜çš„åŸºæœ¬ç´ å…»åŠè¦æ±‚ï¼Œå› æ­¤ä¸å»ºè®®åœ¨å›¢é˜Ÿå¼€å‘ä¸­ä½¿ç”¨ squash and merge é€‰é¡¹ã€‚</p><h2 id="Rebase-and-merge"><a href="#Rebase-and-merge" class="headerlink" title="Rebase and merge"></a><strong>Rebase and merge</strong></h2><p>å½“é€‰æ‹© rebase and merge æ—¶ï¼Œå®é™…ä¸Šåšçš„æ“ä½œæ˜¯<code>git rebase</code>ã€‚ä½¿ç”¨ git rebase ä¼šå°† pull request ä¸Šçš„æ‰€æœ‰æäº¤å†å²æŒ‰ç…§åŸæœ‰é¡ºåºä¾æ¬¡æ‹¼æ¥åˆ° develop åˆ†æ”¯çš„å¤´éƒ¨ï¼ˆHEADï¼‰ï¼Œçœ‹èµ·æ¥åƒæ˜¯åœ¨ develop åˆ†æ”¯åšäº†è¿™äº›æäº¤ï¼Œä½†æ˜¯æ¯ä¸ª commit çš„SHA1å€¼ä¼šå‘ç”Ÿæ”¹å˜ï¼Œå› æ­¤åˆå¹¶åˆ°develop åˆ†æ”¯çš„æäº¤çš„SHA1 å€¼ä¼šæ›´æ–°ã€‚</p><p>ä½¿ç”¨ rebase and merge ä¹‹åï¼Œdevelop åˆ†æ”¯çš„ commit è·¯çº¿å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://pic2.zhimg.com/80/v2-d27e4e2e19930721d0178255ddf1257d_720w.jpg" alt="img"></p><p>ä¸Šé¢ä¸¤å›¾å¯ä»¥æ˜æ˜¾çœ‹å‡º commit çš„SHA1 å‘ç”Ÿäº†å˜åŒ–ï¼Œå› æ­¤åœ¨ä½¿ç”¨ git rebase çš„æ—¶å€™åƒä¸‡è¦æ³¨æ„ï¼šä¸è¦å¯¹é™¤äº†ä½ ä»¥å¤–çš„å…¬å…±ä»“åº“åˆ†æ”¯æ‰§è¡Œgit rebaseï¼Œgit rebase çš„å®è´¨æ”¾å¼ƒç°æœ‰çš„æäº¤è€Œå»æ–°å»ºå†…å®¹ä¸€æ ·çš„æäº¤ï¼Œå®é™…ä¸Šæ˜¯ä¸åŒçš„æäº¤ã€‚</p><p>å½“ç„¶ä½¿ç”¨ git rebase ä¼šæœ‰ä¸€å®šé£é™©ï¼Œåœ¨ä¸å®Œå…¨ç†Ÿæ‚‰ Git å·¥ä½œæµæ—¶ï¼Œä¸å»ºè®®å»åšè¯¥æ“ä½œã€‚æ¯”å¦‚åœ¨ç»“å¯¹ç¼–ç¨‹çš„è¿‡ç¨‹ä¸­ä½ å°†ä½ çš„æäº¤æ¨é€åˆ°äº†ä½ è¿œç«¯ä»“åº“çš„ feature åˆ†æ”¯ï¼Œå¹¶ä¸”ä½ çš„ä¼™ä¼´ä»è¯¥åˆ†æ”¯æ‹‰å»ä»£ç è¿›è¡Œåç»­å¼€å‘ï¼Œå¦‚æœæ­¤æ—¶ä½ ç”¨ git rebase å‘½ä»¤é‡æ–°æäº¤å¹¶å†æ¬¡ pullï¼Œé‚£ä¹ˆä½ çš„å°ä¼™ä¼´è¦åœ¨ä»–æäº¤ä»£ç ä¹‹å‰å°†ä½ çš„æäº¤è¿›è¡Œæ•´åˆï¼Œå¹¶ä¸”ä½ è¿˜è¦æ‹‰å–ä»–æäº¤çš„æ•´åˆè¿‡çš„ä»£ç ï¼Œæ•´ä¸ªè¿‡ç¨‹å°±å¾ˆæ··ä¹±ã€‚</p><p>git rebase éƒ½è¯´æ˜¯å±é™©çš„ï¼Œä½†æ˜¯åªåœ¨ä»æœªæ¨é€è‡³å…±ç”¨ä»“åº“çš„æäº¤ä¸Šæ‰§è¡Œå˜åŸºå‘½ä»¤ï¼Œå°±ä¸ä¼šæœ‰äº‹ã€‚å› æ­¤æˆ‘ä»¬é‡‡ç”¨ fork åˆ°è‡ªå·±ä»“åº“çš„æ–¹å¼å»åš pull request æ“ä½œï¼Œå¹¶æ²¡æœ‰åœ¨ä¸»ä»“åº“è¿›è¡Œæ“ä½œï¼Œåœ¨è¿™é‡Œï¼Œgit rebase æ˜¯å®‰å…¨çš„ã€‚</p><p>æœ€åæ€»ç»“ä¸€ä¸‹ git rebase è¦éµå®ˆçš„æ³•åˆ™æ˜¯ï¼šåªå¯¹å°šæœªæ¨é€æˆ–åˆ†äº«ç»™åˆ«äººçš„æœ¬åœ°ä¿®æ”¹æ‰§è¡Œ git rebase æ“ä½œæ¸…ç†å†å²ï¼Œè€Œä¸å¯¹å·²æ¨é€è‡³åˆ«å¤„çš„æäº¤æ‰§è¡Œ git rebase æ“ä½œã€‚æ¯”å¦‚åœ¨ push æ‰€æœ‰ä»£ç å¹¶å‘èµ·åˆå¹¶è¯·æ±‚ä¹‹å‰å»ä½¿ç”¨ï¼Œä¿è¯æœ¬åœ°è¿›è¡Œçš„æäº¤å¼•ç”¨äºæ‰€æœ‰å†å²æäº¤çš„æœ€é¡¶ç«¯ï¼Œè¿™ç§éœ€æ±‚éå¸¸é€‚åˆç”¨ git rebaseã€‚ä½†æ˜¯ä¸è¦å¯¹è‡ªå·±ä»“åº“ä»¥å¤–çš„å‰¯æœ¬åˆ†æ”¯æ‰§è¡Œ git rebaseã€‚</p><p>ä¸Šé¢ä»‹ç»äº† pull request merge çš„ä¸‰ç§æ–¹å¼ã€‚å¯¹äºå›¢é˜Ÿåˆä½œçš„é¡¹ç›®ä¸­ï¼Œä¸ªäººæ¯”è¾ƒæ¨èä½¿ç”¨Create a merge commit æ–¹å¼ï¼Œèƒ½å¤Ÿæ¸…æ¥šçš„ä¿ç•™æ¯ä¸ªäººæäº¤çš„ä¸Šä¸‹æ–‡ï¼Œèƒ½å¤Ÿè®°å½•å®é™…å‘ç”Ÿè¿‡ä»€ä¹ˆï¼Œå¹¶ä¿ç•™ä¸‹æ¥ï¼Œä¾›ä»¥åæœ‰éœ€æ±‚çš„æŸ¥é˜…ã€‚</p><h2 id="åˆ é™¤-feature-åˆ†æ”¯"><a href="#åˆ é™¤-feature-åˆ†æ”¯" class="headerlink" title="åˆ é™¤ feature åˆ†æ”¯"></a><strong>åˆ é™¤ feature åˆ†æ”¯</strong></h2><p>ä½¿ç”¨ pull request merge ä¹‹åï¼Œå¯¹äºå·²ç»åˆåˆ° upstream/develop çš„è¿œç«¯ feature åˆ†æ”¯ï¼Œå¯ä»¥å°†å…¶è¿›è¡Œåˆ é™¤äº†ï¼š</p><p>æœ¬åœ°åˆ†æ”¯åˆ é™¤ï¼š</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">git branch -D feat/feedback<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿œç«¯åˆ†æ”¯åˆ é™¤ï¼š</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">git push origin :feat/feedback<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™é‡Œä½¿ç”¨ <code>git push [è¿œç¨‹å] :[åˆ†æ”¯å]</code> çš„è¯­æ³•å»åšåˆ é™¤ï¼Œè¿™æ˜¯ä» <code>git push [è¿œç¨‹å] [æœ¬åœ°åˆ†æ”¯]:[è¿œç¨‹åˆ†æ”¯]</code> è€Œæ¥çš„ï¼Œè¿™é‡Œçœç•¥æ‰æœ¬åœ°åˆ†æ”¯ï¼Œç›¸å½“äºå°†ç©ºç™½æ¨é€åˆ°è¦ feature åˆ†æ”¯ï¼Œä»è€Œå®ç°åˆ é™¤è¯¥åˆ†æ”¯ã€‚</p><h2 id="åˆ†æ”¯åŒæ­¥"><a href="#åˆ†æ”¯åŒæ­¥" class="headerlink" title="åˆ†æ”¯åŒæ­¥"></a><strong>åˆ†æ”¯åŒæ­¥</strong></h2><p>ä¸€æ®µæ—¶é—´å†…ï¼Œæœ‰å¤šä¸ªå°ä¼™ä¼´é€šè¿‡ pull request merge çš„æ–¹å¼å°†ä»£ç åˆå¹¶åˆ° upstream ä¸Šæ¸¸ develop åˆ†æ”¯äº†ï¼Œæ­¤æ—¶æˆ‘ä»¬è¦å°† upstream ä¸Šæ¸¸ develop åˆ†æ”¯çš„ä»£ç åŒæ­¥åˆ°æœ¬åœ°å’Œè¿œç«¯ï¼Œä»¥ä¿è¯è‡ªå·±ä»“åº“ä¸‹çš„ä»£ç æ˜¯æœ€æ–°çš„ã€‚</p><p>æ­¤æ—¶å…ˆè¦å°† upstream ä¸Šæ¸¸çš„æ”¹åŠ¨åŒæ­¥åˆ°æœ¬åœ°ï¼Œå† push åˆ°è¿œç«¯ origin åˆ†æ”¯ï¼š</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">git checkout developgit pull upstream developgit push origin develop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="æ–°å»ºbugfix-åˆ†æ”¯"><a href="#æ–°å»ºbugfix-åˆ†æ”¯" class="headerlink" title="æ–°å»ºbugfix åˆ†æ”¯"></a><strong>æ–°å»ºbugfix åˆ†æ”¯</strong></h2><p>å¯¹äºä¿®å¤ç´§æ€¥ bug çš„æ—¶å€™ï¼Œæ­¤æ—¶è¦åŸºäº master åˆ†æ”¯æ–°å»º bugfix åˆ†æ”¯ï¼Œæ¥å®ç°å¿«é€Ÿä¿®å¤ï¼š</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">git checkout mastergit pull upstream mastergit checkout -b hotfix/fixbug master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä¿®æ”¹å®Œ bugï¼Œ pushä¹‹åï¼Œå…ˆæäº¤ pull request è‡³ upstream/masterï¼Œ è‡ªåŠ¨åŒ–æµ‹è¯•å’Œ code review é€šè¿‡ååˆå¹¶åˆ° upstream/master åˆ†æ”¯ï¼Œå°†ä»£ç éƒ¨ç½²åˆ°ç”Ÿäº§ä¿®å¤è¯¥ bugã€‚æ­¤æ—¶å†ä» hotfix/fixbug åˆ†æ”¯å‘ upstream/develop åˆ†æ”¯å‘é€ pull request å†åˆåˆ° develop åˆ†æ”¯ï¼Œæœ€ååˆ é™¤æœ¬åœ°å’Œè¿œç¨‹çš„ hotfix/fixbug åˆ†æ”¯ã€‚ä¸‹æ¬¡è¿›è¡Œå¼€å‘åŠŸèƒ½æ—¶å†æ¬¡å°†ä¸Šæ¸¸ä»£ç åŒæ­¥åˆ°æœ¬åœ°å’Œ origin è¿œç¨‹ã€‚</p><h2 id="å‡ºç°å†²çªçš„æƒ…å†µ"><a href="#å‡ºç°å†²çªçš„æƒ…å†µ" class="headerlink" title="å‡ºç°å†²çªçš„æƒ…å†µ"></a><strong>å‡ºç°å†²çªçš„æƒ…å†µ</strong></h2><p>å¦‚æœä¸¤ä¸ª pull request çš„æ“ä½œä¿®æ”¹åŒä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”éƒ½æ˜¯ä»åŒä¸€ä¸ªåˆ†æ”¯æ‹‰å‡ºçš„æ–°çš„ feature åˆ†æ”¯ã€‚å…¶ä¸­ä¸€ä¸ªpull requestå…ˆè¢«åˆåˆ°äº†develop åˆ†æ”¯ï¼Œå¦ä¸€ä¸ª pull request åˆå¹¶çš„æ—¶å€™ä¼šå‡ºç°å†²çªã€‚</p><p><img src="https://pic3.zhimg.com/80/v2-8602d2b3e98efa175de164a0f63addb2_720w.jpg" alt="img"></p><p>å‡è®¾æœ¬åœ°æœ‰å†²çªçš„åˆ†æ”¯ä¸º feat/deleteï¼Œå·²ç»åˆåˆ° upstream/develop åˆ†æ”¯ä¸º feat/updateï¼Œ<br>åœ¨ feat/delete åˆ†æ”¯ä¸Šè¿›è¡Œè§£å†³å†²çªæ“ä½œï¼š</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">git pull upstream develop --rebase<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://pic3.zhimg.com/80/v2-16f5d0a604f5d6a925e426265ce1e2e2_720w.jpg" alt="img"></p><p>å¯ä»¥æ ¹æ®æ§åˆ¶å°è¾“å‡ºçš„æç¤ºç»§ç»­æ“ä½œ</p><p>å…ˆæ‰‹åŠ¨ä¿®æ”¹å®Œä»£ç ï¼Œè§£å†³å†²çªä¿å­˜ä¹‹åæ‰§è¡Œï¼š</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">git add .git rebase --continuegit push origin feat/delete -f<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æœ€å feat/delete çš„æ”¹åŠ¨å‡ºç°åœ¨äº† feat/update çš„æ—¶é—´çº¿åé¢ï¼Œå¯ä»¥æ­£å¸¸ pull request merge äº†ï¼Œä¸‹å›¾æ˜¯ merge ä¹‹åçš„ commit è·¯çº¿å›¾ï¼š</p><p><img src="https://pic3.zhimg.com/80/v2-30f4aed547b61418d4c80a752c9a089a_720w.jpg" alt="img"></p><h2 id="é’ˆå¯¹ç¼–ç¨‹çš„æƒ…å†µ"><a href="#é’ˆå¯¹ç¼–ç¨‹çš„æƒ…å†µ" class="headerlink" title="é’ˆå¯¹ç¼–ç¨‹çš„æƒ…å†µ"></a><strong>é’ˆå¯¹ç¼–ç¨‹çš„æƒ…å†µ</strong></h2><p><strong>ä¸»åŠ¨æƒ…å†µ</strong></p><p>ç”²ä» develop æ–°èµ·ä¸€ä¸ªåˆ†æ”¯ä¸º feat/jiaï¼Œ ç”²ã€ä¹™åšçš„åŠŸèƒ½æœ‰é€šç”¨çš„åœ°æ–¹ï¼Œæ­¤æ—¶ç”²ã€ä¹™çš„ä»£ç éƒ½ä¸èƒ½åŒæ—¶æäº¤ pull requestï¼Œå› ä¸ºåŠŸèƒ½ç¼ºä¹ï¼Œå‘åˆ°çº¿ä¸Šå¯èƒ½ä¼šæŒ‚æ‰ã€‚å› æ­¤æ­¤æ—¶éœ€è¦ç»“å¯¹ç¼–ç¨‹ï¼Œç”²å¼€å‘å®Œå…¬å…±çš„éƒ¨åˆ†ï¼Œæ¨åˆ°ä»–çš„è¿œç«¯ä»“åº“ï¼Œæ­¤æ—¶å…ˆä¸è¦æäº¤ pull requestã€‚ä¹™æ¥æ‹‰å–ç”²çš„ä»£ç ç»§ç»­è¿›è¡Œå¼€å‘ï¼Œå¾…ä¹™å¼€å‘å®Œï¼Œæäº¤ pull request åˆ° upstream ä¸Šæ¸¸ä»“åº“ï¼Œä¸¾ä¾‹å¦‚ä¸‹ï¼š</p><p>ä¾‹å¦‚ç”²fork åˆ°è‡ªå·±æ‰˜ç®¡ç©ºé—´çš„è¿œç«¯ä»“åº“ä¸ºï¼š</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">git@github.com:jia/github-flow.git<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ­¤æ—¶ç”²å°†ä»–çš„ä»£ç æ¨é€åˆ° ä»–çš„origin è¿œç«¯ feat/jia åˆ†æ”¯ï¼Œç„¶åç”²å‘Šè¯‰ä¹™ï¼Œä½ å¯ä»¥ç»§ç»­è¿›è¡Œå¼€å‘äº†ï¼Œ</p><p>æ­¤æ—¶ä¹™æœ¬åœ°å‡†å¤‡å¼€å‘çš„åˆ†æ”¯ä¸º feat/yiï¼Œåœ¨è¯¥åˆ†æ”¯ä¸Šè¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">git remote add pair git@github.com:jia/github-flow.gitgit pull pair feat/jia --rebase<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä¸Šé¢å‘½ä»¤çš„æ„æ€æ˜¯æ–°å»ºä¸€ä¸ªåå­—å« pair çš„è¿œç¨‹ä»“åº“ï¼Œåœ°å€ä¸ºç”²çš„ä»“åº“åœ°å€ã€‚ ç„¶åæ‹‰å»è¯¥ä»“åº“ä¸‹çš„ feat/jia åˆ†æ”¯åŒæ­¥åˆ°å½“å‰åˆ†æ”¯ã€‚</p><p>ä¹™åœ¨è¯¥åˆ†æ”¯ä¸Šä¿®æ”¹å®Œä»£ç æäº¤åï¼Œæ pull request åˆ°ç”²ä»“åº“çš„ feat/jia åˆ†æ”¯ï¼Œè‹¥æ²¡æœ‰é—®é¢˜ï¼Œä½¿ç”¨ rebase and merge åˆè¿›å»ã€‚code review é€šè¿‡åï¼Œç”±ç”²å†æ¬¡æäº¤ pull request åˆ°ä¸Šæ¸¸ä»“åº“ develop åˆ†æ”¯ï¼Œåˆå¹¶åˆ°ä¸Šæ¸¸ develop åˆ†æ”¯ã€‚æ­¤æ—¶ç”²ä¹™çš„ feat/jiaã€feat/yi åŠŸèƒ½åˆ†æ”¯éƒ½å¯ä»¥åˆ æ‰äº†ã€‚</p><p><strong>è¢«åŠ¨æƒ…å†µ</strong></p><p>å¦‚æœç”²æäº¤ pull request ä¹‹åï¼Œåœ¨ code review æ—¶å‘ç°é—®é¢˜ï¼Œä½†æ˜¯è‡ªå·±åˆä¸èƒ½é©¬ä¸Šä¿®æ‰ï¼Œå¯èƒ½éœ€è¦ä»–äººå¸®å¿™ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œä¹™å‡ºç°æ¥æ•‘ç«ï¼Œé¦–å…ˆä¹™å…ˆä» develop æ‹‰å‡ºä¸ª feature åˆ†æ”¯ï¼Œpull ç”²çš„ feature åˆ†æ”¯ï¼Œä¾‹å¦‚ï¼š</p><pre class="line-numbers language-abap" data-language="abap"><code class="language-abap">git <span class="token keyword">remote</span> <span class="token keyword">add</span> pair  git@github<span class="token punctuation">.</span>com<span class="token punctuation">:</span>jia/github<span class="token token-operator punctuation">-</span>flow<span class="token punctuation">.</span>gitgit pull pair feat/jia --rebase<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä¹™ä¿®æ”¹å®Œä»£ç åï¼Œå°†æ”¹åŠ¨çš„ä¹‹åçš„å†…å®¹æ pull request åˆ°ç”²æœ‰é—®é¢˜çš„å½“å‰ feature åˆ†æ”¯ã€‚ç”²éœ€è¦ rebase and merge åˆæ‰ä¹™å‘ç”²åˆ†æ”¯æäº¤çš„ pull requestã€‚å†æŒ‰ç…§æ ‡å‡†æµç¨‹å°†æœ€åçš„æ²¡æœ‰é—®é¢˜çš„ pull request åˆåˆ°developã€‚</p><h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a><strong>è¡¥å……</strong></h2><p>å¼€å‘ä¸­éœ€è¦çš„æ³¨æ„äº‹é¡¹ä»¥åŠå»ºè®®ï¼š</p><ol><li>è§„èŒƒåŒ–Commit Messageï¼š</li></ol><p>ä¸ºäº†ä¿è¯æ¯ä¸ªcommit æ˜¯å¿…é¡»æœ‰æ„ä¹‰çš„çš„åŒæ—¶ï¼Œå¼€å‘äººå‘˜çš„commit æ ¼å¼è¦ç»Ÿä¸€ï¼Œä¾¿äºé˜…è¯»ã€‚<br>å¯¹äºcommit çš„è§„èŒƒæ¨èä½¿ç”¨ <a href="https://link.zhihu.com/?target=https://github.com/commitizen/cz-cli">cz-cli</a>ï¼Œ å…¶å®‰è£…æ­¥éª¤å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go">npm install commitizen <span class="token operator">-</span>g<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨é¡¹ç›®ä¸­ å‘½ä»¤è¡Œè¿è¡Œï¼š</p><pre class="line-numbers language-text" data-language="text"><code class="language-text">commitizen init cz-conventional-changelog --save-dev --save-exact<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¯æ¬¡ commit æ‰§è¡Œ å‘½ä»¤ <code>git cz</code></p><p><img src="https://pic1.zhimg.com/80/v2-c5c85c1727f8e0696eace2374f1808d4_720w.jpg" alt="img"></p><p>\2. å¯¹äºä¸Šæ¸¸ä»“åº“ï¼Œè¦ä¿æŠ¤develop å’Œ master åˆ†æ”¯ï¼Œä¸å…è®¸å›¢é˜Ÿæˆå‘˜éšæ„ï¼ˆç›´æ¥ï¼‰æ¨é€ä»£ç åˆ° develop æˆ– master åˆ†æ”¯ã€‚<br>\3. è®¾ç½® develop åˆ†æ”¯ä¸º default åˆ†æ”¯ï¼Œä¾¿äºæäº¤ pull request æ—¶ base åˆ†æ”¯è‡ªåŠ¨é»˜è®¤ä¸º developåˆ†æ”¯ã€‚<br>\4. Github flow å¼€å‘æµç¨‹ä¸­ï¼Œå¯ä»¥é…ç½® webhook å»è‡ªåŠ¨è§¦å‘æµ‹è¯•ç¯å¢ƒçš„å‘å¸ƒå’Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œåªæœ‰è‡ªåŠ¨åŒ–æµ‹è¯•å’Œcode review éƒ½é€šè¿‡ï¼Œæ‰å¯ä»¥è¢«å…è®¸åˆå¹¶åˆ° develop åˆ†æ”¯ã€‚<br>\5. å°†æŸäº›å…³é”®å­—åŠ å…¥åˆ° pull request çš„æè¿°æ–‡æœ¬ä¸­ï¼Œä¾‹å¦‚è¾“å…¥close issue #4 ï¼Œå½“ pull request merge é€šè¿‡å¹¶åˆå¹¶åˆ° develop åï¼Œè¯¥ issue ä¼šè¢«è‡ªåŠ¨å…³é—­ã€‚</p><p>\6. <a href="https://link.zhihu.com/?target=https://help.github.com/articles/creating-a-pull-request-template-for-your-repository/">è®¾ç½® pull_request æ¨¡æ¿</a> èƒ½è§„èŒƒåŒ–å›¢é˜Ÿ pull request çš„å†…å®¹ï¼Œç¤ºä¾‹æ¨¡æ¿å¦‚ä¸‹ï¼š</p><p><img src="https://pic3.zhimg.com/80/v2-805268f989b03d7e3a831e6f3eef131a_720w.jpg" alt="img"></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h2><p>ä¸Šé¢ç®€å•ä»‹ç»äº†åœ¨å·¥ä½œä¸­ä½¿ç”¨çš„ github flow å·¥ä½œæµã€‚ä½†æ˜¯æœ€æ—©ç”±äºä¸ç†Ÿæ‚‰æ•´ä¸ª Git æµç¨‹ï¼Œä¸€åº¦éå¸¸ä¾èµ– sourcetreeï¼Œåªæ•¢åœ¨ sourcetree ä¸Šè¿›è¡Œå¯è§†åŒ–æ“ä½œï¼Œå¯¼è‡´å¯¹äº git çš„å·¥ä½œæµç¨‹ä¸€ç›´ä¸æ˜¯å¾ˆç†è§£ã€‚å› æ­¤å¯¹äºåˆå­¦è€…å¦‚æœä¸€å¼€å§‹å°±ä½¿ç”¨Sourcetree çš„å„ç§æ“ä½œä½†æ˜¯ä¸çŸ¥é“æ˜¯ä»€ä¹ˆåŸç†ï¼Œä¼šå¾ˆéº»çƒ¦ã€‚å› æ­¤å»ºè®®è„±ç¦» sourcetree è‡ªå·±åŠ¨æ‰‹å‘½ä»¤è¡Œå¤šå»ç»ƒä¹  Git çš„ä¸€æ•´å¥—å·¥ä½œæµç¨‹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è½¬è½½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è½¬è½½ </tag>
            
            <tag> Githubflow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘ä½œä¸ºè½¯ä»¶å·¥ç¨‹å¸ˆçš„è´¢åŠ¡ç‹¬ç«‹ä¹‹è·¯</title>
      <link href="/hypo-Z.github.io/2022/01/07/28-wo-zuo-wei-ruan-jian-gong-cheng-shi-de-cai-wu-du-li-zhi-lu/"/>
      <url>/hypo-Z.github.io/2022/01/07/28-wo-zuo-wei-ruan-jian-gong-cheng-shi-de-cai-wu-du-li-zhi-lu/</url>
      
        <content type="html"><![CDATA[<h1 id="æˆ‘ä½œä¸ºè½¯ä»¶å·¥ç¨‹å¸ˆçš„è´¢åŠ¡ç‹¬ç«‹ä¹‹è·¯"><a href="#æˆ‘ä½œä¸ºè½¯ä»¶å·¥ç¨‹å¸ˆçš„è´¢åŠ¡ç‹¬ç«‹ä¹‹è·¯" class="headerlink" title="æˆ‘ä½œä¸ºè½¯ä»¶å·¥ç¨‹å¸ˆçš„è´¢åŠ¡ç‹¬ç«‹ä¹‹è·¯"></a>æˆ‘ä½œä¸ºè½¯ä»¶å·¥ç¨‹å¸ˆçš„è´¢åŠ¡ç‹¬ç«‹ä¹‹è·¯</h1><p>æ–‡ç« æ¥æºï¼š<a href="https://software.rajivprab.com/2021/12/26/my-path-to-financial-independence-as-a-software-engineer/">https://software.rajivprab.com/2021/12/26/my-path-to-financial-independence-as-a-software-engineer/</a></p><p><a href="https://www.forbes.com/sites/financialfinesse/2019/08/06/3-ways-to-invest-for-financial-independence"><img src="https://softwarerajivprab.files.wordpress.com/2021/11/finances.png" alt="img"></a></p><p>æˆ‘ç”Ÿå‘½ä¸­çš„ä¸€ä¸ªåˆ†æ°´å²­æ—¶åˆ»æ˜¯ä½œä¸ºä¸€å 20 å²çš„å®ä¹ ç”Ÿå‚åŠ å…³äºä¸ªäººç†è´¢çš„å·¥ä½œåœºæ‰€æ¼”ç¤ºã€‚åœ¨ä¸€å°æ—¶å†…ï¼Œæˆ‘äº†è§£äº†ä¹°å…¥å¹¶æŒæœ‰æŠ•èµ„å’Œå¤åˆå¢é•¿çš„åŠ›é‡ã€‚æˆ‘äº†è§£åˆ°ï¼Œé€šè¿‡è´¢åŠ¡çºªå¾‹å’ŒæŠ•èµ„è§„åˆ’ï¼Œå³ä½¿æ˜¯å¹´è–ªäº”ä½æ•°çš„æ™®é€šå·¥ç¨‹å¸ˆä¹Ÿå¯ä»¥åœ¨ 30 å¤šå²æ—¶æˆä¸ºç™¾ä¸‡å¯Œç¿ã€‚è¿™æ—¢é¼“èˆäººå¿ƒåˆå……æ»¡æ´»åŠ›ã€‚æˆ‘ä¸€ç›´è®¤ä¸ºæˆ‘éœ€è¦å·¥ä½œåˆ° 60 å²ï¼Œæ‰èƒ½æ”¯ä»˜è´¦å•å’Œç»´æŒç”Ÿè®¡ã€‚æˆä¸ºâ€œåƒä¸‡å¯Œç¿â€æ˜¯æ¢¦æƒ³ï¼Œè€Œä¸æ˜¯è®¡åˆ’ã€‚è¿™æ¬¡æ¼”è®²æ”¹å˜äº†æˆ‘å¯¹è´¢åŠ¡å‘½è¿çš„çœ‹æ³•ã€‚</p><p>ä»é‚£æ—¶èµ·ï¼Œè´¢åŠ¡ç‹¬ç«‹æ˜¯æˆ‘ä¼˜å…ˆè€ƒè™‘å’Œè¿½æ±‚çš„äº‹æƒ…ã€‚ä»Šå¹´ï¼Œåœ¨ä¼ä¸šç•Œå·¥ä½œäº† 12 å¹´åï¼Œæˆ‘æ¬£å–œè‹¥ç‹‚ï¼Œæˆ‘ç»ˆäºå®ç°äº†è‡ªå·±çš„ç›®æ ‡ã€‚è¿™ç¯‡æ–‡ç« æ˜¯å…³äºæˆ‘æ—…ç¨‹çš„å…·ä½“ç»†èŠ‚ï¼Œä»¥é˜²å…¶ä»–äººå‘ç°å®ƒæœ‰åŠ©äºåˆ¶å®šè‡ªå·±çš„è·¯çº¿ã€‚</p><p><em>å…è´£å£°æ˜ï¼šæˆ‘æ‰¿è®¤æˆ‘å¾ˆè£å¹¸ï¼Œå°¤å…¶æ˜¯åœ¨æˆ‘æ‰€æ‹¥æœ‰çš„æ•™è‚²æœºä¼šæ–¹é¢ã€‚åœ¨æˆ‘çš„æ—…ç¨‹ä¸­ï¼Œæœ‰è®¸å¤šå…¶ä»–äººéš¾ä»¥æˆ–ä¸å¯èƒ½å¤åˆ¶çš„æ­¥éª¤ã€‚ä½†ä¹Ÿè®¸è¿˜æœ‰å…¶ä»–ä¸€äº›ä½ ä¼šå‘ç°åœ¨ä½ è‡ªå·±çš„ç”Ÿæ´»ä¸­æ›´æœ‰ç”¨å’Œé€‚ç”¨çš„æ–¹æ³•ã€‚</em></p><p><em>ç¬¬äºŒä¸ªå…è´£å£°æ˜ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè°ˆè®ºé‡‘é’±åœ¨ç¤¾ä¼šä¸Šæœ‰å¾ˆå¤šæ±¡åã€‚é‚£äº›èµšå¾—ä¸å¤šçš„äººä¼šæ„Ÿåˆ°å°´å°¬ã€‚è€Œé‚£äº›èµšå¾—æ›´å¤šçš„äººå¾€å¾€è¢«å‘ŠçŸ¥è¦éšç’è¿™ä¸€äº‹å®ï¼Œä»¥å…è¢«è§†ä¸ºå‚²æ…¢å’Œè‡ªè´Ÿã€‚æˆ‘è®¤ä¸ºè¿™æ˜¯ä¸€ç§è€»è¾±ã€‚é‡‘é’±åº”è¯¥åƒå¯¹å¾…å¥åº·ä¸€æ ·å¯¹å¾…ã€‚è¿™æ˜¯ç”Ÿæ´»çš„å¿…éœ€å“ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬åº”è¯¥ä¼˜å…ˆè€ƒè™‘çš„äº‹æƒ…ã€‚ä½†ä¸æ˜¯å®šä¹‰ä½ æˆ–ä½ ä½œä¸ºä¸€ä¸ªäººçš„ä»·å€¼çš„ä¸œè¥¿ã€‚æˆ‘ä»¬è¶Šå…¬å¼€è°ˆè®ºé‡‘é’±ï¼Œæˆ‘ä»¬å°±è¶Šèƒ½äº’ç›¸å­¦ä¹ ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½æ›´å¥½åœ°ç®¡ç†è‡ªå·±çš„è´¢åŠ¡ã€‚</em></p><hr><p>ä¸ç”¨å¤šè¯´ï¼Œè¿™é‡Œæ€»ç»“äº†æˆ‘åœ¨èŒä¸šç”Ÿæ¶¯ä¸­æ¯å¹´èµšäº†å¤šå°‘é’±ï¼Œæˆ‘å­˜äº†å¤šå°‘ï¼Œä»¥åŠæˆ‘çš„å‚¨è“„å¦‚ä½•éšç€æ—¶é—´çš„æ¨ç§»è€Œå¢é•¿ã€‚</p><table><thead><tr><th><strong>å¹´</strong></th><th><strong>é›‡ä¸»</strong></th><th><strong>å¹´æ”¶å…¥</strong></th><th><strong>èŠ±è´¹é‡‘é¢ï¼ˆä¸å«ç¨ï¼‰</strong></th><th><strong>å‡€å€¼</strong></th><th><strong>ç¬”è®°</strong></th></tr></thead><tbody><tr><td>2009å¹´</td><td>è‹±ç‰¹å°”</td><td>100,000</td><td>38,000</td><td>35,000</td><td>è·å¾—å·¥ç¨‹ç¡•å£«å­¦ä½çš„æ–°å¤§å­¦æ¯•ä¸šç”Ÿ</td></tr><tr><td>2010å¹´</td><td>è‹±ç‰¹å°”</td><td>100,000</td><td>38,000</td><td>75,000</td><td></td></tr><tr><td>2011å¹´</td><td>è‹±ç‰¹å°”</td><td>105,000</td><td>38,000</td><td>122,000</td><td></td></tr><tr><td>2012å¹´</td><td>è‹±ç‰¹å°”/å¤ªé˜³</td><td>115,000</td><td>38,000</td><td>175,000</td><td></td></tr><tr><td>2013å¹´</td><td>å¤ªé˜³</td><td>125,000</td><td>39,000</td><td>236,000</td><td></td></tr><tr><td>2014å¹´</td><td>å¤ªé˜³</td><td>125,000</td><td>39,000</td><td>320,000</td><td></td></tr><tr><td>2015å¹´</td><td>å¯¹å†²åŸºé‡‘</td><td>230,000</td><td>56,000</td><td>450,000</td><td>ä»ç¡¬ä»¶ -&gt; è½¯ä»¶çš„èŒä¸šè½¬å‘</td></tr><tr><td>2016å¹´</td><td>å¯¹å†²åŸºé‡‘/è°·æ­Œ</td><td>230,000</td><td>56,000</td><td>505,000</td><td></td></tr><tr><td>2017å¹´</td><td>è°·æ­Œ</td><td>300,000</td><td>64,000</td><td>850,000</td><td></td></tr><tr><td>2018å¹´</td><td>è°·æ­Œ</td><td>330,000</td><td>68,000</td><td>990,000</td><td>è°·æ­Œè‚¡ä»·ä¸Šæ¶¨å¯¼è‡´æ”¶å…¥å¢åŠ </td></tr><tr><td>2019å¹´</td><td>äºšé©¬é€Š</td><td>475,000</td><td>94,000</td><td>1,130,000</td><td></td></tr><tr><td>2020å¹´</td><td>äºšé©¬é€Š</td><td>475,000</td><td>78,000</td><td>1,470,000</td><td></td></tr><tr><td>2021å¹´</td><td>äºšé©¬é€Š</td><td>625,000</td><td>78,000</td><td>2,400,000</td><td>äºšé©¬é€Šè‚¡ä»·ä¸Šæ¶¨å¯¼è‡´æ”¶å…¥å¢åŠ </td></tr></tbody></table><p>æˆ‘åœ¨æ­¤è¿‡ç¨‹ä¸­å­¦åˆ°çš„ä¸€äº›æ•™è®­ï¼š</p><ul><li><p>å½“ä½ å¾—åˆ°å¤§å¹…åŠ è–ªæ—¶ï¼Œå¾ˆå®¹æ˜“æŠŠé’±èŠ±åœ¨å¥¢ä¾ˆå“ä¸Šï¼Œæ¯”å¦‚æ›´æ¼‚äº®çš„å…¬å¯“æˆ–è±ªåçš„æ±½è½¦ã€‚åœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œè¿™å½“ç„¶ä¹Ÿæ˜¯æˆ‘æ‰€åšçš„ã€‚ä½†å°½å¯èƒ½é¿å…åŠ é€Ÿä½ çš„äº«ä¹è·‘æ­¥æœºï¼Œè€Œæ˜¯çœä¸‹è¿™ç¬”é’±</p><p>åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼ŒæŠŠé’±èŠ±åœ¨ä½“éªŒä¸Šï¼Œè€Œä¸æ˜¯äº‹æƒ…ä¸Šâ€”â€”æˆ‘å·²ç»è¿›è¡Œäº†æ— æ•°æ¬¡æ´²é™…æ—…è¡Œï¼Œæ¯å‘¨å‡ºå»åƒå¾ˆå¤šæ¬¡ï¼ŒåŒæ—¶ä»ç„¶èŠ‚ä¿­ç§Ÿé‡‘å’Œæ±½è½¦ä»˜æ¬¾ã€‚å’Œæˆ‘èŠ±é’±ä¹°çš„æ‰€æœ‰ä¸œè¥¿ç›¸æ¯”ï¼Œç»æµç‹¬ç«‹æ˜¯æœ€å¤§çš„å¥¢ä¾ˆ</p></li><li><p>æˆ‘çœ‹åˆ°ä¸€ä¸ªå¸¸è§çš„æ¨¡å› ï¼Œæ—§é‡‘å±±å’Œçº½çº¦ç­‰åŸå¸‚çš„æˆ¿ä»·è´µå¾—ç¦»è°±ã€‚åœ¨ä¸Šè¿°å‡ ä¹æ•´ä¸ªæ—¶é—´æ®µå†…ï¼Œæˆ‘éƒ½ä½åœ¨æ—§é‡‘å±±ã€çº½çº¦æˆ–è·ç¦»å¾ˆçŸ­çš„é€šå‹¤åœ°ç‚¹ã€‚æˆ‘æ— æ³•è°ˆè®ºæŠšå…»å­©å­æ‰€æ¶‰åŠçš„è´¹ç”¨ï¼Œä½†ä½œä¸ºä¸€ä¸ªæ²¡æœ‰å­©å­çš„äººï¼Œæˆ‘èƒ½å¤Ÿæ‰¾åˆ°ä¸æˆ‘çš„æ”¶å…¥ç›¸å…³çš„ä»·æ ¼åˆç†çš„é€‰æ‹©ï¼ˆè¿™åœ¨å¤§å¤šæ•°åœ°æ–¹æ˜¯ä¸å¯èƒ½çš„ï¼‰ã€‚å’Œå®¤å‹ä½åœ¨ä¸€èµ·æ—¶ï¼Œæˆ‘æ”¯ä»˜äº†çº¦ 1000 ç¾å…ƒçš„ç§Ÿé‡‘ï¼Œç‹¬å±…æ—¶æ”¯ä»˜äº†çº¦ 2000 ç¾å…ƒçš„ç§Ÿé‡‘</p><p>äººä»¬å–œæ¬¢è®¨åŒä¸å®¤å‹ä½åœ¨ä¸€èµ·çš„æƒ³æ³•ï¼ˆæˆ‘å¬è¯´å®ƒè¢«è®½åˆºåœ°æè¿°ä¸ºè´«å›°ï¼‰ã€‚ä½†å®ƒé€ å°±äº†æå…¶æœ‰è¶£çš„ç¤¾äº¤ç”Ÿæ´»ï¼Œä»¥åŠæœ‰è¶£çš„ç”Ÿæ´»ä½“éªŒçš„æºæ³‰ã€‚æ›´ä¸ç”¨è¯´æ˜¾ç€çš„ç§Ÿé‡‘èŠ‚çœ</p></li><li><p>æŠ•èµ„ä½ çš„é’±ã€‚ä¸è¦è®©å®ƒåœ¨é“¶è¡Œé—²ç½®ã€‚ä½œä¸ºä¸€ä¸ªèŒä¸šç”Ÿæ¶¯å¾ˆé•¿çš„å¹´è½»äººï¼Œä½ æœ‰èƒ½åŠ›æ‰¿æ‹…é£é™©ã€‚å¤§éƒ¨åˆ†æŠ•èµ„äº<a href="https://investor.vanguard.com/etf/profile/VT">å…¨çƒè‚¡å¸‚</a>ã€‚æ‚¨å°†å®šæœŸé­å—æŸå¤±ï¼Œå°¤å…¶æ˜¯åœ¨ç»æµè¡°é€€æœŸé—´ã€‚ä½†å¹³å‡è€Œè¨€ï¼Œä½ ä¼šé¢†å…ˆã€‚å¤åˆå¢é•¿éå¸¸å¼ºå¤§ï¼Œè®©æˆ‘çš„å‡€èµ„äº§å¢åŠ äº†è¿‘ 100 ä¸‡ç¾å…ƒã€‚</p><p>æˆ‘è‡ªå·±çš„æŠ•èµ„ç»„åˆå®Œå…¨ç”±ç¾å›½è‚¡ç¥¨ ( <a href="https://investor.vanguard.com/etf/profile/VTI">VTI</a> )ã€å‘è¾¾å›½å®¶ ( <a href="https://investor.vanguard.com/etf/profile/VEA">VEA</a> ) å’Œæ–°å…´å¸‚åœº ( <a href="https://investor.vanguard.com/etf/profile/VWO">VWO</a> ) ç»„æˆã€‚è¿‘å¹´æ¥ï¼Œæˆ‘è¿˜åŠ å…¥äº†æˆ¿åœ°äº§ï¼ˆ<a href="https://money.usnews.com/funds/etfs/real-estate/ishares-global-reit-etf/reet">REET</a>ï¼‰ã€‚æˆ‘çš„ç¡®åˆ‡åˆ†é…æœ‰æ‰€ä¸åŒï¼Œä½†æˆ‘é€šå¸¸åœ¨ä¸Šè¿°æ¯ä¸€é¡¹ä¸­æŠ•å…¥äº†ç›¸åŒçš„é‡‘é¢ã€‚å¦‚æœæ‚¨æ›´åŒæ¶é£é™©ï¼Œè¯·æ·»åŠ å€ºåˆ¸åŸºé‡‘ï¼ˆ<a href="https://investor.vanguard.com/etf/profile/BND">BND</a> ) åˆ°æ‚¨çš„æŠ•èµ„ç»„åˆ</p><p>ä¸è¦è¯•å›¾ä¸ºå¸‚åœºè®¡æ—¶æˆ–æŒ‘é€‰èµ¢å®¶å’Œè¾“å®¶ã€‚å¹³å‡è€Œè¨€ï¼Œè¿™äº›éƒ½æ˜¯å¤±è´¥çš„ç­–ç•¥ã€‚å¦‚æœæ‚¨ç¡®ä¿¡è‡ªå·±æ‹¥æœ‰éå‡¡çš„æ‰èƒ½å¹¶æƒ³æŠŠæ¡å¸‚åœºæ—¶æœºæˆ–æŠ•èµ„ç‰¹å®šè‚¡ç¥¨ï¼Œè¯·æ¯å‘¨è‡³å°‘èŠ± 20 å°æ—¶è¿›è¡ŒæŠ•èµ„ç ”ç©¶</p></li><li><p>æ‹¥æœ‰æˆ¿å±‹æ˜¯æ‚¨å°†è¦åšå‡ºçš„æœ€å¤§çš„è´¢åŠ¡å†³å®š - æ¸…æ¥šåœ°äº†è§£åˆ©å¼Šã€‚ä½¿ç”¨<a href="https://www.nytimes.com/interactive/2014/upshot/buy-rent-calculator.html">ä¸“å®¶è®¡ç®—å™¨</a>æ¥è¯„ä¼°è´­ä¹°ç‰¹å®šæˆ¿å±‹åæ‚¨èƒ½èµšæˆ–äºçš„é‡‘é¢ã€‚åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œç§Ÿæˆ¿åœ¨ç»æµä¸Šæ¯”ä¹°æˆ¿æ›´å¥½ã€‚</p><p>æ¯«æ— ç–‘é—® - ä½æˆ¿æ˜¯åŸºæœ¬éœ€æ±‚ï¼Œè€Œæ‹¥æœ‰æˆ¿å±‹åˆ™æ˜¯å¯æœ‰å¯æ— çš„ã€‚è¯´ä½ <em>â€œéœ€è¦â€</em>ä¹°æˆ¿ï¼Œå°±åƒè¯´ä½ <em>â€œéœ€è¦â€</em>æ‹¥æœ‰ä»·å€¼ä¸€ç™¾ä¸‡ç¾å…ƒçš„è°·æ­Œè‚¡ç¥¨</p></li><li><p>å¦‚æœæ‚¨ä»ç„¶æ˜¯å­¦ç”Ÿæˆ–å‡†å¤‡è¿›å…¥ç ”ç©¶ç”Ÿé™¢ï¼Œè¯·å°½ä¸€åˆ‡åŠªåŠ›è·å¾—è¿›å…¥å‰ 5 åçš„ç¡•å£«è¯¾ç¨‹ã€‚æ¯•ä¸šåªéœ€ä¸€å¹´å·¦å³ï¼Œä¸ºä½ çš„èŒä¸šç”Ÿæ¶¯æ‰“å¼€å¤§é—¨</p><p>å¦‚æœä½ çš„å­¦ç”Ÿæ—¶ä»£ç»“æŸäº†ï¼Œä½ æ²¡æœ‰å¼•äººæ³¨ç›®çš„ç®€å†ï¼Œä½ å¯ä»¥åœ¨FANGå·¥ä½œå¾—åˆ°åŒæ ·çš„ç»“æœï¼ˆæˆ–ç±»ä¼¼ï¼‰å…¬å¸å‡ å¹´ã€‚å¥½æ¶ˆæ¯æ˜¯ï¼Œä¸å¾‹å¸ˆäº‹åŠ¡æ‰€æˆ–æŠ•èµ„é“¶è¡Œä¸åŒï¼ŒFANG å…¬å¸ä¼šä¸ºå¤§å¤šæ•°æœ¬åœ°è½¯ä»¶å¼€å‘äººå‘˜æä¾›é¢è¯•æœºä¼šï¼ˆè™½ç„¶æ‹›è˜é—¨æ§›ç¡®å®å¾ˆé«˜ï¼‰</p></li><li><p>å½“æˆ‘ä»è®¡ç®—æœºç¡¬ä»¶å·¥ç¨‹å¸ˆè½¬å˜ä¸ºè½¯ä»¶å·¥ç¨‹å¸ˆæ—¶ï¼Œæˆ‘èŒä¸šæ”¶å…¥çš„æœ€å¤§æå‡æ˜¯ã€‚é¢†å…ˆå…¬å¸çš„è½¯ä»¶å·¥ç¨‹å¸ˆå¯ä»¥èµšåˆ°ä¸åŒ»ç”Ÿå’ŒæŠ•èµ„é“¶è¡Œå®¶ä¸ç›¸ä¸Šä¸‹çš„å·¨é¢æ”¶å…¥ã€‚è¿˜æœ‰è®¸å¤šå…¶ä»–èŒä¸šï¼Œå³ä½¿æ˜¯å·¥ç¨‹å¸ˆï¼Œå°½ç®¡æˆ‘åŒæ ·æ‰åæ¨ªæº¢ï¼Œä½†æˆ‘çš„æ”¶å…¥ä¼šå°‘å¾—å¤šã€‚æ‚¨é€‰æ‹©çš„èŒä¸šé“è·¯å°†å¯¹æ‚¨çš„è–ªé…¬äº§ç”Ÿå·¨å¤§å½±å“</p><p>è½¬æ¢èŒä¸šæ˜¯æˆ‘å¿…é¡»åšçš„æœ€å›°éš¾çš„äº‹æƒ…ï¼Œéœ€è¦å¤§é‡æŠ•å…¥æˆ‘å‡ ä¸ªæœˆçš„ç©ºé—²æ—¶é—´ï¼Œè€Œä¸”æˆ‘ä¸å¾—ä¸å°†å¤šå¹´æ¥çš„è‡ªæˆ‘èå…¥æˆ‘çš„æ–°èŒä¸šã€‚ä½†å®ƒå¾—åˆ°äº†å¾ˆå¥½çš„å›æŠ¥ã€‚å½“è°ˆåˆ°åˆ©æ¶¦ä¸°åšçš„èŒä¸šæœºä¼šæ—¶ï¼Œå§‹ç»ˆä¿æŒå¼€æ”¾çš„å¿ƒæ€ï¼Œä¸è¦å®³æ€•æ”¹å˜ä½ çš„èŒä¸šç”Ÿæ¶¯ã€‚å¦‚æœæˆ‘ä»Šå¤© 20 å²ï¼Œæˆ‘ä¼šè®¤çœŸè€ƒè™‘ä¸“æ”»æœºå™¨å­¦ä¹ </p></li><li><p>ä¸ä¸Šè¿°ç±»ä¼¼ï¼Œæˆ‘å¬è¯´æœ‰æ‰åçš„è½¯ä»¶å¼€å‘äººå‘˜å‡ ä¹ä¸å¯èƒ½åœ¨ç¾å›½ä»¥å¤–çš„ä»»ä½•å›½å®¶è·å¾—ç±»ä¼¼çš„æ”¶å…¥ã€‚å¦‚æœæ‚¨ä¼˜å…ˆè€ƒè™‘æ—©æœŸè´¢åŠ¡ç‹¬ç«‹ï¼Œè¯·å¼ºçƒˆè€ƒè™‘æ¬åˆ°è¿™é‡Œã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæœ€ç®€å•çš„æ–¹æ³•å¯èƒ½æ˜¯æš‚åœå·¥ä½œ 1 å¹´ï¼Œç„¶ååœ¨ç¾å›½æ”»è¯»ç¡•å£«å­¦ä½ã€‚è™½ç„¶æˆ‘ä¹Ÿé‡åˆ°äº†å…¶ä»–æŒå·¥ä½œç­¾è¯æ¬åˆ°è¿™é‡Œçš„äºº</p></li><li><p>ä¸è¦è®©çŸ­æœŸçš„ææƒ§å¦¨ç¢æ‚¨çš„é•¿æœŸæˆåŠŸã€‚æˆ‘åœ¨ç¡¬ä»¶è¡Œä¸šçš„å‰ 5 å¹´é˜»ç¢äº†æˆ‘çš„èŒä¸šå‘å±•ï¼Œä»é‚£æ—¶èµ·ï¼Œæˆ‘ä¸€ç›´åœ¨è¿½èµ¶ç›´æ¥è¿›å…¥è½¯ä»¶è¡Œä¸šçš„åŒå­¦ã€‚è®½åˆºçš„æ˜¯ï¼Œå½“æˆ‘åœ¨å¤§å­¦ä¸€å¹´çº§æ—¶ï¼Œæœ‰äººé—®æˆ‘ä¸ºä»€ä¹ˆä¸æƒ³ä¸»ä¿®è®¡ç®—æœºç§‘å­¦ï¼Œæˆ‘å›ç­”è¯´ï¼š<em>â€œä»é«˜ä¸­å¼€å§‹ç¼–ç¨‹çš„äººå¾ˆå¤šï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä¼šå¤„äºåŠ£åŠ¿ã€‚ä»–ä»¬ã€‚â€</em> æœ‰è¶£çš„æ˜¯ï¼Œæˆ‘æœ€ç»ˆè¿˜æ˜¯è½¬è¡Œäº†â€¦â€¦7 å¹´åâ€¦â€¦å¤„äºæ›´å¤§çš„åŠ£åŠ¿</p></li><li><p>å¦‚æœæ‚¨æ“…é•¿é¢è¯•ï¼Œé‚£ä¹ˆæ‚¨éœ€è¦åšå‡ºçš„æœ€å¤§å†³å®šæ˜¯åˆåˆ›å…¬å¸ä¸ FANGã€‚åœ¨ä»»ä½•æ—¶å€™ï¼Œä½ éƒ½ä¼šåœ¨ FANG å…¬å¸èµšæ›´å¤šçš„é’±ï¼ŒåŒæ—¶å·¥ä½œçš„æ—¶é—´æ›´å°‘ã€‚åˆšæ¯•ä¸šæ—¶å·®å¼‚è¾ƒå°ï¼Œä½†ä½œä¸ºé«˜çº§å¼€å‘äººå‘˜æ—¶å·®å¼‚å°¤å…¶æ˜æ˜¾ï¼Œå½“ä½ å¯ä»¥åœ¨ FANGs èµš 250-500k æ—¶ï¼ŒåŒæ—¶æ¯å‘¨å·¥ä½œ 40 å°æ—¶ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼Œä½ å¯ä»¥åœ¨åˆåˆ›å…¬å¸æ›´å¿«åœ°å‘å±•ä½ çš„èŒä¸šç”Ÿæ¶¯ï¼Œå¹¶æ›´å¿«åœ°è·å¾—é¢†å¯¼ç»éªŒã€‚æ‚¨è¿˜å°†è·å¾—æ›´å¤šæœºä¼šä»äº‹ç»¿åœ°é¡¹ç›®ï¼Œåœ¨çŸ­æ—¶é—´å†…å»ºé€ æ›´å¤šä¸œè¥¿ï¼Œå¹¶å‡å°‘å®˜åƒšä¸»ä¹‰çš„é˜»ç¢ã€‚</p><p>å¦‚æœä½ çš„ç›®æ ‡æ˜¯åœ¨æœä¹æ™šäº”çš„æ—¶å€™èµš 30 ä¸‡/å¹´ï¼Œä½ åº”è¯¥åšæŒ FANG å…¬å¸ã€‚<br>å¦‚æœä½ çš„ç›®æ ‡æ˜¯åˆ›é€ å¾ˆå¤šå¾ˆé…·çš„ä¸œè¥¿æˆ–è€…æœ‰ä¸€å¤©æˆä¸ºä¸€å VP/SVP/C çº§æ‰§è¡Œå®˜ï¼Œä½ åº”è¯¥åšæ—©æœŸåˆ›ä¸šå…¬å¸ã€‚<br>å¦‚æœå¯ä»¥é‡æ¥ä¸€æ¬¡ï¼Œæˆ‘ä¼šç”¨æˆ‘èŒä¸šç”Ÿæ¶¯çš„å‰ 6 å¹´åšåˆåˆ›å…¬å¸ã€‚å¦‚æœæˆ‘çš„åˆ›ä¸šå…¬å¸éƒ½æ²¡æœ‰æˆåŠŸï¼Œåæ¥åŠ å…¥ FANG å…¬å¸æ‹…ä»»é«˜çº§å·¥ç¨‹å¸ˆ</p></li><li><p>ä½ åº”è¯¥å¼ºçƒˆè€ƒè™‘æ¯ 3 å¹´åˆ°åˆ«å¤„é¢è¯•ã€‚è¿™éœ€è¦åœ¨é¢è¯•å‡†å¤‡å’Œå¤„ç†æ‹’ç»æ–¹é¢ä»˜å‡ºåŠªåŠ›ï¼Œä½†æ‚¨å¯ä»¥è·å¾—æ˜¾ç€çš„åŠ è–ªå’Œæ™‹å‡ã€‚ç»ƒä¹ ä½ çš„é¢è¯•æŠ€å·§æ˜¯ä½ èƒ½åšå‡ºçš„æœ€å¥½çš„è´¢åŠ¡æŠ•èµ„ã€‚</p></li><li><p>è¿™å¹¶ä¸æ˜¯è¯´ä½ ç›®å‰çš„å·¥ä½œä¸é‡è¦â€”â€”å®ƒç¡®å®é‡è¦ã€‚å§‹ç»ˆè¿½æ±‚å“è¶Šï¼Œå¹¶å°†è‡ªå·±ç½®äºå¯ä»¥å­¦ä¹ å’Œæˆé•¿çš„ç¯å¢ƒä¸­ã€‚åœ¨æˆ‘æ¥å—è°·æ­Œé¢è¯•ä¹‹å‰çš„ä¸€å¹´é‡Œï¼Œæˆ‘åˆ©ç”¨æ™šä¸Šå’Œå‘¨æœ«çš„æ—¶é—´æ¥å¼•å¯¼ä¸€å®¶åˆåˆ›å…¬å¸ã€‚åˆæ˜¯åœ¨æˆ‘åŠ å…¥äºšé©¬é€Šçš„å‰ä¸€å¹´ã€‚æˆ‘è¿™æ ·åšå¹¶ä¸æ˜¯ä¸ºäº†ç»™ä»»ä½•äººç•™ä¸‹æ·±åˆ»å°è±¡ï¼Œä½†æˆ‘æ€€ç–‘å®ƒå¸®åŠ©æˆ‘è·å¾—äº†å¼‚å¸¸ä¸°åšçš„å·¥ä½œæœºä¼šã€‚æ— è®ºæ‚¨èµ°åˆ°å“ªé‡Œï¼Œæ‚¨çš„å£°èª‰ã€äººè„‰ã€æ‚¨æŒæ¡çš„æŠ€èƒ½ä»¥åŠæ‚¨å­¦åˆ°çš„è¯¾ç¨‹éƒ½ä¼šä¸æ‚¨åŒåœ¨ã€‚</p></li><li><p>æˆ‘å¬è¯´å¾ˆå¤šäººè¯´ä½ åº”è¯¥å¿½ç•¥å…¬å¹³ï¼Œåªçœ‹å·¥ä½œæœºä¼šä¸­çš„åŸºæœ¬å·¥èµ„ã€‚è¿™æ˜¯ä¸€ä¸ªç³Ÿç³•çš„å»ºè®®â€”â€”æ€»æ˜¯çœ‹æ€»è–ªé…¬ï¼Œè€Œä¸æ˜¯å…¶ä¸­çš„ä»»ä½•ä¸€éƒ¨åˆ†ã€‚å¦‚æœæœ‰çš„è¯ï¼Œè‚¡æƒç»™äº†ä½ é€‰æ‹©æƒã€‚å¦‚æœè‚¡ä»·å¤§å¹…ä¸‹è·Œï¼Œå¯ä»¥é€šè¿‡æ¢å…¬å¸æ¥é‡ç½®ã€‚å¦‚æœå®ƒæ˜¾ç€ä¸Šå‡ï¼Œæ‚¨å°†è·å¾—æ˜¾ç€çš„è¡¥å¿å¢åŠ ã€‚è¿™å¯¹æˆ‘åœ¨è°·æ­Œå’Œäºšé©¬é€Šéƒ½æœ‰å¾ˆå¤§å¸®åŠ©ã€‚</p><p>è®¸å¤šå·è§„å®šï¼Œå‡†é›‡ä¸»è¯¢é—®æ‚¨ç›®å‰çš„å·¥èµ„æ˜¯éæ³•çš„ã€‚å³ä½¿ä½ ä¸æ˜¯ç”Ÿæ´»åœ¨è¿™æ ·çš„çŠ¶æ€ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æŒ‡å¯¼æ–¹é’ˆã€‚å‘Šè¯‰æ‹›è˜äººå‘˜ä½ æœŸæœ›çš„è–ªé…¬ï¼Œè€Œä¸æ˜¯ä½ ç›®å‰çš„è–ªé…¬ã€‚æ ¹æ®ç»éªŒï¼Œæ¯å½“æˆ‘æ¢å·¥ä½œæ—¶ï¼Œæˆ‘é¢„è®¡è–ªé…¬ä¼šå¢åŠ  30%ã€‚ä»»ä½•ä½äº 20% çš„æƒ…å†µï¼Œæˆ‘å»ºè®®æ‚¨ç­‰å¾…æ›´å¥½çš„ç»“æœå‡ºç°ã€‚</p><p>ä½ çš„è–ªé…¬æœŸæœ›è¶Šé«˜ï¼Œä½ å°±è¶Šéœ€è¦åœ¨é¢è¯•å’Œå·¥ä½œä¸­ç»™ä»–ä»¬ç•™ä¸‹æ·±åˆ»å°è±¡ã€‚æ‰€ä»¥è¿™æ˜¯ä¸€æŠŠåŒåˆƒå‰‘ã€‚å‡†å¤‡å¥½å®ç°æ‚¨çš„è¦æ±‚</p></li></ul><hr><p>æ‚¨å¯èƒ½æƒ³çŸ¥é“è¿™ä¸€åˆ‡çš„æ„ä¹‰ä½•åœ¨ã€‚é‡‘é’±ä¹°ä¸åˆ°å¹¸ç¦ã€‚æ­¤å¤–ï¼Œå¦‚æœä½ åªæ˜¯æ‰“ç®—åœ¨ 30 å¤šå²æ—¶é€€ä¼‘ï¼Œé‚£ä¹ˆä¼˜åŒ–ä½ çš„èŒä¸šç”Ÿæ¶¯æœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿ</p><p>ç¡®å®ï¼Œé‡‘é’±æˆ–äº‹ä¸šä¸Šçš„æˆåŠŸå¹¶ä¸èƒ½ä¹°åˆ°å¹¸ç¦ã€‚ä½†çœŸæ­£èƒ½ä¹°åˆ°å¹¸ç¦çš„æ˜¯ç‹¬ç«‹å’Œè‡ªä¸»ã€‚å› æ­¤ï¼Œæˆ‘çš„ç›®æ ‡æ˜¯ä¼˜åŒ–æˆ‘çš„èŒä¸šå’Œè´¢åŠ¡çŠ¶å†µï¼Œä»¥ä¾¿æˆ‘èƒ½å¤Ÿåœ¨ 30 å¤šå²æ—¶â€œé€€ä¼‘â€ã€‚</p><p>ç°åœ¨æˆ‘å·²ç»â€œé€€ä¼‘â€äº†ï¼Œç†è®ºä¸Šæˆ‘å¯ä»¥åœ¨æµ·æ»©ä¸Šåº¦è¿‡ä½™ç”Ÿã€‚ä½†è¿™ä¸æ˜¯æˆ‘æƒ³è¦çš„ï¼Œä¹Ÿä¸æ˜¯æˆ‘è¿½æ±‚ç»æµç‹¬ç«‹çš„åŸå› ã€‚æˆ‘çš„çœŸæ­£ç›®æ ‡ä¸€ç›´æ˜¯æŒ‰ç…§æˆ‘è‡ªå·±çš„æ–¹å¼è¿½æ±‚æˆ‘çš„äººç”Ÿç›®æ ‡ï¼Œè€Œä¸å¿…æ‹…å¿ƒé‡‘é’±ã€‚</p><p>ä½œä¸ºåœ¨æˆ‘å·¥ä½œè¿‡çš„æ¯å®¶å…¬å¸ä¸­éƒ½å‘ç°ä»¤äººæ²®ä¸§çš„é—®é¢˜çš„äººï¼Œæˆ‘ç›®å‰çš„ç›®æ ‡æ˜¯ä»å¤´å¼€å§‹å»ºç«‹ä¸€å®¶åˆåˆ›å…¬å¸ã€‚æˆ‘å¯ä»¥ç‹¬ç«‹å·¥ä½œå¹¶å¿«é€Ÿåšå‡ºå†³å®šï¼Œè€Œæ— éœ€å‚åŠ æ— ä¼‘æ­¢çš„ä¼šè®®æˆ–ç­‰å¾…æ•°å¤©/æ•°å‘¨çš„æ‰¹å‡†ã€‚ä¸€ä¸ªæˆ‘å¯ä»¥å°è¯•è§£å†³æˆ‘åœ¨å…¶ä»–å…¬å¸ä¸­åå¤å‡ºç°çš„é—®é¢˜çš„åœ°æ–¹ã€‚ä¸€ä¸ªæˆ‘å¯ä»¥å°è¯•é¢†å¯¼åŠ›çš„åœ°æ–¹ï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸­å±‚ç®¡ç†äººå‘˜ã€‚</p><p>é™¤äº†æˆ‘çš„åˆ›ä¸šç›®æ ‡ä¹‹å¤–ï¼Œæˆ‘è¿˜æœ‰å…¶ä»–ç›®æ ‡ï¼Œæˆ‘å¾ˆé«˜å…´åœ¨æœªæ¥å‡ å¹´è¿½æ±‚è¿™äº›ç›®æ ‡ã€‚æ‚¨å¯èƒ½å·²ç»ä»è¿™ç¯‡åšå®¢ä¸­çŒœåˆ°äº†ï¼Œå†™ä½œæ˜¯æˆ‘çš„çˆ±å¥½ä¹‹ä¸€ï¼Œæˆ‘å¸Œæœ›æœ‰æœä¸€æ—¥æˆä¸ºä¸€åå‡ºç‰ˆä½œå®¶ã€‚è¾…å¯¼å’ŒæŒ‡å¯¼ä»–äººä¹Ÿæ˜¯æˆ‘è¿‡å»å–œæ¬¢çš„äº‹æƒ…â€”â€”æˆ‘æ­£åœ¨è€ƒè™‘æ‹…ä»»å…¼èŒå¯¼å¸ˆ/å¯¼å¸ˆçš„æƒ³æ³•ã€‚æœ€åï¼Œæˆ‘æ‰“ç®—å°†æˆ‘çš„å¤§éƒ¨åˆ†ç§¯è“„ç”¨äºæ…ˆå–„äº‹ä¸šã€‚å¦‚æœæˆ‘çš„ä»»ä½•ä¸€å®¶åˆåˆ›å…¬å¸å–å¾—æˆåŠŸï¼Œæˆ‘è¿˜è®¡åˆ’æˆç«‹ä¸€ä¸ªæ…ˆå–„åŸºé‡‘ä¼šå¹¶ç§¯æå‚ä¸æ…ˆå–„äº‹ä¸šã€‚</p><hr><p>è¿™äº›éƒ½æ˜¯æˆ‘è¿‡å»åœ¨æŸç§ç¨‹åº¦ä¸Šåšè¿‡çš„äº‹æƒ…ï¼Œä½†æˆ‘ä»æ¥æ²¡æœ‰èƒ½å¤Ÿåœ¨å…¼é¡¾å…¨èŒå·¥ä½œçš„åŒæ—¶ç»™ä»–ä»¬åº”å¾—çš„æ—¶é—´å’Œç²¾åŠ›ã€‚æ­¤å¤–ï¼Œæˆ‘çŸ¥é“ä¸€ä¸ªäº‹å®ï¼Œå¦‚æœæˆ‘åœ¨ 20 å¤šå²çš„æ—¶å€™å°è¯•æˆä¸ºä¸€åå…¨èŒä½œå®¶ï¼Œæˆ‘ä¸€ç”Ÿä¸­çš„å¤§éƒ¨åˆ†æ—¶é—´éƒ½ä¼šä¸ºè´¢åŠ¡ç¨³å®šæ€§è€Œæ„Ÿåˆ°å‹åŠ›ã€‚èµšé’±çš„è¯±æƒ‘ä¼šå¨èƒåˆ°æˆ‘åˆ›é€ æ€§åŠªåŠ›çš„å®Œæ•´æ€§ã€‚ä½†ç°åœ¨æˆ‘åœ¨ç»æµä¸Šç‹¬ç«‹äº†ï¼Œæˆ‘æœ‰èƒ½åŠ›å…¨å¿ƒå…¨æ„åœ°è¿½æ±‚æˆ‘çš„äººç”Ÿç›®æ ‡ã€‚æ²¡æœ‰ä»»ä½•è´§å¸é¢„æœŸï¼Œæˆ–æ‹…å¿ƒæ”¯ä»˜è´¦å•ã€‚</p><p>æœ€ç»ˆå¯¹æˆ‘æ¥è¯´ï¼Œè¿™å°±æ˜¯è´¢åŠ¡ç‹¬ç«‹çš„å…¨éƒ¨æ„ä¹‰æ‰€åœ¨ï¼Œä»¥åŠä¸ºä»€ä¹ˆè¿™ä¸€åˆ‡éƒ½æ˜¯å€¼å¾—çš„ã€‚è¿™ä¸æ˜¯å…³äºååœ¨æµ·æ»©ä¸Šå–æ‰ä½ çš„ç”Ÿå‘½ã€‚è¿™æ˜¯å…³äºæ‹¥æœ‰è¿½æ±‚äººç”Ÿç›®æ ‡çš„è‡ªç”±ï¼Œæ— è®ºå®ƒæ˜¯ä»€ä¹ˆï¼Œæ— è®ºå®ƒå¯èƒ½å¤šä¹ˆä¸åˆ‡å®é™…ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è½¬è½½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ–‡ç«  </tag>
            
            <tag> è½¬è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨æ–°å¹´ä¼Šå§‹å†™ç»™è‡ªå·±çš„ä¸€å°ä¿¡</title>
      <link href="/hypo-Z.github.io/2022/01/01/27-zai-xin-nian-yi-shi-xie-gei-zi-ji-de-yi-feng-xin/"/>
      <url>/hypo-Z.github.io/2022/01/01/27-zai-xin-nian-yi-shi-xie-gei-zi-ji-de-yi-feng-xin/</url>
      
        <content type="html"><![CDATA[<h1 id="è‡´2022å¹´çš„æ–°æˆ‘"><a href="#è‡´2022å¹´çš„æ–°æˆ‘" class="headerlink" title="è‡´2022å¹´çš„æ–°æˆ‘"></a>è‡´2022å¹´çš„æ–°æˆ‘</h1><p>2021å¹´åˆšåˆšè¿‡å»ï¼Œæˆ‘æƒ³å†™ä¸‹è¿™ç¯‡æ–‡ç« ä½œä¸ºæˆ‘åœ¨2022å¹´è¿·èŒ«çš„æ—¶å€™èƒ½çœ‹åˆ°ï¼Œç»™æˆ‘ä¸€äº›<br>åŠ›é‡ï¼›<br>åœ¨å¹´åˆæ—¶ï¼Œæˆ‘å°±ç»™æˆ‘è‡ªå·±è®¸ä¸‹äº†ä¸¤ä¸ªæ„¿æœ›ï¼Œ1.æ¢ä¸€ä¸ªå·¥ä½œï¼Œå¹¶ä¸”å·¥èµ„æœŸæœ›ä¸é”™ï¼›2.å‡è‚¥<br>åˆ°60å…¬æ–¤ã€‚<br>è¿™ä¸¤ä¸ªæ„¿æœ›åœ¨2021å¹´å¿«ç»“æŸæ—¶ï¼Œæˆ‘éƒ½å®ç°äº†ï¼Œæˆ‘æ·±æ·±çš„çŸ¥é“æˆ‘åœ¨è¿™å…¶ä¸­ä»˜å‡ºäº†å¤šå°‘<br>åŠªåŠ›ï¼Œä¹Ÿæ˜¯å› ä¸ºè¿™ä¸¤ä¸ªæ„¿æœ›ä½¿å¾—æˆ‘çš„2021å˜å¾—å……å®ä¸”æ²¡æœ‰é—æ†¾ï¼Œåœ¨è¿™ä¸€å¹´ï¼Œæˆ‘ä¸ºäº†æ¢<br>å·¥ä½œè‡ªå­¦äº†goè¯­è¨€ï¼Œå¹¶ä¸”é ç€æˆ‘çš„åŠªåŠ›å¯»æ‰¾åˆ°äº†ä¸€ä»½è¶…å‡ºæˆ‘è‡ªå·±æœŸæœ›çš„å·¥ä½œï¼Œæˆ‘å¾ˆæ»¡æ„<br>æˆ‘çš„è–ªèµ„ï¼Œä½†æ˜¯æˆ‘çŸ¥é“ä¸èƒ½å› æ»¡æ„è€Œä½¿è‡ªå·±å •æ€ çš„åŸå› ï¼Œæˆ‘è¿˜éœ€è¦åœ¨è¿™æ¡è·¯ä¸Šä¸åœçš„<br>å‰è¿›ã€‚äºŒæ˜¯å‡è‚¥ï¼Œæˆ‘ç¬¬ä¸€æ¬¡æ˜¯é ç€æˆ‘çš„åŠªåŠ›çœŸå®çš„æ„Ÿå—åˆ°ä»˜å‡ºæ±—æ°´çš„å¿«ä¹ï¼Œå› ä¸ºå˜ç˜¦<br>èƒ½ä½¿æˆ‘å˜å¾—è‡ªä¿¡ï¼Œä½¿æˆ‘èƒ½è®¤è¯†åˆ°è‡ªå·±çš„æ½œåŠ›ï¼Œå¹¶ä¸æ˜¯æˆ‘åšä¸åˆ°ï¼Œè€Œæ˜¯æˆ‘æ„¿ä¸æ„¿æ„å»åš<br>ï¼Œå¹¶ä¸”åšæŒä¸‹å»ã€‚å¯¹äºæˆ‘çš„2021æˆ‘å¾ˆæ»¡æ„ï¼Œä¸€ã€æˆ‘è®¤è¯†åˆ°åšè‡ªå·±è®¤ä¸ºæ­£ç¡®çš„äº‹æƒ…å¹¶ä¸”<br>åšæŒä¸‹å»ã€‚äºŒã€å­¦ä¼šå’Œè‡ªå·±ç‹¬å¤„ï¼Œç¬¬ä¸€æ¬¡åœ¨ä¸€ä¸ªå¼‚åœ°ä¸€ä¸ªäººç”Ÿæ´»ï¼Œéš¾å…ä¼šä¸ä¹ æƒ¯ï¼Œè™½ç„¶<br>éƒ½æ¥äº†å››ä¸ªæœˆäº†ï¼Œæˆ‘è¿˜æ˜¯ä¸æ˜¯å¾ˆé‡Šç„¶ï¼Œä¸€ä¸ªäººçš„ç‹¬å¤„èƒ½åŠ›è¿˜éœ€åŠ å¼ºã€‚ä¸‰ã€è®¤è¯†çš„èº«ä½“æ˜¯<br>å¥‹æ–—çš„æœ¬é’±ï¼Œå‡å¦‚æˆ‘ä¸çˆ±æƒœè‡ªå·±çš„èº«ä½“ï¼Œé‚£ä¹ˆèº«ä½“çš„ç—…ç—›å’Œéš¾å—å°±ä¼šæ¥è¸µè€Œè‡³ï¼Œå¥èº«<br>å¾ˆé‡è¦ã€‚å››ã€è¯»ä¹¦å’Œå­¦ä¹ ä¸èƒ½åœä¸‹ï¼Œä½ ä¸è¿›æ­¥ï¼Œæ—¶ä»£å°±ä¼šæŠ›å¼ƒä½ ï¼›<br>2022çš„æ–°ç›®æ ‡ï¼š1ã€æœ€é‡è¦çš„æ˜¯å¥èº«ï¼Œèƒ½åœ¨21å¹´çš„åŸºç¡€ä¸Šé”»ç‚¼å‡º6å—è…¹è‚Œï¼›2ã€æ‰¾åˆ°ä¸€ä¸ª<br>ä¼´ä¾£ï¼Œåœ¨è¿™ä¸€æ–¹é¢æˆ‘ä¸å¼ºæ±‚ï¼Œè¿™æ˜¯å¸Œæœ›èƒ½é‡ä¸Šä¸€æ®µç¼˜åˆ†ï¼›3ã€åœ¨å·¥ä½œåŸºç¡€ä¸Šä¸æ–­åŠ å¼º<br>ï¼Œåšåˆ°è‡ªå¦‚åº”å¯¹é¡¹ç›®çš„ç›¸å…³äº‹å®œï¼Œå¹¶ä¸æ–­å­¦ä¹ ï¼›4ã€å†å­¦ä¹ ä¸€ä¸‹ä¸€ä¸ªæ¸¸æˆå¼•æ“ç¼–ç¨‹ï¼Œä¸<br>è¦æ±‚è¾¾åˆ°å·¥ä½œéœ€æ±‚ï¼Œåªæ˜¯å½“ä½œè‡ªå·±çš„ä¸€é¡¹æŠ•èµ„ï¼Œä¸€ä¸ªè‡ªå·±æ¢ç´¢çš„æ–¹å‘ï¼Œä¹Ÿæ˜¯è‡ªå·±çš„ä¸‹ä¸€ä¸ª<br>æ–°ç›®æ ‡ã€‚<br>æ–°çš„ä¸€å¹´å·²ç»å¼€å§‹äº†ï¼Œæˆ‘å¸Œæœ›åœ¨è‡ªå·±è¿·èŒ«æ—¶èƒ½æƒ³èµ·è‡ªå·±å†™çš„è¿™è¾¹æ–‡ç« ï¼Œæƒ³æƒ³è‡ªå·±çš„ç›®æ ‡ï¼Œ<br>å’Œè‡ªå·±æƒ³èµ°çš„è‡ªå·±çš„è·¯ã€‚</p><p>åŠ æ²¹ï¼hypoï¼åŠ æ²¹ï¼2022ï¼</p><p><img src="https://hypo-pictrue-1308430808.cos.ap-shanghai.myqcloud.com/hypo.ltd-%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE%E5%AD%98%E5%82%A8/IMG_2827.jpg" alt="2021"></p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
            <tag> æ–‡ç«  </tag>
            
            <tag> 2022ç›®æ ‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½ çš„Bè®¡åˆ’æ˜¯ä»€ä¹ˆï¼Ÿ</title>
      <link href="/hypo-Z.github.io/2021/12/23/26-ni-de-b-ji-hua-shi-shi-me/"/>
      <url>/hypo-Z.github.io/2021/12/23/26-ni-de-b-ji-hua-shi-shi-me/</url>
      
        <content type="html"><![CDATA[<h1 id="ä½ çš„Bè®¡åˆ’æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ä½ çš„Bè®¡åˆ’æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä½ çš„Bè®¡åˆ’æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ä½ çš„Bè®¡åˆ’æ˜¯ä»€ä¹ˆï¼Ÿ</h1><p>æœ€è¿‘çœ‹æ–°é—»æ€»æ˜¯çœ‹åˆ°å„å¤§äº’è”ç½‘å…¬å¸è£å‘˜çš„æ¶ˆæ¯ï¼Œè‡ªå·±ä½œä¸ºåˆšå…¥äº’è”ç½‘çš„æ–°äººï¼Œä¸ç¦å°±æ„Ÿå¹åˆ°ITè¡Œä¸šçš„æ®‹é…·ï¼Œæ„è¯†åˆ°è‡ªå·±æ­£å¤„åœ¨ä¸€ä¸ªæ­£åœ¨é£äº‘å˜åŒ–çš„æ—¶ä»£ã€‚<br>ä¸€æ˜¯å›½å®¶å€¡å¯¼å…±åŒå¯Œè£•ï¼Œå¸Œæœ›èƒ½å‡å°å›½å®¶é—´çš„è´«å¯Œå·®è·ï¼Œæ‰“å‡»äº’è”ç½‘å·¨å¤´çš„æ— åºæ‰©å¼ ï¼›<br>äºŒæ˜¯äº’è”ç½‘å·¨å¤´ä»¬ä¹Ÿæ„Ÿå—åˆ°äº†å‹åŠ›ï¼Œéœ€è¦å‡è½»è´¢åŠ¡è´Ÿæ‹…ï¼Œå¤§é‡è£æ‰åº•å±‚æŠ€æœ¯äººå‘˜ï¼Œå¯¼è‡´è®¸å¤šæŠ€æœ¯äººå‘˜å¤±å»å·¥ä½œå²—ä½ã€‚<br>ä¸‰æ˜¯å¤§é‡çš„é«˜é¾„æŠ€æœ¯äººå‘˜è¶Šæ¥è¶Šå—åˆ°ä¼ä¸šçš„å¼ƒç”¨ï¼Œä»è€Œå¸Œæœ›æ‹›å…¥å¹´è½»å¹¶è–ªèµ„å¾…é‡è¾ƒä½çš„å¤§å­¦ç”Ÿå…¥è¡Œï¼›</p><p>è¿™æ ·å°±å¯¼è‡´æŠ€æœ¯äººå‘˜çš„ç„¦è™‘æ„Ÿè¶Šæ¥è¶Šå¼ºï¼Œæ¯•ç«Ÿäº’è”ç½‘å°±æ˜¯åƒå¹´è½»é¥­çš„ï¼Œæ·˜æ±°å¹´çºªå¤§çš„ç»™å¹´è½»äººè®©ä½ï¼Œä¹Ÿå¯ä»¥ä½¿å¹´è½»äººå¾—åˆ°æ›´å¤šçš„æœºä¼šï¼Œä¹‹å‰çœ‹åˆ°ä¸€éæ–°é—»ï¼šè¯´æ˜¯äº’è”ç½‘HRæœ‰ä¸€ä¸ªæ½œè§„åˆ™å°±æ˜¯28å²ä»¥åçš„ç®€å†ä¸€å¾‹ä¸çœ‹ï¼Œç»äººéªŒè¯ï¼Œæƒ…å†µå±å®ï¼æˆ‘çœ‹åˆ°è¿™å°±å¾ˆæƒŠè®¶ï¼28å²æ­£æ˜¯ä¸€ä¸ªé’å£®å¹´çš„æ—¶å€™ï¼Œäººçš„é»„é‡‘å¹´çºªï¼Œä¹‹åäº’è”ç½‘éƒ½çœ‹ä¸ä¸Šäº†ï¼Œå°±è¯´æ˜æ•´ä¸ªè¡Œä¸šçš„å¹³å‡å¹´çºªå°±åœ¨28å²å·¦å³ï¼Œå¾ˆå¹´è½»ã€‚æˆ‘è®¡ç®—äº†ä¸€ä¸‹ç»™æˆ‘åœ¨äº’è”ç½‘çš„çº¢åˆ©æ—¶æœŸä¹Ÿå°±6å¹´å·¦å³ï¼Œæ—¶é—´å¾ˆçŸ­ï¼</p><p>ææƒ§çš„æ„Ÿè§‰æ²¹ç„¶è€Œç”Ÿï¼Œåˆåˆšé˜…è¯»çš„é˜®ä¸€å³°çš„è‘—ä½œã€Šæœªæ¥çš„å¹¸å­˜è€…ã€‹ä¸€ä¹¦ï¼Œå°±æ„Ÿè§‰å¯¹è¿œæœŸäº’è”ç½‘çš„æœªæ¥æ„Ÿåˆ°æ‚²è§‚ï¼Œè™½ç„¶è¿œä¸åŠä»–ä¹¦ä¸­å¯¹äººç±»çš„æœªæ¥ç€æƒ³ï¼Œæˆ‘åªèƒ½é¡¾åŠæˆ‘è‡ªå·±ã€‚å°±åƒä»–ä¹¦ä¸­æ‰€è¯´ï¼š<br>å¯¹äºäººç”Ÿæ¥è¯´ï¼Œä½ ç°åœ¨çš„èŒä¸šå°±æ˜¯Aè®¡åˆ’ï¼Œåº”è¯¥åŠªåŠ›è¿½æ±‚èŒä¸šæˆåŠŸã€‚ä½†æ˜¯ï¼Œä¹Ÿè¦åšå¥½ä¸¤æ‰‹å‡†å¤‡ï¼Œä¸‡ä¸€Aè®¡åˆ’å¤±è´¥ï¼Œè¿˜éœ€è¦ä¸€ä¸ªBè®¡åˆ’ï¼Œå¯¹è‡ªå·±çš„é€€è·¯æœ‰æ‰€å®‰æ’ã€‚ä¸€æ—¦æœ‰äº†Bè®¡åˆ’ï¼Œæˆ‘å»ºè®®ï¼Œæœ€å¥½ç«‹åˆ»åŠ¨æ‰‹åšä¸€äº›å‡†å¤‡ã€‚ä¸ä¸€å®šä¸ºäº†çœŸçš„å®æ–½ï¼Œä½†è‡³å°‘è®©å®ƒä»ä¸€ä¸ªå¾ˆæ¨¡ç³Šçš„è®¾æƒ³ï¼Œå˜å¾—ç¨å¾®å…·ä½“ä¸€ç‚¹ã€‚åƒä¸‡ä¸è¦åªæ˜¯æƒ³æƒ³è€Œå·²ï¼Œäººç”Ÿç¼ºå°‘çš„å°±æ˜¯è¡ŒåŠ¨ï¼Œåªæœ‰è¿ˆå‡ºç¬¬ä¸€æ­¥ï¼Œæ‰æœ‰åé¢çš„æ—…ç¨‹ã€‚</p><p>æˆ‘æ˜¯åº”è¯¥æƒ³æƒ³æˆ‘çš„Bè®¡åˆ’æ˜¯ä»€ä¹ˆäº†ï¼Œè™½ç„¶ä¸æ˜¯ç«‹å³å°±è¦åšå‡ºæ”¹å˜ï¼Œä½†æ˜¯æ˜¯åº”è¯¥åšä¸€äº›å‡†å¤‡äº†ï¼Œå¹¶åœ¨è¿™å‡ å¹´çš„æ—¶é—´é‡Œé¢åšåˆ°èƒ½å¤Ÿåœ¨ç”Ÿæ´»å‘ç”Ÿé‡å¤§å˜åŒ–çš„æ—¶å€™èƒ½å¤Ÿä»å®¹ä¸€äº›ï¼Œå…¶å®æƒ³æƒ³æ™®é€šäººå¹¶æ²¡æœ‰ä»€ä¹ˆèƒ½å¤Ÿåšç»ˆèº«çš„èŒä¸šï¼Œé‚£äº›èƒ½åšç»ˆèº«çš„èŒä¸šçš„äººéƒ½æ˜¯ä¼Ÿäººï¼Œæˆ‘ä¸æ˜¯ï¼Œæ‰€ä»¥éœ€è¦ä¸ºè‡ªå·±æ‰¾åˆ°ä¸€æ¡åè·¯ï¼Œä»¥å¤‡ä¸æ—¶ä¹‹éœ€ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
            <tag> æ–‡ç«  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®°å½•ä¸€ä¸ªDockerfileä¹¦å†™ç¬”è®°</title>
      <link href="/hypo-Z.github.io/2021/12/23/dockerfile-shu-xie-bi-ji/"/>
      <url>/hypo-Z.github.io/2021/12/23/dockerfile-shu-xie-bi-ji/</url>
      
        <content type="html"><![CDATA[<h2 id="docker-åˆ¶ä½œé•œåƒ"><a href="#docker-åˆ¶ä½œé•œåƒ" class="headerlink" title="docker åˆ¶ä½œé•œåƒ"></a>docker åˆ¶ä½œé•œåƒ</h2><p>åœ¨<code>Dockerfile</code>æ‰€åœ¨çš„ç›®å½•ä¸‹æ‰§è¡Œ<code>docker build</code>æ„å»ºé•œåƒ</p><pre class="line-numbers language-none"><code class="language-none">âœ  docker build -t é•œåƒå .<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>docker</code>ä¼šä¾æ®<code>Dockerfile</code>é‡Œçš„æŒ‡ä»¤æ„å»ºé•œåƒï¼Œæ•´ä¸ªæ„å»ºçš„è¿‡ç¨‹ç±»ä¼¼ä¸‹é¢ï¼š</p><h3 id="éªŒè¯é•œåƒ"><a href="#éªŒè¯é•œåƒ" class="headerlink" title="éªŒè¯é•œåƒ"></a>éªŒè¯é•œåƒ</h3><p>è¿™ä¸€æ­¥å…¶å®å¯ä»¥çœç•¥ï¼Œä¸è¿‡ä¸ºäº†ç¡®ä¿åˆ¶ä½œçš„é•œåƒæ˜¯æ²¡æœ‰é—®é¢˜ï¼Œæˆ‘ä»¬é€šè¿‡<code>docker run</code>å‘½ä»¤ç”¨è¿™ä¸ªé•œåƒè¿è¡Œå®¹å™¨éªŒè¯ä¸€ä¸‹ã€‚</p><pre class="line-numbers language-none"><code class="language-none">âœ docker run -d -p æœ¬æœºç«¯å£:å®¹å™¨ç«¯å£ --rm --name containerå é•œåƒå<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æŒ‡ç¤º<code>docker</code>ä»æºé•œåƒ<code>è¿è¡Œå®¹å™¨ï¼Œå°†ä¸»æœºç«¯å£</code>ç»‘å®šåˆ°å®¹å™¨çš„å†…éƒ¨ç«¯å£``ï¼Œä»¥åå°æ¨¡å¼ï¼ˆ-dï¼‰è¿è¡Œå®¹å™¨ï¼Œç»™æ­¤å®¹å™¨å‘½åä¸º<code>å®¹å™¨å</code>ï¼Œå¹¶åœ¨å®¹å™¨ç»“æŸè¿è¡Œåè‡ªåŠ¨åˆ é™¤å®¹å™¨ï¼ˆâ€“rmï¼‰ã€‚</p><h3 id="å¤šé˜¶æ®µæ„å»º"><a href="#å¤šé˜¶æ®µæ„å»º" class="headerlink" title="å¤šé˜¶æ®µæ„å»º"></a>å¤šé˜¶æ®µæ„å»º</h3><p>ä¸‹é¢å°±æ¥ä»‹ç»ä¸€ä¸‹æ€ä¹ˆä½¿ç”¨<code>Docker</code>çš„å¤šé˜¶æ®µæ„å»ºåˆ¶ä½œ<code>Go</code>åº”ç”¨çš„é•œåƒã€‚</p><p>é•œåƒçš„<code>Dockerfile</code>é•¿è¿™æ ·ï¼š</p><pre class="line-numbers language-none"><code class="language-none">FROM golang:1.14-alpineRUN mkdir /appCOPY . /appWORKDIR /appRUN go build -o main . CMD ["/app/main"]å¤åˆ¶ä»£ç <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬ä½¿ç”¨ç”¨å¤šé˜¶æ®µæ„å»ºçš„æ–¹å¼æ„å»ºé•œåƒåï¼Œ<code>Dockerfile</code>ä¼šå˜æˆç±»ä¼¼ä¸‹é¢è¿™æ ·ï¼š</p><pre class="line-numbers language-none"><code class="language-none">FROM golang:alpine AS buildRUN mkdir /appCOPY . /appWORKDIR /appRUN CGO_ENABLED=0 GOOS=linux go build -o myapp### FROM scratch as finalCOPY --from=build /app/myapp .CMD ["/myapp"]å¤åˆ¶ä»£ç <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è®°å½•ä¸€ä¸ªæœ‰sqlite3æ•°æ®åº“å’Œgolangçš„Dockerfileä¹¦å†™ç¬”è®°"><a href="#è®°å½•ä¸€ä¸ªæœ‰sqlite3æ•°æ®åº“å’Œgolangçš„Dockerfileä¹¦å†™ç¬”è®°" class="headerlink" title="è®°å½•ä¸€ä¸ªæœ‰sqlite3æ•°æ®åº“å’Œgolangçš„Dockerfileä¹¦å†™ç¬”è®°"></a>è®°å½•ä¸€ä¸ªæœ‰sqlite3æ•°æ®åº“å’Œgolangçš„Dockerfileä¹¦å†™ç¬”è®°</h2><h3 id="ä»¥ubuntuä¸ºåŸºç¡€é•œåƒ"><a href="#ä»¥ubuntuä¸ºåŸºç¡€é•œåƒ" class="headerlink" title="ä»¥ubuntuä¸ºåŸºç¡€é•œåƒ"></a>ä»¥ubuntuä¸ºåŸºç¡€é•œåƒ</h3><pre class="line-numbers language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">FROM ubuntu:latest As build# é…ç½®ç¯å¢ƒå˜é‡ENV GOROOT=/usr/lib/goENV PATH=$PATH:/usr/lib/go/binENV GOPATH=/root/goENV PATH=$GOPATH/bin/:$PATHENV DEBIAN_FRONTEND=noninteractive# æ‰§è¡Œå‘½ä»¤RUN set -x; buildDeps='gcc libc6-dev make wget' \    &amp;&amp; apt-get update\    &amp;&amp; apt-get install -y $buildDeps \    &amp;&amp; wget https://go.dev/dl/go1.17.5.linux-amd64.tar.gz\    &amp;&amp; tar -xzvf go1.17.5.linux-amd64.tar.gz -C /usr/lib\    &amp;&amp; export GOROOT=/usr/lib/go \    &amp;&amp; ln -s /usr/local/go/bin/* /usr/bin/ \    &amp;&amp; export PATH=$PATH:/usr/lib/go/bin \    &amp;&amp; export GOPATH=/root/go\    &amp;&amp; export PATH=$GOPATH/bin/:$PATH\    &amp;&amp; rm go1.17.5.linux-amd64.tar.gz\    &amp;&amp; wget https://www.sqlite.org/2021/sqlite-autoconf-3370000.tar.gz\    &amp;&amp; tar -xzvf sqlite-autoconf-3370000.tar.gz -C /usr/lib\    &amp;&amp; rm sqlite-autoconf-3370000.tar.gz\    &amp;&amp; cd /usr/lib/sqlite-autoconf-3370000\    &amp;&amp; ./configure --prefix=/usr/local \    &amp;&amp; make \    &amp;&amp; make install \    &amp;&amp; cd .. \    &amp;&amp; mkdir /authCOPY . /auth/WORKDIR /authEXPOSE 8000#å®‰è£…åº“ä¾èµ–é¡¹RUN go mod tidy\    &amp;&amp; go build -o server\    &amp;&amp; apt-get purge -y --auto-remove $buildDeps####FROM ubuntu:latest as final#é•œåƒæ„å»ºå‚æ•°COPY --from=build /auth/server .CMD ["/server"]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>Go</code>é¡¹ç›®åº”ç”¨çš„<code>Dockerfile</code>é€šå¸¸å¤§æ¦‚ç±»ä¼¼è¿™æ ·ï¼Œä½†æ˜¯æ¯ä¸ªé¡¹ç›®çš„ç»†èŠ‚å¯èƒ½æœ‰æ‰€ä¸åŒã€‚<code>FROM ubuntu:latest</code>æŒ‡å®šäº†å¼€å§‹é˜¶æ®µçš„åŸºç¡€æ˜ åƒï¼ˆå…¶ä¸­åŒ…å«ubuntuçš„æ“ä½œç³»ç»Ÿï¼Œæ— å·¥å…·å’Œåº“ï¼Œç”¨äºæ„å»ºç¨‹åºï¼‰ï¼Œ<code>AS build</code>æ˜¯ç»™è¿™ä¸ªé˜¶æ®µå–åä¸º<code>build</code>ã€‚</p><p>ubuntuæ˜¯ä¸“é—¨ä¸ºå®¹å™¨è®¾è®¡çš„å°å‹<code>Linux</code>å‘è¡Œç‰ˆã€‚è¿™ä¸ª<code>Dockerfile</code>ä¸­ä½¿ç”¨äº†ä¸¤æ¬¡<code>FROM</code>æŒ‡ä»¤ï¼Œç¬¬äºŒæ¡<code>FROM ubuntu</code>è¡Œï¼Œå®ƒå‘Šè¯‰<code>Docker</code>ä»ä¸€ä¸ªå…¨æ–°çš„ï¼Œå®Œå…¨ç©ºçš„å®¹å™¨é•œåƒé‡æ–°å¼€å§‹ï¼Œç„¶åå°†ä¸Šä¸ªé˜¶æ®µç¼–è¯‘å¥½çš„ç¨‹åºå¤åˆ¶åˆ°å…¶ä¸­ã€‚è¿™ä¸ªæ‰æ˜¯æˆ‘ä»¬éšåå°†ç”¨äºè¿è¡Œçš„<code>Go</code>åº”ç”¨ç¨‹åºçš„å®¹å™¨é•œåƒã€‚</p><p><code>Docker</code>ç”¨äº<code>Go</code>ç¨‹åºçš„å¤šé˜¶æ®µæ„å»ºå¾ˆå¸¸è§ï¼Œä½¿ç”¨<code>æ–°çš„</code>é•œåƒå¯ä»¥èŠ‚çœå¤§é‡ç©ºé—´ï¼Œå› ä¸ºæˆ‘ä»¬å®é™…ä¸Šä¸éœ€è¦<code>Go</code>å·¥å…·æˆ–å…¶ä»–ä»»ä½•ä¸œè¥¿æ¥è¿è¡Œæˆ‘ä»¬çš„ç¼–è¯‘å¥½çš„ç¨‹åºï¼Œè¿™å¯èƒ½ä¹Ÿæ˜¯<code>Go</code>åœ¨å®¹å™¨æ—¶ä»£çš„ä¸€ä¸ªä¼˜åŠ¿å§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¬”è®° </tag>
            
            <tag> Docker </tag>
            
            <tag> Dockerfile </tag>
            
            <tag> Golang </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»€ä¹ˆæ˜¯æ¶ˆæ¯é˜Ÿåˆ—</title>
      <link href="/hypo-Z.github.io/2021/12/20/24-shi-me-shi-xiao-xi-dui-lie/"/>
      <url>/hypo-Z.github.io/2021/12/20/24-shi-me-shi-xiao-xi-dui-lie/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯æ¶ˆæ¯é˜Ÿåˆ—"><a href="#ä»€ä¹ˆæ˜¯æ¶ˆæ¯é˜Ÿåˆ—" class="headerlink" title="ä»€ä¹ˆæ˜¯æ¶ˆæ¯é˜Ÿåˆ—"></a>ä»€ä¹ˆæ˜¯æ¶ˆæ¯é˜Ÿåˆ—</h1><h2 id="ä¸€ã€æ¶ˆæ¯æ¨¡å‹"><a href="#ä¸€ã€æ¶ˆæ¯æ¨¡å‹" class="headerlink" title="ä¸€ã€æ¶ˆæ¯æ¨¡å‹"></a>ä¸€ã€æ¶ˆæ¯æ¨¡å‹</h2><h3 id="ç‚¹å¯¹ç‚¹"><a href="#ç‚¹å¯¹ç‚¹" class="headerlink" title="ç‚¹å¯¹ç‚¹"></a>ç‚¹å¯¹ç‚¹</h3><p>æ¶ˆæ¯ç”Ÿäº§è€…å‘æ¶ˆæ¯é˜Ÿåˆ—ä¸­å‘é€äº†ä¸€ä¸ªæ¶ˆæ¯ä¹‹åï¼Œåªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ä¸€æ¬¡ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/image-20191212011250613.png" alt="img"></p><h3 id="å‘å¸ƒ-è®¢é˜…"><a href="#å‘å¸ƒ-è®¢é˜…" class="headerlink" title="å‘å¸ƒ/è®¢é˜…"></a>å‘å¸ƒ/è®¢é˜…</h3><p>æ¶ˆæ¯ç”Ÿäº§è€…å‘é¢‘é“å‘é€ä¸€ä¸ªæ¶ˆæ¯ä¹‹åï¼Œå¤šä¸ªæ¶ˆè´¹è€…å¯ä»¥ä»è¯¥é¢‘é“è®¢é˜…åˆ°è¿™æ¡æ¶ˆæ¯å¹¶æ¶ˆè´¹ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/image-20191212011410374.png" alt="img"></p><p>å‘å¸ƒä¸è®¢é˜…æ¨¡å¼å’Œè§‚å¯Ÿè€…æ¨¡å¼æœ‰ä»¥ä¸‹ä¸åŒï¼š</p><ul><li>è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œè§‚å¯Ÿè€…å’Œä¸»é¢˜éƒ½çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ï¼›è€Œåœ¨å‘å¸ƒä¸è®¢é˜…æ¨¡å¼ä¸­ï¼Œç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…ä¸çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ï¼Œå®ƒä»¬ä¹‹é—´é€šè¿‡é¢‘é“è¿›è¡Œé€šä¿¡ã€‚</li><li>è§‚å¯Ÿè€…æ¨¡å¼æ˜¯åŒæ­¥çš„ï¼Œå½“äº‹ä»¶è§¦å‘æ—¶ï¼Œä¸»é¢˜ä¼šè°ƒç”¨è§‚å¯Ÿè€…çš„æ–¹æ³•ï¼Œç„¶åç­‰å¾…æ–¹æ³•è¿”å›ï¼›è€Œå‘å¸ƒä¸è®¢é˜…æ¨¡å¼æ˜¯å¼‚æ­¥çš„ï¼Œç”Ÿäº§è€…å‘é¢‘é“å‘é€ä¸€ä¸ªæ¶ˆæ¯ä¹‹åï¼Œå°±ä¸éœ€è¦å…³å¿ƒæ¶ˆè´¹è€…ä½•æ—¶å»è®¢é˜…è¿™ä¸ªæ¶ˆæ¯ï¼Œå¯ä»¥ç«‹å³è¿”å›ã€‚</li></ul><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/image-20191212011747967.png" alt="img"></p><h2 id="äºŒã€ä½¿ç”¨åœºæ™¯"><a href="#äºŒã€ä½¿ç”¨åœºæ™¯" class="headerlink" title="äºŒã€ä½¿ç”¨åœºæ™¯"></a>äºŒã€ä½¿ç”¨åœºæ™¯</h2><h3 id="å¼‚æ­¥å¤„ç†"><a href="#å¼‚æ­¥å¤„ç†" class="headerlink" title="å¼‚æ­¥å¤„ç†"></a>å¼‚æ­¥å¤„ç†</h3><p>å‘é€è€…å°†æ¶ˆæ¯å‘é€ç»™æ¶ˆæ¯é˜Ÿåˆ—ä¹‹åï¼Œä¸éœ€è¦åŒæ­¥ç­‰å¾…æ¶ˆæ¯æ¥æ”¶è€…å¤„ç†å®Œæ¯•ï¼Œè€Œæ˜¯ç«‹å³è¿”å›è¿›è¡Œå…¶å®ƒæ“ä½œã€‚æ¶ˆæ¯æ¥æ”¶è€…ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­è®¢é˜…æ¶ˆæ¯ä¹‹åå¼‚æ­¥å¤„ç†ã€‚</p><p>ä¾‹å¦‚åœ¨æ³¨å†Œæµç¨‹ä¸­é€šå¸¸éœ€è¦å‘é€éªŒè¯é‚®ä»¶æ¥ç¡®ä¿æ³¨å†Œç”¨æˆ·èº«ä»½çš„åˆæ³•æ€§ï¼Œå¯ä»¥ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ä½¿å‘é€éªŒè¯é‚®ä»¶çš„æ“ä½œå¼‚æ­¥å¤„ç†ï¼Œç”¨æˆ·åœ¨å¡«å†™å®Œæ³¨å†Œä¿¡æ¯ä¹‹åå°±å¯ä»¥å®Œæˆæ³¨å†Œï¼Œè€Œå°†å‘é€éªŒè¯é‚®ä»¶è¿™ä¸€æ¶ˆæ¯å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ã€‚</p><p>åªæœ‰åœ¨ä¸šåŠ¡æµç¨‹å…è®¸å¼‚æ­¥å¤„ç†çš„æƒ…å†µä¸‹æ‰èƒ½è¿™ä¹ˆåšï¼Œä¾‹å¦‚ä¸Šé¢çš„æ³¨å†Œæµç¨‹ä¸­ï¼Œå¦‚æœè¦æ±‚ç”¨æˆ·å¯¹éªŒè¯é‚®ä»¶è¿›è¡Œç‚¹å‡»ä¹‹åæ‰èƒ½å®Œæˆæ³¨å†Œçš„è¯ï¼Œå°±ä¸èƒ½å†ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ã€‚</p><h3 id="æµé‡å‰Šé”‹"><a href="#æµé‡å‰Šé”‹" class="headerlink" title="æµé‡å‰Šé”‹"></a>æµé‡å‰Šé”‹</h3><p>åœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œå¦‚æœçŸ­æ—¶é—´æœ‰å¤§é‡çš„è¯·æ±‚åˆ°è¾¾ä¼šå‹å®æœåŠ¡å™¨ã€‚</p><p>å¯ä»¥å°†è¯·æ±‚å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼ŒæœåŠ¡å™¨æŒ‰ç…§å…¶å¤„ç†èƒ½åŠ›ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­è®¢é˜…æ¶ˆæ¯è¿›è¡Œå¤„ç†ã€‚</p><h3 id="åº”ç”¨è§£è€¦"><a href="#åº”ç”¨è§£è€¦" class="headerlink" title="åº”ç”¨è§£è€¦"></a>åº”ç”¨è§£è€¦</h3><p>å¦‚æœæ¨¡å—ä¹‹é—´ä¸ç›´æ¥è¿›è¡Œè°ƒç”¨ï¼Œæ¨¡å—ä¹‹é—´è€¦åˆåº¦å°±ä¼šå¾ˆä½ï¼Œé‚£ä¹ˆä¿®æ”¹ä¸€ä¸ªæ¨¡å—æˆ–è€…æ–°å¢ä¸€ä¸ªæ¨¡å—å¯¹å…¶å®ƒæ¨¡å—çš„å½±å“ä¼šå¾ˆå°ï¼Œä»è€Œå®ç°å¯æ‰©å±•æ€§ã€‚</p><p>é€šè¿‡ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸€ä¸ªæ¨¡å—åªéœ€è¦å‘æ¶ˆæ¯é˜Ÿåˆ—ä¸­å‘é€æ¶ˆæ¯ï¼Œå…¶å®ƒæ¨¡å—å¯ä»¥é€‰æ‹©æ€§åœ°ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­è®¢é˜…æ¶ˆæ¯ä»è€Œå®Œæˆè°ƒç”¨ã€‚</p><h2 id="ä¸‰ã€å¯é æ€§"><a href="#ä¸‰ã€å¯é æ€§" class="headerlink" title="ä¸‰ã€å¯é æ€§"></a>ä¸‰ã€å¯é æ€§</h2><h3 id="å‘é€ç«¯çš„å¯é æ€§"><a href="#å‘é€ç«¯çš„å¯é æ€§" class="headerlink" title="å‘é€ç«¯çš„å¯é æ€§"></a>å‘é€ç«¯çš„å¯é æ€§</h3><p>å‘é€ç«¯å®Œæˆæ“ä½œåä¸€å®šèƒ½å°†æ¶ˆæ¯æˆåŠŸå‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ã€‚</p><p>å®ç°æ–¹æ³•ï¼šåœ¨æœ¬åœ°æ•°æ®åº“å»ºä¸€å¼ æ¶ˆæ¯è¡¨ï¼Œå°†æ¶ˆæ¯æ•°æ®ä¸ä¸šåŠ¡æ•°æ®ä¿å­˜åœ¨åŒä¸€æ•°æ®åº“å®ä¾‹é‡Œï¼Œè¿™æ ·å°±å¯ä»¥åˆ©ç”¨æœ¬åœ°æ•°æ®åº“çš„äº‹åŠ¡æœºåˆ¶ã€‚äº‹åŠ¡æäº¤æˆåŠŸåï¼Œå°†æ¶ˆæ¯è¡¨ä¸­çš„æ¶ˆæ¯è½¬ç§»åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œè‹¥è½¬ç§»æ¶ˆæ¯æˆåŠŸåˆ™åˆ é™¤æ¶ˆæ¯è¡¨ä¸­çš„æ•°æ®ï¼Œå¦åˆ™ç»§ç»­é‡ä¼ ã€‚</p><h3 id="æ¥æ”¶ç«¯çš„å¯é æ€§"><a href="#æ¥æ”¶ç«¯çš„å¯é æ€§" class="headerlink" title="æ¥æ”¶ç«¯çš„å¯é æ€§"></a>æ¥æ”¶ç«¯çš„å¯é æ€§</h3><p>æ¥æ”¶ç«¯èƒ½å¤Ÿä»æ¶ˆæ¯é˜Ÿåˆ—æˆåŠŸæ¶ˆè´¹ä¸€æ¬¡æ¶ˆæ¯ã€‚</p><p>ä¸¤ç§å®ç°æ–¹æ³•ï¼š</p><ul><li>ä¿è¯æ¥æ”¶ç«¯å¤„ç†æ¶ˆæ¯çš„ä¸šåŠ¡é€»è¾‘å…·æœ‰å¹‚ç­‰æ€§ï¼šåªè¦å…·æœ‰å¹‚ç­‰æ€§ï¼Œé‚£ä¹ˆæ¶ˆè´¹å¤šå°‘æ¬¡æ¶ˆæ¯ï¼Œæœ€åå¤„ç†çš„ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ã€‚</li><li>ä¿è¯æ¶ˆæ¯å…·æœ‰å”¯ä¸€ç¼–å·ï¼Œå¹¶ä½¿ç”¨ä¸€å¼ æ—¥å¿—è¡¨æ¥è®°å½•å·²ç»æ¶ˆè´¹çš„æ¶ˆæ¯ç¼–å·ã€‚</li></ul><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul><li><a href="http://developers-club.com/posts/270339/">Observer vs Pub-Sub(opens new window)</a></li><li><a href="https://blog.csdn.net/lizhitao/article/details/47723105">æ¶ˆæ¯é˜Ÿåˆ—ä¸­ç‚¹å¯¹ç‚¹ä¸å‘å¸ƒè®¢é˜…åŒºåˆ«</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> è½¬è½½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ–‡ç«  </tag>
            
            <tag> è½¬è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ï¼Ÿ</title>
      <link href="/hypo-Z.github.io/2021/12/17/23-shi-me-shi-fen-bu-shi/"/>
      <url>/hypo-Z.github.io/2021/12/17/23-shi-me-shi-fen-bu-shi/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ï¼Ÿ</h1><h2 id="ä¸€ã€åˆ†å¸ƒå¼é”"><a href="#ä¸€ã€åˆ†å¸ƒå¼é”" class="headerlink" title="ä¸€ã€åˆ†å¸ƒå¼é”"></a>ä¸€ã€åˆ†å¸ƒå¼é”</h2><p>åœ¨å•æœºåœºæ™¯ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨è¯­è¨€çš„å†…ç½®é”æ¥å®ç°è¿›ç¨‹åŒæ­¥ã€‚ä½†æ˜¯åœ¨åˆ†å¸ƒå¼åœºæ™¯ä¸‹ï¼Œéœ€è¦åŒæ­¥çš„è¿›ç¨‹å¯èƒ½ä½äºä¸åŒçš„èŠ‚ç‚¹ä¸Šï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨åˆ†å¸ƒå¼é”ã€‚</p><p>é˜»å¡é”é€šå¸¸ä½¿ç”¨äº’æ–¥é‡æ¥å®ç°ï¼š</p><ul><li>äº’æ–¥é‡ä¸º 0 è¡¨ç¤ºæœ‰å…¶å®ƒè¿›ç¨‹åœ¨ä½¿ç”¨é”ï¼Œæ­¤æ—¶å¤„äºé”å®šçŠ¶æ€ï¼›</li><li>äº’æ–¥é‡ä¸º 1 è¡¨ç¤ºæœªé”å®šçŠ¶æ€ã€‚</li></ul><p>1 å’Œ 0 å¯ä»¥ç”¨ä¸€ä¸ªæ•´å‹å€¼è¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥ç”¨æŸä¸ªæ•°æ®æ˜¯å¦å­˜åœ¨è¡¨ç¤ºã€‚</p><h3 id="æ•°æ®åº“çš„å”¯ä¸€ç´¢å¼•"><a href="#æ•°æ®åº“çš„å”¯ä¸€ç´¢å¼•" class="headerlink" title="æ•°æ®åº“çš„å”¯ä¸€ç´¢å¼•"></a>æ•°æ®åº“çš„å”¯ä¸€ç´¢å¼•</h3><p>è·å¾—é”æ—¶å‘è¡¨ä¸­æ’å…¥ä¸€æ¡è®°å½•ï¼Œé‡Šæ”¾é”æ—¶åˆ é™¤è¿™æ¡è®°å½•ã€‚å”¯ä¸€ç´¢å¼•å¯ä»¥ä¿è¯è¯¥è®°å½•åªè¢«æ’å…¥ä¸€æ¬¡ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç”¨è¿™ä¸ªè®°å½•æ˜¯å¦å­˜åœ¨æ¥åˆ¤æ–­æ˜¯å¦å¤„äºé”å®šçŠ¶æ€ã€‚</p><p>å­˜åœ¨ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</p><ul><li>é”æ²¡æœ‰å¤±æ•ˆæ—¶é—´ï¼Œè§£é”å¤±è´¥çš„è¯å…¶å®ƒè¿›ç¨‹æ— æ³•å†è·å¾—è¯¥é”ï¼›</li><li>åªèƒ½æ˜¯éé˜»å¡é”ï¼Œæ’å…¥å¤±è´¥ç›´æ¥å°±æŠ¥é”™äº†ï¼Œæ— æ³•é‡è¯•ï¼›</li><li>ä¸å¯é‡å…¥ï¼Œå·²ç»è·å¾—é”çš„è¿›ç¨‹ä¹Ÿå¿…é¡»é‡æ–°è·å–é”ã€‚</li></ul><h3 id="Redis-çš„-SETNX-æŒ‡ä»¤"><a href="#Redis-çš„-SETNX-æŒ‡ä»¤" class="headerlink" title="Redis çš„ SETNX æŒ‡ä»¤"></a>Redis çš„ SETNX æŒ‡ä»¤</h3><p>ä½¿ç”¨ SETNXï¼ˆset if not existï¼‰æŒ‡ä»¤æ’å…¥ä¸€ä¸ªé”®å€¼å¯¹ï¼Œå¦‚æœ Key å·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆä¼šè¿”å› Falseï¼Œå¦åˆ™æ’å…¥æˆåŠŸå¹¶è¿”å› Trueã€‚</p><p>SETNX æŒ‡ä»¤å’Œæ•°æ®åº“çš„å”¯ä¸€ç´¢å¼•ç±»ä¼¼ï¼Œä¿è¯äº†åªå­˜åœ¨ä¸€ä¸ª Key çš„é”®å€¼å¯¹ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨ä¸€ä¸ª Key çš„é”®å€¼å¯¹æ˜¯å¦å­˜åœ¨æ¥åˆ¤æ–­æ˜¯å¦å­˜äºé”å®šçŠ¶æ€ã€‚</p><p>EXPIRE æŒ‡ä»¤å¯ä»¥ä¸ºä¸€ä¸ªé”®å€¼å¯¹è®¾ç½®ä¸€ä¸ªè¿‡æœŸæ—¶é—´ï¼Œä»è€Œé¿å…äº†æ•°æ®åº“å”¯ä¸€ç´¢å¼•å®ç°æ–¹å¼ä¸­é‡Šæ”¾é”å¤±è´¥çš„é—®é¢˜ã€‚</p><h3 id="Redis-çš„-RedLock-ç®—æ³•"><a href="#Redis-çš„-RedLock-ç®—æ³•" class="headerlink" title="Redis çš„ RedLock ç®—æ³•"></a>Redis çš„ RedLock ç®—æ³•</h3><p>ä½¿ç”¨äº†å¤šä¸ª Redis å®ä¾‹æ¥å®ç°åˆ†å¸ƒå¼é”ï¼Œè¿™æ˜¯ä¸ºäº†ä¿è¯åœ¨å‘ç”Ÿå•ç‚¹æ•…éšœæ—¶ä»ç„¶å¯ç”¨ã€‚</p><ul><li>å°è¯•ä» N ä¸ªäº’ç›¸ç‹¬ç«‹ Redis å®ä¾‹è·å–é”ï¼›</li><li>è®¡ç®—è·å–é”æ¶ˆè€—çš„æ—¶é—´ï¼Œåªæœ‰æ—¶é—´å°äºé”çš„è¿‡æœŸæ—¶é—´ï¼Œå¹¶ä¸”ä»å¤§å¤šæ•°ï¼ˆN / 2 + 1ï¼‰å®ä¾‹ä¸Šè·å–äº†é”ï¼Œæ‰è®¤ä¸ºè·å–é”æˆåŠŸï¼›</li><li>å¦‚æœè·å–é”å¤±è´¥ï¼Œå°±åˆ°æ¯ä¸ªå®ä¾‹ä¸Šé‡Šæ”¾é”ã€‚</li></ul><h3 id="Zookeeper-çš„æœ‰åºèŠ‚ç‚¹"><a href="#Zookeeper-çš„æœ‰åºèŠ‚ç‚¹" class="headerlink" title="Zookeeper çš„æœ‰åºèŠ‚ç‚¹"></a>Zookeeper çš„æœ‰åºèŠ‚ç‚¹</h3><h4 id="æŠ½è±¡æ¨¡å‹"><a href="#æŠ½è±¡æ¨¡å‹" class="headerlink" title="æŠ½è±¡æ¨¡å‹"></a>æŠ½è±¡æ¨¡å‹</h4><p>Zookeeper æä¾›äº†ä¸€ç§æ ‘å½¢ç»“æ„çš„å‘½åç©ºé—´ï¼Œ/app1/p_1 èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¸º /app1ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/aefa8042-15fa-4e8b-9f50-20b282a2c624.png"></p><h4 id="2-èŠ‚ç‚¹ç±»å‹"><a href="#2-èŠ‚ç‚¹ç±»å‹" class="headerlink" title="2. èŠ‚ç‚¹ç±»å‹"></a>2. èŠ‚ç‚¹ç±»å‹</h4><ul><li>æ°¸ä¹…èŠ‚ç‚¹ï¼šä¸ä¼šå› ä¸ºä¼šè¯ç»“æŸæˆ–è€…è¶…æ—¶è€Œæ¶ˆå¤±ï¼›</li><li>ä¸´æ—¶èŠ‚ç‚¹ï¼šå¦‚æœä¼šè¯ç»“æŸæˆ–è€…è¶…æ—¶å°±ä¼šæ¶ˆå¤±ï¼›</li><li>æœ‰åºèŠ‚ç‚¹ï¼šä¼šåœ¨èŠ‚ç‚¹åçš„åé¢åŠ ä¸€ä¸ªæ•°å­—åç¼€ï¼Œå¹¶ä¸”æ˜¯æœ‰åºçš„ï¼Œä¾‹å¦‚ç”Ÿæˆçš„æœ‰åºèŠ‚ç‚¹ä¸º /lock/node-0000000000ï¼Œå®ƒçš„ä¸‹ä¸€ä¸ªæœ‰åºèŠ‚ç‚¹åˆ™ä¸º /lock/node-0000000001ï¼Œä»¥æ­¤ç±»æ¨ã€‚</li></ul><h4 id="3-ç›‘å¬å™¨"><a href="#3-ç›‘å¬å™¨" class="headerlink" title="3. ç›‘å¬å™¨"></a>3. ç›‘å¬å™¨</h4><p>ä¸ºä¸€ä¸ªèŠ‚ç‚¹æ³¨å†Œç›‘å¬å™¨ï¼Œåœ¨èŠ‚ç‚¹çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¼šç»™å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯ã€‚</p><h4 id="4-åˆ†å¸ƒå¼é”å®ç°"><a href="#4-åˆ†å¸ƒå¼é”å®ç°" class="headerlink" title="4. åˆ†å¸ƒå¼é”å®ç°"></a>4. åˆ†å¸ƒå¼é”å®ç°</h4><ul><li>åˆ›å»ºä¸€ä¸ªé”ç›®å½• /lockï¼›</li><li>å½“ä¸€ä¸ªå®¢æˆ·ç«¯éœ€è¦è·å–é”æ—¶ï¼Œåœ¨ /lock ä¸‹åˆ›å»ºä¸´æ—¶çš„ä¸”æœ‰åºçš„å­èŠ‚ç‚¹ï¼›</li><li>å®¢æˆ·ç«¯è·å– /lock ä¸‹çš„å­èŠ‚ç‚¹åˆ—è¡¨ï¼Œåˆ¤æ–­è‡ªå·±åˆ›å»ºçš„å­èŠ‚ç‚¹æ˜¯å¦ä¸ºå½“å‰å­èŠ‚ç‚¹åˆ—è¡¨ä¸­åºå·æœ€å°çš„å­èŠ‚ç‚¹ï¼Œå¦‚æœæ˜¯åˆ™è®¤ä¸ºè·å¾—é”ï¼›å¦åˆ™ç›‘å¬è‡ªå·±çš„å‰ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œè·å¾—å­èŠ‚ç‚¹çš„å˜æ›´é€šçŸ¥åé‡å¤æ­¤æ­¥éª¤ç›´è‡³è·å¾—é”ï¼›</li><li>æ‰§è¡Œä¸šåŠ¡ä»£ç ï¼Œå®Œæˆåï¼Œåˆ é™¤å¯¹åº”çš„å­èŠ‚ç‚¹ã€‚</li></ul><h4 id="5-ä¼šè¯è¶…æ—¶"><a href="#5-ä¼šè¯è¶…æ—¶" class="headerlink" title="5. ä¼šè¯è¶…æ—¶"></a>5. ä¼šè¯è¶…æ—¶</h4><p>å¦‚æœä¸€ä¸ªå·²ç»è·å¾—é”çš„ä¼šè¯è¶…æ—¶äº†ï¼Œå› ä¸ºåˆ›å»ºçš„æ˜¯ä¸´æ—¶èŠ‚ç‚¹ï¼Œæ‰€ä»¥è¯¥ä¼šè¯å¯¹åº”çš„ä¸´æ—¶èŠ‚ç‚¹ä¼šè¢«åˆ é™¤ï¼Œå…¶å®ƒä¼šè¯å°±å¯ä»¥è·å¾—é”äº†ã€‚å¯ä»¥çœ‹åˆ°ï¼Œè¿™ç§å®ç°æ–¹å¼ä¸ä¼šå‡ºç°æ•°æ®åº“çš„å”¯ä¸€ç´¢å¼•å®ç°æ–¹å¼é‡Šæ”¾é”å¤±è´¥çš„é—®é¢˜ã€‚</p><h4 id="6-ç¾Šç¾¤æ•ˆåº”"><a href="#6-ç¾Šç¾¤æ•ˆåº”" class="headerlink" title="6. ç¾Šç¾¤æ•ˆåº”"></a>6. ç¾Šç¾¤æ•ˆåº”</h4><p>ä¸€ä¸ªèŠ‚ç‚¹æœªè·å¾—é”ï¼Œåªéœ€è¦ç›‘å¬è‡ªå·±çš„å‰ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œè¿™æ˜¯å› ä¸ºå¦‚æœç›‘å¬æ‰€æœ‰çš„å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä»»æ„ä¸€ä¸ªå­èŠ‚ç‚¹çŠ¶æ€æ”¹å˜ï¼Œå…¶å®ƒæ‰€æœ‰å­èŠ‚ç‚¹éƒ½ä¼šæ”¶åˆ°é€šçŸ¥ï¼ˆç¾Šç¾¤æ•ˆåº”ï¼Œä¸€åªç¾ŠåŠ¨èµ·æ¥ï¼Œå…¶å®ƒç¾Šä¹Ÿä¼šä¸€å“„è€Œä¸Šï¼‰ï¼Œè€Œæˆ‘ä»¬åªå¸Œæœ›å®ƒçš„åä¸€ä¸ªå­èŠ‚ç‚¹æ”¶åˆ°é€šçŸ¥ã€‚</p><h2 id="äºŒã€åˆ†å¸ƒå¼äº‹åŠ¡"><a href="#äºŒã€åˆ†å¸ƒå¼äº‹åŠ¡" class="headerlink" title="äºŒã€åˆ†å¸ƒå¼äº‹åŠ¡"></a>äºŒã€åˆ†å¸ƒå¼äº‹åŠ¡</h2><p>æŒ‡äº‹åŠ¡çš„æ“ä½œä½äºä¸åŒçš„èŠ‚ç‚¹ä¸Šï¼Œéœ€è¦ä¿è¯äº‹åŠ¡çš„ ACID ç‰¹æ€§ã€‚</p><p>ä¾‹å¦‚åœ¨ä¸‹å•åœºæ™¯ä¸‹ï¼Œåº“å­˜å’Œè®¢å•å¦‚æœä¸åœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œå°±æ¶‰åŠåˆ†å¸ƒå¼äº‹åŠ¡ã€‚</p><p>åˆ†å¸ƒå¼é”å’Œåˆ†å¸ƒå¼äº‹åŠ¡åŒºåˆ«ï¼š</p><ul><li>é”é—®é¢˜çš„å…³é”®åœ¨äºè¿›ç¨‹æ“ä½œçš„äº’æ–¥å…³ç³»ï¼Œä¾‹å¦‚å¤šä¸ªè¿›ç¨‹åŒæ—¶ä¿®æ”¹è´¦æˆ·çš„ä½™é¢ï¼Œå¦‚æœæ²¡æœ‰äº’æ–¥å…³ç³»åˆ™ä¼šå¯¼è‡´è¯¥è´¦æˆ·çš„ä½™é¢ä¸æ­£ç¡®ã€‚</li><li>è€Œäº‹åŠ¡é—®é¢˜çš„å…³é”®åˆ™åœ¨äºäº‹åŠ¡æ¶‰åŠçš„ä¸€ç³»åˆ—æ“ä½œéœ€è¦æ»¡è¶³ ACID ç‰¹æ€§ï¼Œä¾‹å¦‚è¦æ»¡è¶³åŸå­æ€§æ“ä½œåˆ™éœ€è¦è¿™äº›æ“ä½œè¦ä¹ˆéƒ½æ‰§è¡Œï¼Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œã€‚</li></ul><h3 id="2PC"><a href="#2PC" class="headerlink" title="2PC"></a>2PC</h3><p>ä¸¤é˜¶æ®µæäº¤ï¼ˆTwo-phase Commitï¼Œ2PCï¼‰ï¼Œé€šè¿‡å¼•å…¥åè°ƒè€…ï¼ˆCoordinatorï¼‰æ¥åè°ƒå‚ä¸è€…çš„è¡Œä¸ºï¼Œå¹¶æœ€ç»ˆå†³å®šè¿™äº›å‚ä¸è€…æ˜¯å¦è¦çœŸæ­£æ‰§è¡Œäº‹åŠ¡ã€‚</p><h4 id="1-è¿è¡Œè¿‡ç¨‹"><a href="#1-è¿è¡Œè¿‡ç¨‹" class="headerlink" title="1. è¿è¡Œè¿‡ç¨‹"></a>1. è¿è¡Œè¿‡ç¨‹</h4><h5 id="1-1-å‡†å¤‡é˜¶æ®µ"><a href="#1-1-å‡†å¤‡é˜¶æ®µ" class="headerlink" title="1.1 å‡†å¤‡é˜¶æ®µ"></a>1.1 å‡†å¤‡é˜¶æ®µ</h5><p>åè°ƒè€…è¯¢é—®å‚ä¸è€…äº‹åŠ¡æ˜¯å¦æ‰§è¡ŒæˆåŠŸï¼Œå‚ä¸è€…å‘å›äº‹åŠ¡æ‰§è¡Œç»“æœã€‚è¯¢é—®å¯ä»¥çœ‹æˆä¸€ç§æŠ•ç¥¨ï¼Œéœ€è¦å‚ä¸è€…éƒ½åŒæ„æ‰èƒ½æ‰§è¡Œã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/44d33643-1004-43a3-b99a-4d688a08d0a1.png"></p><h5 id="1-2-æäº¤é˜¶æ®µ"><a href="#1-2-æäº¤é˜¶æ®µ" class="headerlink" title="1.2 æäº¤é˜¶æ®µ"></a>1.2 æäº¤é˜¶æ®µ</h5><p>å¦‚æœäº‹åŠ¡åœ¨æ¯ä¸ªå‚ä¸è€…ä¸Šéƒ½æ‰§è¡ŒæˆåŠŸï¼Œäº‹åŠ¡åè°ƒè€…å‘é€é€šçŸ¥è®©å‚ä¸è€…æäº¤äº‹åŠ¡ï¼›å¦åˆ™ï¼Œåè°ƒè€…å‘é€é€šçŸ¥è®©å‚ä¸è€…å›æ»šäº‹åŠ¡ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨å‡†å¤‡é˜¶æ®µï¼Œå‚ä¸è€…æ‰§è¡Œäº†äº‹åŠ¡ï¼Œä½†æ˜¯è¿˜æœªæäº¤ã€‚åªæœ‰åœ¨æäº¤é˜¶æ®µæ¥æ”¶åˆ°åè°ƒè€…å‘æ¥çš„é€šçŸ¥åï¼Œæ‰è¿›è¡Œæäº¤æˆ–è€…å›æ»šã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/d2ae9932-e2b1-4191-8ee9-e573f36d3895.png"></p><h4 id="2-å­˜åœ¨çš„é—®é¢˜"><a href="#2-å­˜åœ¨çš„é—®é¢˜" class="headerlink" title="2. å­˜åœ¨çš„é—®é¢˜"></a>2. å­˜åœ¨çš„é—®é¢˜</h4><h5 id="2-1-åŒæ­¥é˜»å¡"><a href="#2-1-åŒæ­¥é˜»å¡" class="headerlink" title="2.1 åŒæ­¥é˜»å¡"></a>2.1 åŒæ­¥é˜»å¡</h5><p>æ‰€æœ‰äº‹åŠ¡å‚ä¸è€…åœ¨ç­‰å¾…å…¶å®ƒå‚ä¸è€…å“åº”çš„æ—¶å€™éƒ½å¤„äºåŒæ­¥é˜»å¡ç­‰å¾…çŠ¶æ€ï¼Œæ— æ³•è¿›è¡Œå…¶å®ƒæ“ä½œã€‚</p><h5 id="2-2-å•ç‚¹é—®é¢˜"><a href="#2-2-å•ç‚¹é—®é¢˜" class="headerlink" title="2.2 å•ç‚¹é—®é¢˜"></a>2.2 å•ç‚¹é—®é¢˜</h5><p>åè°ƒè€…åœ¨ 2PC ä¸­èµ·åˆ°éå¸¸å¤§çš„ä½œç”¨ï¼Œå‘ç”Ÿæ•…éšœå°†ä¼šé€ æˆå¾ˆå¤§å½±å“ã€‚ç‰¹åˆ«æ˜¯åœ¨æäº¤é˜¶æ®µå‘ç”Ÿæ•…éšœï¼Œæ‰€æœ‰å‚ä¸è€…ä¼šä¸€ç›´åŒæ­¥é˜»å¡ç­‰å¾…ï¼Œæ— æ³•å®Œæˆå…¶å®ƒæ“ä½œã€‚</p><h5 id="2-3-æ•°æ®ä¸ä¸€è‡´"><a href="#2-3-æ•°æ®ä¸ä¸€è‡´" class="headerlink" title="2.3 æ•°æ®ä¸ä¸€è‡´"></a>2.3 æ•°æ®ä¸ä¸€è‡´</h5><p>åœ¨æäº¤é˜¶æ®µï¼Œå¦‚æœåè°ƒè€…åªå‘é€äº†éƒ¨åˆ† Commit æ¶ˆæ¯ï¼Œæ­¤æ—¶ç½‘ç»œå‘ç”Ÿå¼‚å¸¸ï¼Œé‚£ä¹ˆåªæœ‰éƒ¨åˆ†å‚ä¸è€…æ¥æ”¶åˆ° Commit æ¶ˆæ¯ï¼Œä¹Ÿå°±æ˜¯è¯´åªæœ‰éƒ¨åˆ†å‚ä¸è€…æäº¤äº†äº‹åŠ¡ï¼Œä½¿å¾—ç³»ç»Ÿæ•°æ®ä¸ä¸€è‡´ã€‚</p><h5 id="2-4-å¤ªè¿‡ä¿å®ˆ"><a href="#2-4-å¤ªè¿‡ä¿å®ˆ" class="headerlink" title="2.4 å¤ªè¿‡ä¿å®ˆ"></a>2.4 å¤ªè¿‡ä¿å®ˆ</h5><p>ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹å¤±è´¥å°±ä¼šå¯¼è‡´æ•´ä¸ªäº‹åŠ¡å¤±è´¥ï¼Œæ²¡æœ‰å®Œå–„çš„å®¹é”™æœºåˆ¶ã€‚</p><h3 id="æœ¬åœ°æ¶ˆæ¯è¡¨"><a href="#æœ¬åœ°æ¶ˆæ¯è¡¨" class="headerlink" title="æœ¬åœ°æ¶ˆæ¯è¡¨"></a>æœ¬åœ°æ¶ˆæ¯è¡¨</h3><p>æœ¬åœ°æ¶ˆæ¯è¡¨ä¸ä¸šåŠ¡æ•°æ®è¡¨å¤„äºåŒä¸€ä¸ªæ•°æ®åº“ä¸­ï¼Œè¿™æ ·å°±èƒ½åˆ©ç”¨æœ¬åœ°äº‹åŠ¡æ¥ä¿è¯åœ¨å¯¹è¿™ä¸¤ä¸ªè¡¨çš„æ“ä½œæ»¡è¶³äº‹åŠ¡ç‰¹æ€§ï¼Œå¹¶ä¸”ä½¿ç”¨äº†æ¶ˆæ¯é˜Ÿåˆ—æ¥ä¿è¯æœ€ç»ˆä¸€è‡´æ€§ã€‚</p><ol><li>åœ¨åˆ†å¸ƒå¼äº‹åŠ¡æ“ä½œçš„ä¸€æ–¹å®Œæˆå†™ä¸šåŠ¡æ•°æ®çš„æ“ä½œä¹‹åå‘æœ¬åœ°æ¶ˆæ¯è¡¨å‘é€ä¸€ä¸ªæ¶ˆæ¯ï¼Œæœ¬åœ°äº‹åŠ¡èƒ½ä¿è¯è¿™ä¸ªæ¶ˆæ¯ä¸€å®šä¼šè¢«å†™å…¥æœ¬åœ°æ¶ˆæ¯è¡¨ä¸­ã€‚</li><li>ä¹‹åå°†æœ¬åœ°æ¶ˆæ¯è¡¨ä¸­çš„æ¶ˆæ¯è½¬å‘åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œå¦‚æœè½¬å‘æˆåŠŸåˆ™å°†æ¶ˆæ¯ä»æœ¬åœ°æ¶ˆæ¯è¡¨ä¸­åˆ é™¤ï¼Œå¦åˆ™ç»§ç»­é‡æ–°è½¬å‘ã€‚</li><li>åœ¨åˆ†å¸ƒå¼äº‹åŠ¡æ“ä½œçš„å¦ä¸€æ–¹ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­è¯»å–ä¸€ä¸ªæ¶ˆæ¯ï¼Œå¹¶æ‰§è¡Œæ¶ˆæ¯ä¸­çš„æ“ä½œã€‚</li></ol><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/476329d4-e2ef-4f7b-8ac9-a52a6f784600.png"></p><h2 id="ä¸‰ã€CAP"><a href="#ä¸‰ã€CAP" class="headerlink" title="ä¸‰ã€CAP"></a>ä¸‰ã€CAP</h2><p>åˆ†å¸ƒå¼ç³»ç»Ÿä¸å¯èƒ½åŒæ—¶æ»¡è¶³ä¸€è‡´æ€§ï¼ˆCï¼šConsistencyï¼‰ã€å¯ç”¨æ€§ï¼ˆAï¼šAvailabilityï¼‰å’Œåˆ†åŒºå®¹å¿æ€§ï¼ˆPï¼šPartition Toleranceï¼‰ï¼Œæœ€å¤šåªèƒ½åŒæ—¶æ»¡è¶³å…¶ä¸­ä¸¤é¡¹ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/a14268b3-b937-4ffa-a34a-4cc53071686b.jpg"></p><h3 id="ä¸€è‡´æ€§"><a href="#ä¸€è‡´æ€§" class="headerlink" title="ä¸€è‡´æ€§"></a>ä¸€è‡´æ€§</h3><p>ä¸€è‡´æ€§æŒ‡çš„æ˜¯å¤šä¸ªæ•°æ®å‰¯æœ¬æ˜¯å¦èƒ½ä¿æŒä¸€è‡´çš„ç‰¹æ€§ï¼Œåœ¨ä¸€è‡´æ€§çš„æ¡ä»¶ä¸‹ï¼Œç³»ç»Ÿåœ¨æ‰§è¡Œæ•°æ®æ›´æ–°æ“ä½œä¹‹åèƒ½å¤Ÿä»ä¸€è‡´æ€§çŠ¶æ€è½¬ç§»åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€ã€‚</p><p>å¯¹ç³»ç»Ÿçš„ä¸€ä¸ªæ•°æ®æ›´æ–°æˆåŠŸä¹‹åï¼Œå¦‚æœæ‰€æœ‰ç”¨æˆ·éƒ½èƒ½å¤Ÿè¯»å–åˆ°æœ€æ–°çš„å€¼ï¼Œè¯¥ç³»ç»Ÿå°±è¢«è®¤ä¸ºå…·æœ‰å¼ºä¸€è‡´æ€§ã€‚</p><h3 id="å¯ç”¨æ€§"><a href="#å¯ç”¨æ€§" class="headerlink" title="å¯ç”¨æ€§"></a>å¯ç”¨æ€§</h3><p>å¯ç”¨æ€§æŒ‡åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨é¢å¯¹å„ç§å¼‚å¸¸æ—¶å¯ä»¥æä¾›æ­£å¸¸æœåŠ¡çš„èƒ½åŠ›ï¼Œå¯ä»¥ç”¨ç³»ç»Ÿå¯ç”¨æ—¶é—´å æ€»æ—¶é—´çš„æ¯”å€¼æ¥è¡¡é‡ï¼Œ4 ä¸ª 9 çš„å¯ç”¨æ€§è¡¨ç¤ºç³»ç»Ÿ 99.99% çš„æ—¶é—´æ˜¯å¯ç”¨çš„ã€‚</p><p>åœ¨å¯ç”¨æ€§æ¡ä»¶ä¸‹ï¼Œè¦æ±‚ç³»ç»Ÿæä¾›çš„æœåŠ¡ä¸€ç›´å¤„äºå¯ç”¨çš„çŠ¶æ€ï¼Œå¯¹äºç”¨æˆ·çš„æ¯ä¸€ä¸ªæ“ä½œè¯·æ±‚æ€»æ˜¯èƒ½å¤Ÿåœ¨æœ‰é™çš„æ—¶é—´å†…è¿”å›ç»“æœã€‚</p><h3 id="åˆ†åŒºå®¹å¿æ€§"><a href="#åˆ†åŒºå®¹å¿æ€§" class="headerlink" title="åˆ†åŒºå®¹å¿æ€§"></a>åˆ†åŒºå®¹å¿æ€§</h3><p>ç½‘ç»œåˆ†åŒºæŒ‡åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„èŠ‚ç‚¹è¢«åˆ’åˆ†ä¸ºå¤šä¸ªåŒºåŸŸï¼Œæ¯ä¸ªåŒºåŸŸå†…éƒ¨å¯ä»¥é€šä¿¡ï¼Œä½†æ˜¯åŒºåŸŸä¹‹é—´æ— æ³•é€šä¿¡ã€‚</p><p>åœ¨åˆ†åŒºå®¹å¿æ€§æ¡ä»¶ä¸‹ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿåœ¨é‡åˆ°ä»»ä½•ç½‘ç»œåˆ†åŒºæ•…éšœçš„æ—¶å€™ï¼Œä»ç„¶éœ€è¦èƒ½å¯¹å¤–æä¾›ä¸€è‡´æ€§å’Œå¯ç”¨æ€§çš„æœåŠ¡ï¼Œé™¤éæ˜¯æ•´ä¸ªç½‘ç»œç¯å¢ƒéƒ½å‘ç”Ÿäº†æ•…éšœã€‚</p><h3 id="æƒè¡¡"><a href="#æƒè¡¡" class="headerlink" title="æƒè¡¡"></a>æƒè¡¡</h3><p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œåˆ†åŒºå®¹å¿æ€§å¿…ä¸å¯å°‘ï¼Œå› ä¸ºéœ€è¦æ€»æ˜¯å‡è®¾ç½‘ç»œæ˜¯ä¸å¯é çš„ã€‚å› æ­¤ï¼ŒCAP ç†è®ºå®é™…ä¸Šæ˜¯è¦åœ¨å¯ç”¨æ€§å’Œä¸€è‡´æ€§ä¹‹é—´åšæƒè¡¡ã€‚</p><p>å¯ç”¨æ€§å’Œä¸€è‡´æ€§å¾€å¾€æ˜¯å†²çªçš„ï¼Œå¾ˆéš¾ä½¿å®ƒä»¬åŒæ—¶æ»¡è¶³ã€‚åœ¨å¤šä¸ªèŠ‚ç‚¹ä¹‹é—´è¿›è¡Œæ•°æ®åŒæ­¥æ—¶ï¼Œ</p><ul><li>ä¸ºäº†ä¿è¯ä¸€è‡´æ€§ï¼ˆCPï¼‰ï¼Œä¸èƒ½è®¿é—®æœªåŒæ­¥å®Œæˆçš„èŠ‚ç‚¹ï¼Œä¹Ÿå°±å¤±å»äº†éƒ¨åˆ†å¯ç”¨æ€§ï¼›</li><li>ä¸ºäº†ä¿è¯å¯ç”¨æ€§ï¼ˆAPï¼‰ï¼Œå…è®¸è¯»å–æ‰€æœ‰èŠ‚ç‚¹çš„æ•°æ®ï¼Œä½†æ˜¯æ•°æ®å¯èƒ½ä¸ä¸€è‡´ã€‚</li></ul><h2 id="å››ã€BASE"><a href="#å››ã€BASE" class="headerlink" title="å››ã€BASE"></a>å››ã€BASE</h2><p>BASE æ˜¯åŸºæœ¬å¯ç”¨ï¼ˆBasically Availableï¼‰ã€è½¯çŠ¶æ€ï¼ˆSoft Stateï¼‰å’Œæœ€ç»ˆä¸€è‡´æ€§ï¼ˆEventually Consistentï¼‰ä¸‰ä¸ªçŸ­è¯­çš„ç¼©å†™ã€‚</p><p>BASE ç†è®ºæ˜¯å¯¹ CAP ä¸­ä¸€è‡´æ€§å’Œå¯ç”¨æ€§æƒè¡¡çš„ç»“æœï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šå³ä½¿æ— æ³•åšåˆ°å¼ºä¸€è‡´æ€§ï¼Œä½†æ¯ä¸ªåº”ç”¨éƒ½å¯ä»¥æ ¹æ®è‡ªèº«ä¸šåŠ¡ç‰¹ç‚¹ï¼Œé‡‡ç”¨é€‚å½“çš„æ–¹å¼æ¥ä½¿ç³»ç»Ÿè¾¾åˆ°æœ€ç»ˆä¸€è‡´æ€§ã€‚</p><h3 id="åŸºæœ¬å¯ç”¨"><a href="#åŸºæœ¬å¯ç”¨" class="headerlink" title="åŸºæœ¬å¯ç”¨"></a>åŸºæœ¬å¯ç”¨</h3><p>æŒ‡åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨å‡ºç°æ•…éšœçš„æ—¶å€™ï¼Œä¿è¯æ ¸å¿ƒå¯ç”¨ï¼Œå…è®¸æŸå¤±éƒ¨åˆ†å¯ç”¨æ€§ã€‚</p><p>ä¾‹å¦‚ï¼Œç”µå•†åœ¨åšä¿ƒé”€æ—¶ï¼Œä¸ºäº†ä¿è¯è´­ç‰©ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œéƒ¨åˆ†æ¶ˆè´¹è€…å¯èƒ½ä¼šè¢«å¼•å¯¼åˆ°ä¸€ä¸ªé™çº§çš„é¡µé¢ã€‚</p><h3 id="è½¯çŠ¶æ€"><a href="#è½¯çŠ¶æ€" class="headerlink" title="è½¯çŠ¶æ€"></a>è½¯çŠ¶æ€</h3><p>æŒ‡å…è®¸ç³»ç»Ÿä¸­çš„æ•°æ®å­˜åœ¨ä¸­é—´çŠ¶æ€ï¼Œå¹¶è®¤ä¸ºè¯¥ä¸­é—´çŠ¶æ€ä¸ä¼šå½±å“ç³»ç»Ÿæ•´ä½“å¯ç”¨æ€§ï¼Œå³å…è®¸ç³»ç»Ÿä¸åŒèŠ‚ç‚¹çš„æ•°æ®å‰¯æœ¬ä¹‹é—´è¿›è¡ŒåŒæ­¥çš„è¿‡ç¨‹å­˜åœ¨æ—¶å»¶ã€‚</p><h3 id="æœ€ç»ˆä¸€è‡´æ€§"><a href="#æœ€ç»ˆä¸€è‡´æ€§" class="headerlink" title="æœ€ç»ˆä¸€è‡´æ€§"></a>æœ€ç»ˆä¸€è‡´æ€§</h3><p>æœ€ç»ˆä¸€è‡´æ€§å¼ºè°ƒçš„æ˜¯ç³»ç»Ÿä¸­æ‰€æœ‰çš„æ•°æ®å‰¯æœ¬ï¼Œåœ¨ç»è¿‡ä¸€æ®µæ—¶é—´çš„åŒæ­¥åï¼Œæœ€ç»ˆèƒ½è¾¾åˆ°ä¸€è‡´çš„çŠ¶æ€ã€‚</p><p>ACID è¦æ±‚å¼ºä¸€è‡´æ€§ï¼Œé€šå¸¸è¿ç”¨åœ¨ä¼ ç»Ÿçš„æ•°æ®åº“ç³»ç»Ÿä¸Šã€‚è€Œ BASE è¦æ±‚æœ€ç»ˆä¸€è‡´æ€§ï¼Œé€šè¿‡ç‰ºç‰²å¼ºä¸€è‡´æ€§æ¥è¾¾åˆ°å¯ç”¨æ€§ï¼Œé€šå¸¸è¿ç”¨åœ¨å¤§å‹åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ã€‚</p><p>åœ¨å®é™…çš„åˆ†å¸ƒå¼åœºæ™¯ä¸­ï¼Œä¸åŒä¸šåŠ¡å•å…ƒå’Œç»„ä»¶å¯¹ä¸€è‡´æ€§çš„è¦æ±‚æ˜¯ä¸åŒçš„ï¼Œå› æ­¤ ACID å’Œ BASE å¾€å¾€ä¼šç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨ã€‚</p><h2 id="äº”ã€Paxos"><a href="#äº”ã€Paxos" class="headerlink" title="äº”ã€Paxos"></a>äº”ã€Paxos</h2><p>ç”¨äºè¾¾æˆå…±è¯†æ€§é—®é¢˜ï¼Œå³å¯¹å¤šä¸ªèŠ‚ç‚¹äº§ç”Ÿçš„å€¼ï¼Œè¯¥ç®—æ³•èƒ½ä¿è¯åªé€‰å‡ºå”¯ä¸€ä¸€ä¸ªå€¼ã€‚</p><p>ä¸»è¦æœ‰ä¸‰ç±»èŠ‚ç‚¹ï¼š</p><ul><li>æè®®è€…ï¼ˆProposerï¼‰ï¼šæè®®ä¸€ä¸ªå€¼ï¼›</li><li>æ¥å—è€…ï¼ˆAcceptorï¼‰ï¼šå¯¹æ¯ä¸ªæè®®è¿›è¡ŒæŠ•ç¥¨ï¼›</li><li>å‘ŠçŸ¥è€…ï¼ˆLearnerï¼‰ï¼šè¢«å‘ŠçŸ¥æŠ•ç¥¨çš„ç»“æœï¼Œä¸å‚ä¸æŠ•ç¥¨è¿‡ç¨‹ã€‚</li></ul><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/b988877c-0f0a-4593-916d-de2081320628.jpg"></p><h3 id="æ‰§è¡Œè¿‡ç¨‹"><a href="#æ‰§è¡Œè¿‡ç¨‹" class="headerlink" title="æ‰§è¡Œè¿‡ç¨‹"></a>æ‰§è¡Œè¿‡ç¨‹</h3><p>è§„å®šä¸€ä¸ªæè®®åŒ…å«ä¸¤ä¸ªå­—æ®µï¼š[n, v]ï¼Œå…¶ä¸­ n ä¸ºåºå·ï¼ˆå…·æœ‰å”¯ä¸€æ€§ï¼‰ï¼Œv ä¸ºæè®®å€¼ã€‚</p><h4 id="1-Prepare-é˜¶æ®µ"><a href="#1-Prepare-é˜¶æ®µ" class="headerlink" title="1. Prepare é˜¶æ®µ"></a>1. Prepare é˜¶æ®µ</h4><p>ä¸‹å›¾æ¼”ç¤ºäº†ä¸¤ä¸ª Proposer å’Œä¸‰ä¸ª Acceptor çš„ç³»ç»Ÿä¸­è¿è¡Œè¯¥ç®—æ³•çš„åˆå§‹è¿‡ç¨‹ï¼Œæ¯ä¸ª Proposer éƒ½ä¼šå‘æ‰€æœ‰ Acceptor å‘é€ Prepare è¯·æ±‚ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/1a9977e4-2f5c-49a6-aec9-f3027c9f46a7.png"></p><p>å½“ Acceptor æ¥æ”¶åˆ°ä¸€ä¸ª Prepare è¯·æ±‚ï¼ŒåŒ…å«çš„æè®®ä¸º [n1, v1]ï¼Œå¹¶ä¸”ä¹‹å‰è¿˜æœªæ¥æ”¶è¿‡ Prepare è¯·æ±‚ï¼Œé‚£ä¹ˆå‘é€ä¸€ä¸ª Prepare å“åº”ï¼Œè®¾ç½®å½“å‰æ¥æ”¶åˆ°çš„æè®®ä¸º [n1, v1]ï¼Œå¹¶ä¸”ä¿è¯ä»¥åä¸ä¼šå†æ¥å—åºå·å°äº n1 çš„æè®®ã€‚</p><p>å¦‚ä¸‹å›¾ï¼ŒAcceptor X åœ¨æ”¶åˆ° [n=2, v=8] çš„ Prepare è¯·æ±‚æ—¶ï¼Œç”±äºä¹‹å‰æ²¡æœ‰æ¥æ”¶è¿‡æè®®ï¼Œå› æ­¤å°±å‘é€ä¸€ä¸ª [no previous] çš„ Prepare å“åº”ï¼Œè®¾ç½®å½“å‰æ¥æ”¶åˆ°çš„æè®®ä¸º [n=2, v=8]ï¼Œå¹¶ä¸”ä¿è¯ä»¥åä¸ä¼šå†æ¥å—åºå·å°äº 2 çš„æè®®ã€‚å…¶å®ƒçš„ Acceptor ç±»ä¼¼ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/fb44307f-8e98-4ff7-a918-31dacfa564b4.jpg"></p><p>å¦‚æœ Acceptor æ¥æ”¶åˆ°ä¸€ä¸ª Prepare è¯·æ±‚ï¼ŒåŒ…å«çš„æè®®ä¸º [n2, v2]ï¼Œå¹¶ä¸”ä¹‹å‰å·²ç»æ¥æ”¶è¿‡æè®® [n1, v1]ã€‚å¦‚æœ n1 &gt; n2ï¼Œé‚£ä¹ˆå°±ä¸¢å¼ƒè¯¥æè®®è¯·æ±‚ï¼›å¦åˆ™ï¼Œå‘é€ Prepare å“åº”ï¼Œè¯¥ Prepare å“åº”åŒ…å«ä¹‹å‰å·²ç»æ¥æ”¶è¿‡çš„æè®® [n1, v1]ï¼Œè®¾ç½®å½“å‰æ¥æ”¶åˆ°çš„æè®®ä¸º [n2, v2]ï¼Œå¹¶ä¸”ä¿è¯ä»¥åä¸ä¼šå†æ¥å—åºå·å°äº n2 çš„æè®®ã€‚</p><p>å¦‚ä¸‹å›¾ï¼ŒAcceptor Z æ”¶åˆ° Proposer A å‘æ¥çš„ [n=2, v=8] çš„ Prepare è¯·æ±‚ï¼Œç”±äºä¹‹å‰å·²ç»æ¥æ”¶è¿‡ [n=4, v=5] çš„æè®®ï¼Œå¹¶ä¸” n &gt; 2ï¼Œå› æ­¤å°±æŠ›å¼ƒè¯¥æè®®è¯·æ±‚ï¼›Acceptor X æ”¶åˆ° Proposer B å‘æ¥çš„ [n=4, v=5] çš„ Prepare è¯·æ±‚ï¼Œå› ä¸ºä¹‹å‰æ¥æ”¶åˆ°çš„æè®®ä¸º [n=2, v=8]ï¼Œå¹¶ä¸” 2 &lt;= 4ï¼Œå› æ­¤å°±å‘é€ [n=2, v=8] çš„ Prepare å“åº”ï¼Œè®¾ç½®å½“å‰æ¥æ”¶åˆ°çš„æè®®ä¸º [n=4, v=5]ï¼Œå¹¶ä¸”ä¿è¯ä»¥åä¸ä¼šå†æ¥å—åºå·å°äº 4 çš„æè®®ã€‚Acceptor Y ç±»ä¼¼ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/2bcc58ad-bf7f-485c-89b5-e7cafc211ce2.jpg"></p><h4 id="2-Accept-é˜¶æ®µ"><a href="#2-Accept-é˜¶æ®µ" class="headerlink" title="2. Accept é˜¶æ®µ"></a>2. Accept é˜¶æ®µ</h4><p>å½“ä¸€ä¸ª Proposer æ¥æ”¶åˆ°è¶…è¿‡ä¸€åŠ Acceptor çš„ Prepare å“åº”æ—¶ï¼Œå°±å¯ä»¥å‘é€ Accept è¯·æ±‚ã€‚</p><p>Proposer A æ¥æ”¶åˆ°ä¸¤ä¸ª Prepare å“åº”ä¹‹åï¼Œå°±å‘é€ [n=2, v=8] Accept è¯·æ±‚ã€‚è¯¥ Accept è¯·æ±‚ä¼šè¢«æ‰€æœ‰ Acceptor ä¸¢å¼ƒï¼Œå› ä¸ºæ­¤æ—¶æ‰€æœ‰ Acceptor éƒ½ä¿è¯ä¸æ¥å—åºå·å°äº 4 çš„æè®®ã€‚</p><p>Proposer B è¿‡åä¹Ÿæ”¶åˆ°äº†ä¸¤ä¸ª Prepare å“åº”ï¼Œå› æ­¤ä¹Ÿå¼€å§‹å‘é€ Accept è¯·æ±‚ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒAccept è¯·æ±‚çš„ v éœ€è¦å–å®ƒæ”¶åˆ°çš„æœ€å¤§æè®®ç¼–å·å¯¹åº”çš„ v å€¼ï¼Œä¹Ÿå°±æ˜¯ 8ã€‚å› æ­¤å®ƒå‘é€ [n=4, v=8] çš„ Accept è¯·æ±‚ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/9b838aee-0996-44a5-9b0f-3d1e3e2f5100.png"></p><h4 id="3-Learn-é˜¶æ®µ"><a href="#3-Learn-é˜¶æ®µ" class="headerlink" title="3. Learn é˜¶æ®µ"></a>3. Learn é˜¶æ®µ</h4><p>Acceptor æ¥æ”¶åˆ° Accept è¯·æ±‚æ—¶ï¼Œå¦‚æœåºå·å¤§äºç­‰äºè¯¥ Acceptor æ‰¿è¯ºçš„æœ€å°åºå·ï¼Œé‚£ä¹ˆå°±å‘é€ Learn æè®®ç»™æ‰€æœ‰çš„ Learnerã€‚å½“ Learner å‘ç°æœ‰å¤§å¤šæ•°çš„ Acceptor æ¥æ”¶äº†æŸä¸ªæè®®ï¼Œé‚£ä¹ˆè¯¥æè®®çš„æè®®å€¼å°±è¢« Paxos é€‰æ‹©å‡ºæ¥ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/bf667594-bb4b-4634-bf9b-0596a45415ba.jpg"></p><h3 id="çº¦æŸæ¡ä»¶"><a href="#çº¦æŸæ¡ä»¶" class="headerlink" title="çº¦æŸæ¡ä»¶"></a>çº¦æŸæ¡ä»¶</h3><h4 id="1-æ­£ç¡®æ€§"><a href="#1-æ­£ç¡®æ€§" class="headerlink" title="1. æ­£ç¡®æ€§"></a>1. æ­£ç¡®æ€§</h4><p>æŒ‡åªæœ‰ä¸€ä¸ªæè®®å€¼ä¼šç”Ÿæ•ˆã€‚</p><p>å› ä¸º Paxos åè®®è¦æ±‚æ¯ä¸ªç”Ÿæ•ˆçš„æè®®è¢«å¤šæ•° Acceptor æ¥æ”¶ï¼Œå¹¶ä¸” Acceptor ä¸ä¼šæ¥å—ä¸¤ä¸ªä¸åŒçš„æè®®ï¼Œå› æ­¤å¯ä»¥ä¿è¯æ­£ç¡®æ€§ã€‚</p><h4 id="2-å¯ç»ˆæ­¢æ€§"><a href="#2-å¯ç»ˆæ­¢æ€§" class="headerlink" title="2. å¯ç»ˆæ­¢æ€§"></a>2. å¯ç»ˆæ­¢æ€§</h4><p>æŒ‡æœ€åæ€»ä¼šæœ‰ä¸€ä¸ªæè®®ç”Ÿæ•ˆã€‚</p><p>Paxos åè®®èƒ½å¤Ÿè®© Proposer å‘é€çš„æè®®æœç€èƒ½è¢«å¤§å¤šæ•° Acceptor æ¥å—çš„é‚£ä¸ªæè®®é æ‹¢ï¼Œå› æ­¤èƒ½å¤Ÿä¿è¯å¯ç»ˆæ­¢æ€§ã€‚</p><h2 id="å…­ã€Raft"><a href="#å…­ã€Raft" class="headerlink" title="å…­ã€Raft"></a>å…­ã€Raft</h2><p>Raft ä¹Ÿæ˜¯åˆ†å¸ƒå¼ä¸€è‡´æ€§åè®®ï¼Œä¸»è¦æ˜¯ç”¨æ¥ç«é€‰ä¸»èŠ‚ç‚¹ã€‚</p><ul><li><a href="http://thesecretlivesofdata.com/raft">Raft: Understandable Distributed Consensus(opens new window)</a></li></ul><h3 id="å•ä¸ª-Candidate-çš„ç«é€‰"><a href="#å•ä¸ª-Candidate-çš„ç«é€‰" class="headerlink" title="å•ä¸ª Candidate çš„ç«é€‰"></a>å•ä¸ª Candidate çš„ç«é€‰</h3><p>æœ‰ä¸‰ç§èŠ‚ç‚¹ï¼šFollowerã€Candidate å’Œ Leaderã€‚Leader ä¼šå‘¨æœŸæ€§çš„å‘é€å¿ƒè·³åŒ…ç»™ Followerã€‚æ¯ä¸ª Follower éƒ½è®¾ç½®äº†ä¸€ä¸ªéšæœºçš„ç«é€‰è¶…æ—¶æ—¶é—´ï¼Œä¸€èˆ¬ä¸º 150ms~300msï¼Œå¦‚æœåœ¨è¿™ä¸ªæ—¶é—´å†…æ²¡æœ‰æ”¶åˆ° Leader çš„å¿ƒè·³åŒ…ï¼Œå°±ä¼šå˜æˆ Candidateï¼Œè¿›å…¥ç«é€‰é˜¶æ®µã€‚</p><ul><li>ä¸‹å›¾å±•ç¤ºä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿçš„æœ€åˆé˜¶æ®µï¼Œæ­¤æ—¶åªæœ‰ Follower æ²¡æœ‰ Leaderã€‚Node A ç­‰å¾…ä¸€ä¸ªéšæœºçš„ç«é€‰è¶…æ—¶æ—¶é—´ä¹‹åï¼Œæ²¡æ”¶åˆ° Leader å‘æ¥çš„å¿ƒè·³åŒ…ï¼Œå› æ­¤è¿›å…¥ç«é€‰é˜¶æ®µã€‚</li></ul><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/111521118015898.gif"></p><ul><li>æ­¤æ—¶ Node A å‘é€æŠ•ç¥¨è¯·æ±‚ç»™å…¶å®ƒæ‰€æœ‰èŠ‚ç‚¹ã€‚</li></ul><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/111521118445538.gif"></p><ul><li>å…¶å®ƒèŠ‚ç‚¹ä¼šå¯¹è¯·æ±‚è¿›è¡Œå›å¤ï¼Œå¦‚æœè¶…è¿‡ä¸€åŠçš„èŠ‚ç‚¹å›å¤äº†ï¼Œé‚£ä¹ˆè¯¥ Candidate å°±ä¼šå˜æˆ Leaderã€‚</li></ul><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/111521118483039.gif"></p><ul><li>ä¹‹å Leader ä¼šå‘¨æœŸæ€§åœ°å‘é€å¿ƒè·³åŒ…ç»™ Followerï¼ŒFollower æ¥æ”¶åˆ°å¿ƒè·³åŒ…ï¼Œä¼šé‡æ–°å¼€å§‹è®¡æ—¶ã€‚</li></ul><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/111521118640738.gif"></p><h3 id="å¤šä¸ª-Candidate-ç«é€‰"><a href="#å¤šä¸ª-Candidate-ç«é€‰" class="headerlink" title="å¤šä¸ª Candidate ç«é€‰"></a>å¤šä¸ª Candidate ç«é€‰</h3><ul><li>å¦‚æœæœ‰å¤šä¸ª Follower æˆä¸º Candidateï¼Œå¹¶ä¸”æ‰€è·å¾—ç¥¨æ•°ç›¸åŒï¼Œé‚£ä¹ˆå°±éœ€è¦é‡æ–°å¼€å§‹æŠ•ç¥¨ã€‚ä¾‹å¦‚ä¸‹å›¾ä¸­ Node B å’Œ Node D éƒ½è·å¾—ä¸¤ç¥¨ï¼Œéœ€è¦é‡æ–°å¼€å§‹æŠ•ç¥¨ã€‚</li></ul><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/111521119203347.gif"></p><ul><li>ç”±äºæ¯ä¸ªèŠ‚ç‚¹è®¾ç½®çš„éšæœºç«é€‰è¶…æ—¶æ—¶é—´ä¸åŒï¼Œå› æ­¤ä¸‹ä¸€æ¬¡å†æ¬¡å‡ºç°å¤šä¸ª Candidate å¹¶è·å¾—åŒæ ·ç¥¨æ•°çš„æ¦‚ç‡å¾ˆä½ã€‚</li></ul><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/111521119368714.gif"></p><h3 id="æ•°æ®åŒæ­¥"><a href="#æ•°æ®åŒæ­¥" class="headerlink" title="æ•°æ®åŒæ­¥"></a>æ•°æ®åŒæ­¥</h3><ul><li>æ¥è‡ªå®¢æˆ·ç«¯çš„ä¿®æ”¹éƒ½ä¼šè¢«ä¼ å…¥ Leaderã€‚æ³¨æ„è¯¥ä¿®æ”¹è¿˜æœªè¢«æäº¤ï¼Œåªæ˜¯å†™å…¥æ—¥å¿—ä¸­ã€‚</li></ul><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/71550414107576.gif"></p><ul><li>Leader ä¼šæŠŠä¿®æ”¹å¤åˆ¶åˆ°æ‰€æœ‰ Followerã€‚</li></ul><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/91550414131331.gif"></p><ul><li>Leader ä¼šç­‰å¾…å¤§å¤šæ•°çš„ Follower ä¹Ÿè¿›è¡Œäº†ä¿®æ”¹ï¼Œç„¶åæ‰å°†ä¿®æ”¹æäº¤ã€‚</li></ul><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/101550414151983.gif"></p><ul><li>æ­¤æ—¶ Leader ä¼šé€šçŸ¥çš„æ‰€æœ‰ Follower è®©å®ƒä»¬ä¹Ÿæäº¤ä¿®æ”¹ï¼Œæ­¤æ—¶æ‰€æœ‰èŠ‚ç‚¹çš„å€¼è¾¾æˆä¸€è‡´ã€‚</li></ul><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/111550414182638.gif"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li>å€ªè¶…. ä» Paxos åˆ° ZooKeeper : åˆ†å¸ƒå¼ä¸€è‡´æ€§åŸç†ä¸å®è·µ [M]. ç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾, 2015.</li><li><a href="https://redis.io/topics/distlock">Distributed locks with Redis(opens new window)</a></li><li><a href="http://www.linkedkeeper.com/detail/blog.action?bid=1023">æµ…è°ˆåˆ†å¸ƒå¼é”(opens new window)</a></li><li><a href="http://www.dengshenyu.com/java/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/2017/10/23/zookeeper-distributed-lock.html">åŸºäº Zookeeper çš„åˆ†å¸ƒå¼é”(opens new window)</a></li><li><a href="https://www.cnblogs.com/savorboard/p/distributed-system-transaction-consistency.html">èŠèŠåˆ†å¸ƒå¼äº‹åŠ¡ï¼Œå†è¯´è¯´è§£å†³æ–¹æ¡ˆ(opens new window)</a></li><li><a href="https://coolshell.cn/articles/10910.html">åˆ†å¸ƒå¼ç³»ç»Ÿçš„äº‹åŠ¡å¤„ç†(opens new window)</a></li><li><a href="https://juejin.im/entry/577c6f220a2b5800573492be">æ·±å…¥ç†è§£åˆ†å¸ƒå¼äº‹åŠ¡(opens new window)</a></li><li><a href="http://www.colooshiki.com/index.php/2017/04/20/what-is-cap-theorem-in-distributed-database-system/">What is CAP theorem in distributed database system?(opens new window)</a></li><li><a href="http://harry.me/blog/2014/12/27/neat-algorithms-paxos/">NEAT ALGORITHMS - PAXOS(opens new window)</a></li><li>[Paxos By Example](</li></ul>]]></content>
      
      
      <categories>
          
          <category> è½¬è½½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ–‡ç«  </tag>
            
            <tag> è½¬è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»€ä¹ˆæ˜¯ç¼“å­˜ï¼Ÿ</title>
      <link href="/hypo-Z.github.io/2021/12/16/22-shi-me-shi-huan-cun/"/>
      <url>/hypo-Z.github.io/2021/12/16/22-shi-me-shi-huan-cun/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯ç¼“å­˜ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ç¼“å­˜ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ç¼“å­˜ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ç¼“å­˜ï¼Ÿ</h1><h2 id="ä¸€ã€ç¼“å­˜ç‰¹å¾"><a href="#ä¸€ã€ç¼“å­˜ç‰¹å¾" class="headerlink" title="ä¸€ã€ç¼“å­˜ç‰¹å¾"></a>ä¸€ã€ç¼“å­˜ç‰¹å¾</h2><h3 id="å‘½ä¸­ç‡"><a href="#å‘½ä¸­ç‡" class="headerlink" title="å‘½ä¸­ç‡"></a>å‘½ä¸­ç‡</h3><p>å½“æŸä¸ªè¯·æ±‚èƒ½å¤Ÿé€šè¿‡è®¿é—®ç¼“å­˜è€Œå¾—åˆ°å“åº”æ—¶ï¼Œç§°ä¸ºç¼“å­˜å‘½ä¸­ã€‚</p><p>ç¼“å­˜å‘½ä¸­ç‡è¶Šé«˜ï¼Œç¼“å­˜çš„åˆ©ç”¨ç‡ä¹Ÿå°±è¶Šé«˜ã€‚</p><h3 id="æœ€å¤§ç©ºé—´"><a href="#æœ€å¤§ç©ºé—´" class="headerlink" title="æœ€å¤§ç©ºé—´"></a>æœ€å¤§ç©ºé—´</h3><p>ç¼“å­˜é€šå¸¸ä½äºå†…å­˜ä¸­ï¼Œå†…å­˜çš„ç©ºé—´é€šå¸¸æ¯”ç£ç›˜ç©ºé—´å°çš„å¤šï¼Œå› æ­¤ç¼“å­˜çš„æœ€å¤§ç©ºé—´ä¸å¯èƒ½éå¸¸å¤§ã€‚</p><p>å½“ç¼“å­˜å­˜æ”¾çš„æ•°æ®é‡è¶…è¿‡æœ€å¤§ç©ºé—´æ—¶ï¼Œå°±éœ€è¦æ·˜æ±°éƒ¨åˆ†æ•°æ®æ¥å­˜æ”¾æ–°åˆ°è¾¾çš„æ•°æ®ã€‚</p><h3 id="æ·˜æ±°ç­–ç•¥"><a href="#æ·˜æ±°ç­–ç•¥" class="headerlink" title="æ·˜æ±°ç­–ç•¥"></a>æ·˜æ±°ç­–ç•¥</h3><ul><li>FIFOï¼ˆFirst In First Outï¼‰ï¼šå…ˆè¿›å…ˆå‡ºç­–ç•¥ï¼Œåœ¨å®æ—¶æ€§çš„åœºæ™¯ä¸‹ï¼Œéœ€è¦ç»å¸¸è®¿é—®æœ€æ–°çš„æ•°æ®ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨ FIFOï¼Œä½¿å¾—æœ€å…ˆè¿›å…¥çš„æ•°æ®ï¼ˆæœ€æ™šçš„æ•°æ®ï¼‰è¢«æ·˜æ±°ã€‚</li><li>LRUï¼ˆLeast Recently Usedï¼‰ï¼šæœ€è¿‘æœ€ä¹…æœªä½¿ç”¨ç­–ç•¥ï¼Œä¼˜å…ˆæ·˜æ±°æœ€ä¹…æœªä½¿ç”¨çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ä¸Šæ¬¡è¢«è®¿é—®æ—¶é—´è·ç¦»ç°åœ¨æœ€ä¹…çš„æ•°æ®ã€‚è¯¥ç­–ç•¥å¯ä»¥ä¿è¯å†…å­˜ä¸­çš„æ•°æ®éƒ½æ˜¯çƒ­ç‚¹æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ç»å¸¸è¢«è®¿é—®çš„æ•°æ®ï¼Œä»è€Œä¿è¯ç¼“å­˜å‘½ä¸­ç‡ã€‚</li><li>LFUï¼ˆLeast Frequently Usedï¼‰ï¼šæœ€ä¸ç»å¸¸ä½¿ç”¨ç­–ç•¥ï¼Œä¼˜å…ˆæ·˜æ±°ä¸€æ®µæ—¶é—´å†…ä½¿ç”¨æ¬¡æ•°æœ€å°‘çš„æ•°æ®ã€‚</li></ul><h2 id="äºŒã€ç¼“å­˜ä½ç½®"><a href="#äºŒã€ç¼“å­˜ä½ç½®" class="headerlink" title="äºŒã€ç¼“å­˜ä½ç½®"></a>äºŒã€ç¼“å­˜ä½ç½®</h2><h3 id="æµè§ˆå™¨"><a href="#æµè§ˆå™¨" class="headerlink" title="æµè§ˆå™¨"></a>æµè§ˆå™¨</h3><p>å½“ HTTP å“åº”å…è®¸è¿›è¡Œç¼“å­˜æ—¶ï¼Œæµè§ˆå™¨ä¼šå°† HTMLã€CSSã€JavaScriptã€å›¾ç‰‡ç­‰é™æ€èµ„æºè¿›è¡Œç¼“å­˜ã€‚</p><h3 id="ISP"><a href="#ISP" class="headerlink" title="ISP"></a>ISP</h3><p>ç½‘ç»œæœåŠ¡æä¾›å•†ï¼ˆISPï¼‰æ˜¯ç½‘ç»œè®¿é—®çš„ç¬¬ä¸€è·³ï¼Œé€šè¿‡å°†æ•°æ®ç¼“å­˜åœ¨ ISP ä¸­èƒ½å¤Ÿå¤§å¤§æé«˜ç”¨æˆ·çš„è®¿é—®é€Ÿåº¦ã€‚</p><h3 id="åå‘ä»£ç†"><a href="#åå‘ä»£ç†" class="headerlink" title="åå‘ä»£ç†"></a>åå‘ä»£ç†</h3><p>åå‘ä»£ç†ä½äºæœåŠ¡å™¨ä¹‹å‰ï¼Œè¯·æ±‚ä¸å“åº”éƒ½éœ€è¦ç»è¿‡åå‘ä»£ç†ã€‚é€šè¿‡å°†æ•°æ®ç¼“å­˜åœ¨åå‘ä»£ç†ï¼Œåœ¨ç”¨æˆ·è¯·æ±‚åå‘ä»£ç†æ—¶å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ç¼“å­˜è¿›è¡Œå“åº”ã€‚</p><h3 id="æœ¬åœ°ç¼“å­˜"><a href="#æœ¬åœ°ç¼“å­˜" class="headerlink" title="æœ¬åœ°ç¼“å­˜"></a>æœ¬åœ°ç¼“å­˜</h3><p>ä½¿ç”¨ Guava Cache å°†æ•°æ®ç¼“å­˜åœ¨æœåŠ¡å™¨æœ¬åœ°å†…å­˜ä¸­ï¼ŒæœåŠ¡å™¨ä»£ç å¯ä»¥ç›´æ¥è¯»å–æœ¬åœ°å†…å­˜ä¸­çš„ç¼“å­˜ï¼Œé€Ÿåº¦éå¸¸å¿«ã€‚</p><h3 id="åˆ†å¸ƒå¼ç¼“å­˜"><a href="#åˆ†å¸ƒå¼ç¼“å­˜" class="headerlink" title="åˆ†å¸ƒå¼ç¼“å­˜"></a>åˆ†å¸ƒå¼ç¼“å­˜</h3><p>ä½¿ç”¨ Redisã€Memcache ç­‰åˆ†å¸ƒå¼ç¼“å­˜å°†æ•°æ®ç¼“å­˜åœ¨åˆ†å¸ƒå¼ç¼“å­˜ç³»ç»Ÿä¸­ã€‚</p><p>ç›¸å¯¹äºæœ¬åœ°ç¼“å­˜æ¥è¯´ï¼Œåˆ†å¸ƒå¼ç¼“å­˜å•ç‹¬éƒ¨ç½²ï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚åˆ†é…ç¡¬ä»¶èµ„æºã€‚ä¸ä»…å¦‚æ­¤ï¼ŒæœåŠ¡å™¨é›†ç¾¤éƒ½å¯ä»¥è®¿é—®åˆ†å¸ƒå¼ç¼“å­˜ï¼Œè€Œæœ¬åœ°ç¼“å­˜éœ€è¦åœ¨æœåŠ¡å™¨é›†ç¾¤ä¹‹é—´è¿›è¡ŒåŒæ­¥ï¼Œå®ç°éš¾åº¦å’Œæ€§èƒ½å¼€é”€ä¸Šéƒ½éå¸¸å¤§ã€‚</p><h3 id="æ•°æ®åº“ç¼“å­˜"><a href="#æ•°æ®åº“ç¼“å­˜" class="headerlink" title="æ•°æ®åº“ç¼“å­˜"></a>æ•°æ®åº“ç¼“å­˜</h3><p>MySQL ç­‰æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå…·æœ‰è‡ªå·±çš„æŸ¥è¯¢ç¼“å­˜æœºåˆ¶æ¥æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚</p><p>###Java å†…éƒ¨çš„ç¼“å­˜</p><p>Java ä¸ºäº†ä¼˜åŒ–ç©ºé—´ï¼Œæé«˜å­—ç¬¦ä¸²ã€åŸºæœ¬æ•°æ®ç±»å‹åŒ…è£…ç±»çš„åˆ›å»ºæ•ˆç‡ï¼Œè®¾è®¡äº†å­—ç¬¦ä¸²å¸¸é‡æ± åŠ Byteã€Shortã€Characterã€Integerã€Longã€Boolean è¿™å…­ç§åŒ…è£…ç±»ç¼“å†²æ± ã€‚</p><h3 id="CPU-å¤šçº§ç¼“å­˜"><a href="#CPU-å¤šçº§ç¼“å­˜" class="headerlink" title="CPU å¤šçº§ç¼“å­˜"></a>CPU å¤šçº§ç¼“å­˜</h3><p>CPU ä¸ºäº†è§£å†³è¿ç®—é€Ÿåº¦ä¸ä¸»å­˜ IO é€Ÿåº¦ä¸åŒ¹é…çš„é—®é¢˜ï¼Œå¼•å…¥äº†å¤šçº§ç¼“å­˜ç»“æ„ï¼ŒåŒæ—¶ä½¿ç”¨ MESI ç­‰ç¼“å­˜ä¸€è‡´æ€§åè®®æ¥è§£å†³å¤šæ ¸ CPU ç¼“å­˜æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ã€‚</p><h2 id="ä¸‰ã€CDN"><a href="#ä¸‰ã€CDN" class="headerlink" title="ä¸‰ã€CDN"></a>ä¸‰ã€CDN</h2><p>å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆContent distribution networkï¼ŒCDNï¼‰æ˜¯ä¸€ç§äº’è¿çš„ç½‘ç»œç³»ç»Ÿï¼Œå®ƒåˆ©ç”¨æ›´é è¿‘ç”¨æˆ·çš„æœåŠ¡å™¨ä»è€Œæ›´å¿«æ›´å¯é åœ°å°† HTMLã€CSSã€JavaScriptã€éŸ³ä¹ã€å›¾ç‰‡ã€è§†é¢‘ç­‰é™æ€èµ„æºåˆ†å‘ç»™ç”¨æˆ·ã€‚</p><p>CDN ä¸»è¦æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p><ul><li>æ›´å¿«åœ°å°†æ•°æ®åˆ†å‘ç»™ç”¨æˆ·ï¼›</li><li>é€šè¿‡éƒ¨ç½²å¤šå°æœåŠ¡å™¨ï¼Œä»è€Œæé«˜ç³»ç»Ÿæ•´ä½“çš„å¸¦å®½æ€§èƒ½ï¼›</li><li>å¤šå°æœåŠ¡å™¨å¯ä»¥çœ‹æˆæ˜¯ä¸€ç§å†—ä½™æœºåˆ¶ï¼Œä»è€Œå…·æœ‰é«˜å¯ç”¨æ€§ã€‚</li></ul><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/15313ed8-a520-4799-a300-2b6b36be314f.jpg" alt="img"></p><h2 id="å››ã€ç¼“å­˜é—®é¢˜"><a href="#å››ã€ç¼“å­˜é—®é¢˜" class="headerlink" title="å››ã€ç¼“å­˜é—®é¢˜"></a>å››ã€ç¼“å­˜é—®é¢˜</h2><p>###ç¼“å­˜ç©¿é€</p><p>æŒ‡çš„æ˜¯å¯¹æŸä¸ªä¸€å®šä¸å­˜åœ¨çš„æ•°æ®è¿›è¡Œè¯·æ±‚ï¼Œè¯¥è¯·æ±‚å°†ä¼šç©¿é€ç¼“å­˜åˆ°è¾¾æ•°æ®åº“ã€‚</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><ul><li>å¯¹è¿™äº›ä¸å­˜åœ¨çš„æ•°æ®ç¼“å­˜ä¸€ä¸ªç©ºæ•°æ®ï¼›</li><li>å¯¹è¿™ç±»è¯·æ±‚è¿›è¡Œè¿‡æ»¤ã€‚</li></ul><h3 id="ç¼“å­˜é›ªå´©"><a href="#ç¼“å­˜é›ªå´©" class="headerlink" title="ç¼“å­˜é›ªå´©"></a>ç¼“å­˜é›ªå´©</h3><p>æŒ‡çš„æ˜¯ç”±äºæ•°æ®æ²¡æœ‰è¢«åŠ è½½åˆ°ç¼“å­˜ä¸­ï¼Œæˆ–è€…ç¼“å­˜æ•°æ®åœ¨åŒä¸€æ—¶é—´å¤§é¢ç§¯å¤±æ•ˆï¼ˆè¿‡æœŸï¼‰ï¼Œåˆæˆ–è€…ç¼“å­˜æœåŠ¡å™¨å®•æœºï¼Œå¯¼è‡´å¤§é‡çš„è¯·æ±‚éƒ½åˆ°è¾¾æ•°æ®åº“ã€‚</p><p>åœ¨æœ‰ç¼“å­˜çš„ç³»ç»Ÿä¸­ï¼Œç³»ç»Ÿéå¸¸ä¾èµ–äºç¼“å­˜ï¼Œç¼“å­˜åˆ†æ‹…äº†å¾ˆå¤§ä¸€éƒ¨åˆ†çš„æ•°æ®è¯·æ±‚ã€‚å½“å‘ç”Ÿç¼“å­˜é›ªå´©æ—¶ï¼Œæ•°æ®åº“æ— æ³•å¤„ç†è¿™ä¹ˆå¤§çš„è¯·æ±‚ï¼Œå¯¼è‡´æ•°æ®åº“å´©æºƒã€‚</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><ul><li>ä¸ºäº†é˜²æ­¢ç¼“å­˜åœ¨åŒä¸€æ—¶é—´å¤§é¢ç§¯è¿‡æœŸå¯¼è‡´çš„ç¼“å­˜é›ªå´©ï¼Œå¯ä»¥é€šè¿‡è§‚å¯Ÿç”¨æˆ·è¡Œä¸ºï¼Œåˆç†è®¾ç½®ç¼“å­˜è¿‡æœŸæ—¶é—´æ¥å®ç°ï¼›</li><li>ä¸ºäº†é˜²æ­¢ç¼“å­˜æœåŠ¡å™¨å®•æœºå‡ºç°çš„ç¼“å­˜é›ªå´©ï¼Œå¯ä»¥ä½¿ç”¨åˆ†å¸ƒå¼ç¼“å­˜ï¼Œåˆ†å¸ƒå¼ç¼“å­˜ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹åªç¼“å­˜éƒ¨åˆ†çš„æ•°æ®ï¼Œå½“æŸä¸ªèŠ‚ç‚¹å®•æœºæ—¶å¯ä»¥ä¿è¯å…¶å®ƒèŠ‚ç‚¹çš„ç¼“å­˜ä»ç„¶å¯ç”¨ã€‚</li><li>ä¹Ÿå¯ä»¥è¿›è¡Œç¼“å­˜é¢„çƒ­ï¼Œé¿å…åœ¨ç³»ç»Ÿåˆšå¯åŠ¨ä¸ä¹…ç”±äºè¿˜æœªå°†å¤§é‡æ•°æ®è¿›è¡Œç¼“å­˜è€Œå¯¼è‡´ç¼“å­˜é›ªå´©ã€‚</li></ul><h3 id="ç¼“å­˜ä¸€è‡´æ€§"><a href="#ç¼“å­˜ä¸€è‡´æ€§" class="headerlink" title="ç¼“å­˜ä¸€è‡´æ€§"></a>ç¼“å­˜ä¸€è‡´æ€§</h3><p>ç¼“å­˜ä¸€è‡´æ€§è¦æ±‚æ•°æ®æ›´æ–°çš„åŒæ—¶ç¼“å­˜æ•°æ®ä¹Ÿèƒ½å¤Ÿå®æ—¶æ›´æ–°ã€‚</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><ul><li>åœ¨æ•°æ®æ›´æ–°çš„åŒæ—¶ç«‹å³å»æ›´æ–°ç¼“å­˜ï¼›</li><li>åœ¨è¯»ç¼“å­˜ä¹‹å‰å…ˆåˆ¤æ–­ç¼“å­˜æ˜¯å¦æ˜¯æœ€æ–°çš„ï¼Œå¦‚æœä¸æ˜¯æœ€æ–°çš„å…ˆè¿›è¡Œæ›´æ–°ã€‚</li></ul><p>è¦ä¿è¯ç¼“å­˜ä¸€è‡´æ€§éœ€è¦ä»˜å‡ºå¾ˆå¤§çš„ä»£ä»·ï¼Œç¼“å­˜æ•°æ®æœ€å¥½æ˜¯é‚£äº›å¯¹ä¸€è‡´æ€§è¦æ±‚ä¸é«˜çš„æ•°æ®ï¼Œå…è®¸ç¼“å­˜æ•°æ®å­˜åœ¨ä¸€äº›è„æ•°æ®ã€‚</p><h3 id="ç¼“å­˜-â€œæ— åº•æ´â€-ç°è±¡"><a href="#ç¼“å­˜-â€œæ— åº•æ´â€-ç°è±¡" class="headerlink" title="ç¼“å­˜ â€œæ— åº•æ´â€ ç°è±¡"></a>ç¼“å­˜ â€œæ— åº•æ´â€ ç°è±¡</h3><p>æŒ‡çš„æ˜¯ä¸ºäº†æ»¡è¶³ä¸šåŠ¡è¦æ±‚æ·»åŠ äº†å¤§é‡ç¼“å­˜èŠ‚ç‚¹ï¼Œä½†æ˜¯æ€§èƒ½ä¸ä½†æ²¡æœ‰å¥½è½¬åè€Œä¸‹é™äº†çš„ç°è±¡ã€‚</p><p>äº§ç”ŸåŸå› ï¼šç¼“å­˜ç³»ç»Ÿé€šå¸¸é‡‡ç”¨ hash å‡½æ•°å°† key æ˜ å°„åˆ°å¯¹åº”çš„ç¼“å­˜èŠ‚ç‚¹ï¼Œéšç€ç¼“å­˜èŠ‚ç‚¹æ•°ç›®çš„å¢åŠ ï¼Œé”®å€¼åˆ†å¸ƒåˆ°æ›´å¤šçš„èŠ‚ç‚¹ä¸Šï¼Œå¯¼è‡´å®¢æˆ·ç«¯ä¸€æ¬¡æ‰¹é‡æ“ä½œä¼šæ¶‰åŠå¤šæ¬¡ç½‘ç»œæ“ä½œï¼Œè¿™æ„å‘³ç€æ‰¹é‡æ“ä½œçš„è€—æ—¶ä¼šéšç€èŠ‚ç‚¹æ•°ç›®çš„å¢åŠ è€Œä¸æ–­å¢å¤§ã€‚æ­¤å¤–ï¼Œç½‘ç»œè¿æ¥æ•°å˜å¤šï¼Œå¯¹èŠ‚ç‚¹çš„æ€§èƒ½ä¹Ÿæœ‰ä¸€å®šå½±å“ã€‚</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><ul><li>ä¼˜åŒ–æ‰¹é‡æ•°æ®æ“ä½œå‘½ä»¤ï¼›</li><li>å‡å°‘ç½‘ç»œé€šä¿¡æ¬¡æ•°ï¼›</li><li>é™ä½æ¥å…¥æˆæœ¬ï¼Œä½¿ç”¨é•¿è¿æ¥ / è¿æ¥æ± ï¼ŒNIO ç­‰ã€‚</li></ul><h2 id="äº”ã€æ•°æ®åˆ†å¸ƒ"><a href="#äº”ã€æ•°æ®åˆ†å¸ƒ" class="headerlink" title="äº”ã€æ•°æ®åˆ†å¸ƒ"></a>äº”ã€æ•°æ®åˆ†å¸ƒ</h2><h3 id="å“ˆå¸Œåˆ†å¸ƒ"><a href="#å“ˆå¸Œåˆ†å¸ƒ" class="headerlink" title="å“ˆå¸Œåˆ†å¸ƒ"></a>å“ˆå¸Œåˆ†å¸ƒ</h3><p>å“ˆå¸Œåˆ†å¸ƒå°±æ˜¯å°†æ•°æ®è®¡ç®—å“ˆå¸Œå€¼ä¹‹åï¼ŒæŒ‰ç…§å“ˆå¸Œå€¼åˆ†é…åˆ°ä¸åŒçš„èŠ‚ç‚¹ä¸Šã€‚ä¾‹å¦‚æœ‰ N ä¸ªèŠ‚ç‚¹ï¼Œæ•°æ®çš„ä¸»é”®ä¸º keyï¼Œåˆ™å°†è¯¥æ•°æ®åˆ†é…çš„èŠ‚ç‚¹åºå·ä¸ºï¼šhash(key)%Nã€‚</p><p>ä¼ ç»Ÿçš„å“ˆå¸Œåˆ†å¸ƒç®—æ³•å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šå½“èŠ‚ç‚¹æ•°é‡å˜åŒ–æ—¶ï¼Œä¹Ÿå°±æ˜¯ N å€¼å˜åŒ–ï¼Œé‚£ä¹ˆå‡ ä¹æ‰€æœ‰çš„æ•°æ®éƒ½éœ€è¦é‡æ–°åˆ†å¸ƒï¼Œå°†å¯¼è‡´å¤§é‡çš„æ•°æ®è¿ç§»ã€‚</p><h3 id="é¡ºåºåˆ†å¸ƒ"><a href="#é¡ºåºåˆ†å¸ƒ" class="headerlink" title="é¡ºåºåˆ†å¸ƒ"></a>é¡ºåºåˆ†å¸ƒ</h3><p>å°†æ•°æ®åˆ’åˆ†ä¸ºå¤šä¸ªè¿ç»­çš„éƒ¨åˆ†ï¼ŒæŒ‰æ•°æ®çš„ ID æˆ–è€…æ—¶é—´åˆ†å¸ƒåˆ°ä¸åŒèŠ‚ç‚¹ä¸Šã€‚ä¾‹å¦‚ User è¡¨çš„ ID èŒƒå›´ä¸º 1 ~ 7000ï¼Œä½¿ç”¨é¡ºåºåˆ†å¸ƒå¯ä»¥å°†å…¶åˆ’åˆ†æˆå¤šä¸ªå­è¡¨ï¼Œå¯¹åº”çš„ä¸»é”®èŒƒå›´ä¸º 1 ~ 1000ï¼Œ1001 ~ 2000ï¼Œâ€¦ï¼Œ6001 ~ 7000ã€‚</p><p>é¡ºåºåˆ†å¸ƒç›¸æ¯”äºå“ˆå¸Œåˆ†å¸ƒçš„ä¸»è¦ä¼˜ç‚¹å¦‚ä¸‹ï¼š</p><ul><li>èƒ½ä¿æŒæ•°æ®åŸæœ‰çš„é¡ºåºï¼›</li><li>å¹¶ä¸”èƒ½å¤Ÿå‡†ç¡®æ§åˆ¶æ¯å°æœåŠ¡å™¨å­˜å‚¨çš„æ•°æ®é‡ï¼Œä»è€Œä½¿å¾—å­˜å‚¨ç©ºé—´çš„åˆ©ç”¨ç‡æœ€å¤§ã€‚</li></ul><h2 id="å…­ã€ä¸€è‡´æ€§å“ˆå¸Œ"><a href="#å…­ã€ä¸€è‡´æ€§å“ˆå¸Œ" class="headerlink" title="å…­ã€ä¸€è‡´æ€§å“ˆå¸Œ"></a>å…­ã€ä¸€è‡´æ€§å“ˆå¸Œ</h2><p>Distributed Hash Tableï¼ˆDHTï¼‰ æ˜¯ä¸€ç§å“ˆå¸Œåˆ†å¸ƒæ–¹å¼ï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†å…‹æœä¼ ç»Ÿå“ˆå¸Œåˆ†å¸ƒåœ¨æœåŠ¡å™¨èŠ‚ç‚¹æ•°é‡å˜åŒ–æ—¶å¤§é‡æ•°æ®è¿ç§»çš„é—®é¢˜ã€‚</p><h3 id="åŸºæœ¬åŸç†"><a href="#åŸºæœ¬åŸç†" class="headerlink" title="åŸºæœ¬åŸç†"></a>åŸºæœ¬åŸç†</h3><p>å°†å“ˆå¸Œç©ºé—´ [0, 2n-1] çœ‹æˆä¸€ä¸ªå“ˆå¸Œç¯ï¼Œæ¯ä¸ªæœåŠ¡å™¨èŠ‚ç‚¹éƒ½é…ç½®åˆ°å“ˆå¸Œç¯ä¸Šã€‚æ¯ä¸ªæ•°æ®å¯¹è±¡é€šè¿‡å“ˆå¸Œå–æ¨¡å¾—åˆ°å“ˆå¸Œå€¼ä¹‹åï¼Œå­˜æ”¾åˆ°å“ˆå¸Œç¯ä¸­é¡ºæ—¶é’ˆæ–¹å‘ç¬¬ä¸€ä¸ªå¤§äºç­‰äºè¯¥å“ˆå¸Œå€¼çš„èŠ‚ç‚¹ä¸Šã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/68b110b9-76c6-4ee2-b541-4145e65adb3e.jpg" alt="img"></p><p>ä¸€è‡´æ€§å“ˆå¸Œåœ¨å¢åŠ æˆ–è€…åˆ é™¤èŠ‚ç‚¹æ—¶åªä¼šå½±å“åˆ°å“ˆå¸Œç¯ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œä¾‹å¦‚ä¸‹å›¾ä¸­æ–°å¢èŠ‚ç‚¹ Xï¼Œåªéœ€è¦å°†å®ƒå‰ä¸€ä¸ªèŠ‚ç‚¹ C ä¸Šçš„æ•°æ®é‡æ–°è¿›è¡Œåˆ†å¸ƒå³å¯ï¼Œå¯¹äºèŠ‚ç‚¹ Aã€Bã€D éƒ½æ²¡æœ‰å½±å“ã€‚</p><p><img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/66402828-fb2b-418f-83f6-82153491bcfe.jpg" alt="img"></p><h3 id="è™šæ‹ŸèŠ‚ç‚¹"><a href="#è™šæ‹ŸèŠ‚ç‚¹" class="headerlink" title="è™šæ‹ŸèŠ‚ç‚¹"></a>è™šæ‹ŸèŠ‚ç‚¹</h3><p>ä¸Šé¢æè¿°çš„ä¸€è‡´æ€§å“ˆå¸Œå­˜åœ¨æ•°æ®åˆ†å¸ƒä¸å‡åŒ€çš„é—®é¢˜ï¼ŒèŠ‚ç‚¹å­˜å‚¨çš„æ•°æ®é‡æœ‰å¯èƒ½ä¼šå­˜åœ¨å¾ˆå¤§çš„ä¸åŒã€‚</p><p>æ•°æ®ä¸å‡åŒ€ä¸»è¦æ˜¯å› ä¸ºèŠ‚ç‚¹åœ¨å“ˆå¸Œç¯ä¸Šåˆ†å¸ƒçš„ä¸å‡åŒ€ï¼Œè¿™ç§æƒ…å†µåœ¨èŠ‚ç‚¹æ•°é‡å¾ˆå°‘çš„æƒ…å†µä¸‹å°¤å…¶æ˜æ˜¾ã€‚</p><p>è§£å†³æ–¹å¼æ˜¯é€šè¿‡å¢åŠ è™šæ‹ŸèŠ‚ç‚¹ï¼Œç„¶åå°†è™šæ‹ŸèŠ‚ç‚¹æ˜ å°„åˆ°çœŸå®èŠ‚ç‚¹ä¸Šã€‚è™šæ‹ŸèŠ‚ç‚¹çš„æ•°é‡æ¯”çœŸå®èŠ‚ç‚¹æ¥å¾—å¤šï¼Œé‚£ä¹ˆè™šæ‹ŸèŠ‚ç‚¹åœ¨å“ˆå¸Œç¯ä¸Šåˆ†å¸ƒçš„å‡åŒ€æ€§å°±ä¼šæ¯”åŸæ¥çš„çœŸå®èŠ‚ç‚¹å¥½ï¼Œä»è€Œä½¿å¾—æ•°æ®åˆ†å¸ƒä¹Ÿæ›´åŠ å‡åŒ€ã€‚</p><h2 id="ä¸ƒã€LRU"><a href="#ä¸ƒã€LRU" class="headerlink" title="ä¸ƒã€LRU"></a>ä¸ƒã€LRU</h2><p>ä»¥ä¸‹æ˜¯åŸºäº åŒå‘é“¾è¡¨ + HashMap çš„ LRU ç®—æ³•å®ç°ï¼Œå¯¹ç®—æ³•çš„è§£é‡Šå¦‚ä¸‹ï¼š</p><ul><li>è®¿é—®æŸä¸ªèŠ‚ç‚¹æ—¶ï¼Œå°†å…¶ä»åŸæ¥çš„ä½ç½®åˆ é™¤ï¼Œå¹¶é‡æ–°æ’å…¥åˆ°é“¾è¡¨å¤´éƒ¨ã€‚è¿™æ ·å°±èƒ½ä¿è¯é“¾è¡¨å°¾éƒ¨å­˜å‚¨çš„å°±æ˜¯æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨çš„èŠ‚ç‚¹ï¼Œå½“èŠ‚ç‚¹æ•°é‡å¤§äºç¼“å­˜æœ€å¤§ç©ºé—´æ—¶å°±æ·˜æ±°é“¾è¡¨å°¾éƒ¨çš„èŠ‚ç‚¹ã€‚</li><li>ä¸ºäº†ä½¿åˆ é™¤æ“ä½œæ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼Œå°±ä¸èƒ½é‡‡ç”¨éå†çš„æ–¹å¼æ‰¾åˆ°æŸä¸ªèŠ‚ç‚¹ã€‚HashMap å­˜å‚¨ç€ Key åˆ°èŠ‚ç‚¹çš„æ˜ å°„ï¼Œé€šè¿‡ Key å°±èƒ½ä»¥ O(1) çš„æ—¶é—´å¾—åˆ°èŠ‚ç‚¹ï¼Œç„¶åå†ä»¥ O(1) çš„æ—¶é—´å°†å…¶ä»åŒå‘é˜Ÿåˆ—ä¸­åˆ é™¤ã€‚</li></ul><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul><li>å¤§è§„æ¨¡åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿ</li><li><a href="https://tech.meituan.com/cache_about.html">ç¼“å­˜é‚£äº›äº‹(opens new window)</a></li><li><a href="https://my.oschina.net/jayhu/blog/732849">ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•(opens new window)</a></li><li><a href="https://zh.wikipedia.org/wiki/%E5%85%A7%E5%AE%B9%E5%82%B3%E9%81%9E%E7%B6%B2%E8%B7%AF">å†…å®¹åˆ†å‘ç½‘ç»œ(opens new window)</a></li><li><a href="https://www.aspirationhosting.com/aspiration-cdn/">How Aspiration CDN helps to improve your website loading speed?</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> è½¬è½½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ–‡ç«  </tag>
            
            <tag> è½¬è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goè¯­è¨€ä½¿ç”¨é˜¿é‡Œäº‘å®ç°çŸ­ä¿¡å‘é€/éªŒè¯æœåŠ¡ï¼ˆginæ¡†æ¶ï¼‰</title>
      <link href="/hypo-Z.github.io/2021/12/16/go-yu-yan-shi-yong-a-li-yun-shi-xian-duan-xin-fa-song-yan-zheng-fu-wu-gin-kuang-jia/"/>
      <url>/hypo-Z.github.io/2021/12/16/go-yu-yan-shi-yong-a-li-yun-shi-xian-duan-xin-fa-song-yan-zheng-fu-wu-gin-kuang-jia/</url>
      
        <content type="html"><![CDATA[<h1 id="goè¯­è¨€ä½¿ç”¨é˜¿é‡Œäº‘å®ç°çŸ­ä¿¡å‘é€-éªŒè¯æœåŠ¡ï¼ˆginæ¡†æ¶ï¼‰"><a href="#goè¯­è¨€ä½¿ç”¨é˜¿é‡Œäº‘å®ç°çŸ­ä¿¡å‘é€-éªŒè¯æœåŠ¡ï¼ˆginæ¡†æ¶ï¼‰" class="headerlink" title="goè¯­è¨€ä½¿ç”¨é˜¿é‡Œäº‘å®ç°çŸ­ä¿¡å‘é€/éªŒè¯æœåŠ¡ï¼ˆginæ¡†æ¶ï¼‰"></a>goè¯­è¨€ä½¿ç”¨é˜¿é‡Œäº‘å®ç°çŸ­ä¿¡å‘é€/éªŒè¯æœåŠ¡ï¼ˆginæ¡†æ¶ï¼‰</h1><h3 id="å®˜æ–¹ç¤ºä¾‹"><a href="#å®˜æ–¹ç¤ºä¾‹" class="headerlink" title="å®˜æ–¹ç¤ºä¾‹"></a>å®˜æ–¹ç¤ºä¾‹</h3><h2 id="çŸ­ä¿¡æ‰¹é‡å‘é€ç»“æœæŸ¥è¯¢-CodeSample"><a href="#çŸ­ä¿¡æ‰¹é‡å‘é€ç»“æœæŸ¥è¯¢-CodeSample" class="headerlink" title="çŸ­ä¿¡æ‰¹é‡å‘é€ç»“æœæŸ¥è¯¢ CodeSample"></a>çŸ­ä¿¡æ‰¹é‡å‘é€ç»“æœæŸ¥è¯¢ CodeSample</h2><p>è¯¥é¡¹ç›®ä¸ºé€šè¿‡ SendSms å‘é€çŸ­ä¿¡å¹¶æŸ¥è¯¢å‘é€çš„ç»“ CodeSampleï¼Œç”Ÿæˆçš„ä»£ç å¯ä»¥é€šè¿‡å®‰è£…<a href="https://darabonba.api.aliyun.com/module/alibabacloud/CS20151215">å„è¯­è¨€çš„åŒ…</a>æ¥è¿›è¡Œæµ‹è¯•ã€‚</p><h3 id="å…ˆå†³æ¡ä»¶"><a href="#å…ˆå†³æ¡ä»¶" class="headerlink" title="å…ˆå†³æ¡ä»¶"></a>å…ˆå†³æ¡ä»¶</h3><ul><li>åœ¨æ‚¨å¼€å§‹ä¹‹å‰ï¼Œæ‚¨éœ€è¦æ³¨å†Œé˜¿é‡Œäº‘å¸æˆ·å¹¶è·å–æ‚¨çš„ <a href="https://usercenter.console.aliyun.com/#/manage/ak">å‡­è¯</a></li></ul><h3 id="ä½¿ç”¨çš„-API"><a href="#ä½¿ç”¨çš„-API" class="headerlink" title="ä½¿ç”¨çš„ API"></a>ä½¿ç”¨çš„ API</h3><ul><li>SendBatchSms æ‰¹é‡å‘é€çŸ­ä¿¡ï¼Œå¯ä»¥å‚è€ƒï¼š<a href="https://help.aliyun.com/document_detail/101414.html">æ–‡æ¡£</a></li><li>QuerySendDetails æŸ¥è¯¢çŸ­ä¿¡çš„å‘é€æƒ…å†µï¼Œå¯ä»¥å‚è€ƒï¼š<a href="https://help.aliyun.com/document_detail/102352.html">æ–‡æ¡£</a></li></ul><h3 id="è¾“å…¥å‚æ•°"><a href="#è¾“å…¥å‚æ•°" class="headerlink" title="è¾“å…¥å‚æ•°"></a>è¾“å…¥å‚æ•°</h3><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">&lt;phoneNumbers&gt;: æ¥æ”¶çŸ­ä¿¡çš„æ‰‹æœºå·ç ï¼Œå¤šä¸ªç”¨è‹±æ–‡é€—å·éš”å¼€&lt;signNameJson&gt;: çŸ­ä¿¡ç­¾ååç§°ï¼Œeg: "é˜¿é‡Œäº‘"&lt;templateCode&gt;: çŸ­ä¿¡æ¨¡æ¿CODE&lt;templateParamJson&gt;: çŸ­ä¿¡æ¨¡æ¿å˜é‡å¯¹åº”çš„å®é™…å€¼ï¼Œegï¼š{"code":"1234"}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¿”å›ç¤ºä¾‹"><a href="#è¿”å›ç¤ºä¾‹" class="headerlink" title="è¿”å›ç¤ºä¾‹"></a>è¿”å›ç¤ºä¾‹</h3><p>QuerySendDetailsï¼š</p><pre class="line-numbers language-sh" data-language="sh"><code class="language-sh">{"TotalCount":1,"Message":"OK","RequestId":"819BE656-D2E0-4858-8B21-B2E477085AAF","SmsSendDetailDTOs":{"SmsSendDetailDTO":{"SendDate":"2019-01-08 16:44:10","OutId":123,"SendStatus":3,"ReceiveDate":"2019-01-08 16:44:13","ErrCode":"DELIVERED","TemplateCode":"SMS_122310183","Content":"ã€é˜¿é‡Œäº‘ã€‘éªŒè¯ç ä¸ºï¼š123ï¼Œæ‚¨æ­£åœ¨ç™»å½•ï¼Œè‹¥éæœ¬äººæ“ä½œï¼Œè¯·å‹¿æ³„éœ²","PhoneNum":15298356881}},"Code":"OK"}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æœ¬äººæµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š"><a href="#æœ¬äººæµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š" class="headerlink" title="æœ¬äººæµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š"></a>æœ¬äººæµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</h3><h5 id="ç”¨æˆ·ä¿¡æ¯ç»“æ„ä½“ï¼š"><a href="#ç”¨æˆ·ä¿¡æ¯ç»“æ„ä½“ï¼š" class="headerlink" title="ç”¨æˆ·ä¿¡æ¯ç»“æ„ä½“ï¼š"></a>ç”¨æˆ·ä¿¡æ¯ç»“æ„ä½“ï¼š</h5><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">type</span> UserInfo <span class="token keyword">struct</span> <span class="token punctuation">{</span>Uid              <span class="token builtin">int64</span>Account          <span class="token builtin">string</span>Password         <span class="token builtin">string</span>Phone            <span class="token builtin">string</span>Email            <span class="token builtin">string</span>VerificationCode <span class="token builtin">string</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="çŸ­ä¿¡å‘é€éƒ¨åˆ†ä»£ç ï¼š"><a href="#çŸ­ä¿¡å‘é€éƒ¨åˆ†ä»£ç ï¼š" class="headerlink" title="çŸ­ä¿¡å‘é€éƒ¨åˆ†ä»£ç ï¼š"></a>çŸ­ä¿¡å‘é€éƒ¨åˆ†ä»£ç ï¼š</h5><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// GetSMSverification é€šè¿‡çŸ­ä¿¡å‘é€éªŒè¯ç </span><span class="token keyword">func</span> <span class="token function">GetSMSVerification</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>data <span class="token operator">:=</span> Models<span class="token punctuation">.</span>UserInfo<span class="token punctuation">{</span><span class="token punctuation">}</span>err <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">BindJSON</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>data<span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>Utils<span class="token punctuation">.</span><span class="token function">HandleErr</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> err<span class="token punctuation">,</span> <span class="token string">"è·å–æ•°æ®å¤±è´¥"</span><span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span>user <span class="token operator">:=</span> <span class="token operator">&amp;</span>Models<span class="token punctuation">.</span>UserInfo<span class="token punctuation">{</span>Phone<span class="token punctuation">:</span> data<span class="token punctuation">.</span>Phone<span class="token punctuation">}</span>isExist <span class="token operator">:=</span> <span class="token operator">&amp;</span>dataisExist<span class="token punctuation">.</span><span class="token function">QueryPhone</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>Phone<span class="token punctuation">)</span><span class="token comment">//å‘é€éªŒè¯ç </span>request <span class="token operator">:=</span> Models<span class="token punctuation">.</span>ALiYunCommunicationRequest<span class="token punctuation">{</span><span class="token punctuation">}</span>randcode <span class="token operator">:=</span> Utils<span class="token punctuation">.</span><span class="token function">GenerateRandNum</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>    <span class="token comment">//éœ€è·å–AliYunçš„çŸ­ä¿¡æœåŠ¡ç­¾åå’ŒçŸ­ä¿¡æ¨¡æ¿</span>req <span class="token operator">:=</span> request<span class="token punctuation">.</span><span class="token function">SetParamsValue</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>Phone<span class="token punctuation">,</span> signName<span class="token punctuation">,</span> randcode<span class="token punctuation">,</span> TemplateParam<span class="token punctuation">)</span>err <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">SendReq</span><span class="token punctuation">(</span><span class="token punctuation">)</span>Utils<span class="token punctuation">.</span><span class="token function">HandleErr</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> err<span class="token punctuation">,</span> <span class="token string">"å‘é€å¤±è´¥"</span><span class="token punctuation">)</span>c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span><span class="token string">"verification"</span><span class="token punctuation">:</span> randcode<span class="token punctuation">,</span><span class="token string">"result"</span><span class="token punctuation">:</span>       <span class="token string">"å‘é€æˆåŠŸ"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">//è®°å½•æœ¬åœ°éªŒè¯ç </span>user<span class="token punctuation">.</span>VerificationCode <span class="token operator">=</span> randcode<span class="token comment">//ç»™å®šè¿‡æœŸæ—¶é—´</span>timer <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">NewTimer</span><span class="token punctuation">(</span><span class="token number">60</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span><span class="token keyword">select</span> <span class="token punctuation">{</span><span class="token keyword">case</span> <span class="token operator">&lt;-</span>timer<span class="token punctuation">.</span>C<span class="token punctuation">:</span>user<span class="token punctuation">.</span>VerificationCode <span class="token operator">=</span> <span class="token string">"expired"</span><span class="token punctuation">}</span>timer<span class="token punctuation">.</span><span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="çŸ­ä¿¡éªŒè¯éƒ¨åˆ†ä»£ç ï¼š"><a href="#çŸ­ä¿¡éªŒè¯éƒ¨åˆ†ä»£ç ï¼š" class="headerlink" title="çŸ­ä¿¡éªŒè¯éƒ¨åˆ†ä»£ç ï¼š"></a>çŸ­ä¿¡éªŒè¯éƒ¨åˆ†ä»£ç ï¼š</h5><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// LoginbySMS  é€šè¿‡SMSç”¨æˆ·ç™»å½•</span><span class="token keyword">func</span> <span class="token function">LoginbySMS</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>data <span class="token operator">:=</span> Models<span class="token punctuation">.</span>UserInfo<span class="token punctuation">{</span><span class="token punctuation">}</span>err <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">BindJSON</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>data<span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>Utils<span class="token punctuation">.</span><span class="token function">HandleErr</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> err<span class="token punctuation">,</span> <span class="token string">"è·å–æ•°æ®å¤±è´¥"</span><span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>VerificationCode<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span><span class="token string">"verification"</span><span class="token punctuation">:</span> <span class="token boolean">nil</span><span class="token punctuation">,</span><span class="token string">"result"</span><span class="token punctuation">:</span>       <span class="token string">"è·å–æ•°æ®å¤±è´¥"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>user <span class="token operator">:=</span> <span class="token operator">&amp;</span>Models<span class="token punctuation">.</span>UserInfo<span class="token punctuation">{</span>VerificationCode<span class="token punctuation">:</span> data<span class="token punctuation">.</span>VerificationCode<span class="token punctuation">}</span> <span class="token comment">//å¡«å…¥çš„éªŒè¯ç </span>isExist <span class="token operator">:=</span> <span class="token operator">&amp;</span>dataisExist<span class="token punctuation">.</span><span class="token function">QueryPhone</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>Phone<span class="token punctuation">)</span><span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>VerificationCode<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span><span class="token string">"verification"</span><span class="token punctuation">:</span> user<span class="token punctuation">.</span>VerificationCode<span class="token punctuation">,</span><span class="token string">"result"</span><span class="token punctuation">:</span>       <span class="token string">"éªŒè¯ç è¾“å…¥é”™è¯¯"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">if</span> user<span class="token punctuation">.</span>VerificationCode <span class="token operator">==</span> <span class="token string">"expired"</span> <span class="token punctuation">{</span>c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span><span class="token string">"verification"</span><span class="token punctuation">:</span> user<span class="token punctuation">.</span>VerificationCode<span class="token punctuation">,</span><span class="token string">"result"</span><span class="token punctuation">:</span>       <span class="token string">"éªŒè¯ç è¿‡æœŸ"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">//å¡«å…¥çš„éªŒè¯ç ä¸æ•°æ®åº“çš„éªŒè¯ç è¿›è¡Œæ¯”è¾ƒ</span><span class="token keyword">if</span> user<span class="token punctuation">.</span>VerificationCode <span class="token operator">==</span> data<span class="token punctuation">.</span>VerificationCode <span class="token punctuation">{</span><span class="token function">SetCookie</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> data<span class="token punctuation">.</span>Uid<span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span><span class="token string">"verificationCode"</span><span class="token punctuation">:</span> user<span class="token punctuation">.</span>VerificationCode<span class="token punctuation">,</span><span class="token string">"result"</span><span class="token punctuation">:</span>           <span class="token string">"éªŒè¯ç é”™è¯¯"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç»“è®ºï¼š"><a href="#ç»“è®ºï¼š" class="headerlink" title="ç»“è®ºï¼š"></a>ç»“è®ºï¼š</h2><p>å› ä¸ºçŸ­ä¿¡ç­¾åéœ€è¦å®Œæ•´çš„ç½‘ç«™å’ŒAppæ‰èƒ½ç”³è¯·æˆåŠŸï¼Œä¸èƒ½çœ‹åˆ°å®é™…çŸ­ä¿¡æƒ…å†µï¼Œä½†åœ¨postmanæµ‹è¯•æ˜¯æˆåŠŸè¿”å›ï¼Œå¾…ç½‘ç«™å»ºè®¾å®Œå¥½åï¼Œå†å±•ç¤ºçŸ­ä¿¡ç»“æœã€‚ã€‚ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Golang </tag>
            
            <tag> Ginæ¡†æ¶ </tag>
            
            <tag> AliYun </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goè¯­è¨€å®ç°é‚®ç®±éªŒè¯/é‚®ä»¶å‘é€</title>
      <link href="/hypo-Z.github.io/2021/12/15/go-yu-yan-shi-xian-you-xiang-yan-zheng-you-jian-fa-song/"/>
      <url>/hypo-Z.github.io/2021/12/15/go-yu-yan-shi-xian-you-xiang-yan-zheng-you-jian-fa-song/</url>
      
        <content type="html"><![CDATA[<h1 id="Goè¯­è¨€å®ç°é‚®ç®±éªŒè¯-é‚®ä»¶å‘é€"><a href="#Goè¯­è¨€å®ç°é‚®ç®±éªŒè¯-é‚®ä»¶å‘é€" class="headerlink" title="Goè¯­è¨€å®ç°é‚®ç®±éªŒè¯/é‚®ä»¶å‘é€"></a>Goè¯­è¨€å®ç°é‚®ç®±éªŒè¯/é‚®ä»¶å‘é€</h1><h3 id="1-é¦–å…ˆè®¾ç½®é‚®ç®±çš„smtp"><a href="#1-é¦–å…ˆè®¾ç½®é‚®ç®±çš„smtp" class="headerlink" title="1.é¦–å…ˆè®¾ç½®é‚®ç®±çš„smtp"></a>1.é¦–å…ˆè®¾ç½®é‚®ç®±çš„smtp</h3><p>SMTPæœåŠ¡å™¨å°±æ˜¯é‚®ä»¶ä»£æ”¶å‘æœåŠ¡å™¨ï¼Œç”±é‚®ä»¶æœåŠ¡å•†æä¾›ï¼Œå¸¸è§çš„SMTPæœåŠ¡å™¨ç«¯å£å·ï¼š<br>QQé‚®ç®±ï¼šSMTPæœåŠ¡å™¨åœ°å€ï¼šsmtp.qq.comï¼ˆç«¯å£ï¼š587ï¼‰<br>é›…è™é‚®ç®±: SMTPæœåŠ¡å™¨åœ°å€ï¼šsmtp.yahoo.comï¼ˆç«¯å£ï¼š587ï¼‰<br>163é‚®ç®±ï¼šSMTPæœåŠ¡å™¨åœ°å€ï¼šsmtp.163.comï¼ˆç«¯å£ï¼š25ï¼‰<br>126é‚®ç®±: SMTPæœåŠ¡å™¨åœ°å€ï¼šsmtp.126.comï¼ˆç«¯å£ï¼š25ï¼‰<br>æ–°æµªé‚®ç®±: SMTPæœåŠ¡å™¨åœ°å€ï¼šsmtp.sina.comï¼ˆç«¯å£ï¼š25ï¼‰</p><p>ç™»å½•é‚®ç®±è´¦æˆ· è®¾ç½®å¼€å¯SMTP å¹¶è·å–æˆæƒç </p><p>æˆ‘ä½¿ç”¨çš„æ˜¯QQé‚®ç®±è¿›è¡Œæµ‹è¯•</p><p><img src="https://hypo-pictrue-1308430808.cos.ap-shanghai.myqcloud.com/hypo.ltd-%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE%E5%AD%98%E5%82%A8/qqmail_test.jpg" alt="qqmail"></p><p>QQé‚®ç®±é»˜è®¤å…³é—­SMTPæœåŠ¡ï¼Œå°†IMAP/SMTPæœåŠ¡æ‰“å¼€ï¼Œè·Ÿç€æµç¨‹åšåä½ ä¼šå¾—åˆ°ä»¤ç‰Œå¯†ç ã€‚</p><h3 id="ä»£ç å®ç°å¦‚ä¸‹ï¼š"><a href="#ä»£ç å®ç°å¦‚ä¸‹ï¼š" class="headerlink" title="ä»£ç å®ç°å¦‚ä¸‹ï¼š"></a>ä»£ç å®ç°å¦‚ä¸‹ï¼š</h3><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">SendToMail</span><span class="token punctuation">(</span>rand<span class="token punctuation">,</span> to <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>subject <span class="token operator">:=</span> <span class="token string">"åŠ¨æ€éªŒè¯ç "</span>user <span class="token operator">:=</span> <span class="token string">"user@qq.com"</span>password <span class="token operator">:=</span> <span class="token string">"**********"</span> <span class="token comment">//è¾“å…¥åˆšå¾—åˆ°çš„ä»¤ç‰Œ</span>host <span class="token operator">:=</span> <span class="token string">"smtp.qq.com:587"</span>body <span class="token operator">:=</span> <span class="token string">"æ‚¨çš„åŠ¨æ€éªŒè¯ç ä¸ºï¼š"</span> <span class="token operator">+</span> rand <span class="token operator">+</span> <span class="token string">"ï¼Œæ‚¨æ­£åœ¨è¿›è¡Œå¯†ç é‡ç½®æ“ä½œï¼Œå¦‚éæœ¬äººæ“ä½œï¼Œè¯·å¿½ç•¥æœ¬é‚®ä»¶ï¼"</span>sendUserName <span class="token operator">:=</span> <span class="token string">"senderName"</span> <span class="token comment">//å‘é€é‚®ä»¶çš„äººåç§°</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"send email"</span><span class="token punctuation">)</span>hp <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> <span class="token string">":"</span><span class="token punctuation">)</span>auth <span class="token operator">:=</span> smtp<span class="token punctuation">.</span><span class="token function">PlainAuth</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> user<span class="token punctuation">,</span> password<span class="token punctuation">,</span> hp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">var</span> content_type <span class="token builtin">string</span>mailtype <span class="token operator">:=</span> <span class="token string">""</span><span class="token keyword">if</span> mailtype <span class="token operator">==</span> <span class="token string">"html"</span> <span class="token punctuation">{</span>content_type <span class="token operator">=</span> <span class="token string">"Content-Type: text/"</span> <span class="token operator">+</span> mailtype <span class="token operator">+</span> <span class="token string">"; charset=UTF-8"</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>content_type <span class="token operator">=</span> <span class="token string">"Content-Type: text/plain"</span> <span class="token operator">+</span> <span class="token string">"; charset=UTF-8"</span><span class="token punctuation">}</span>msg <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">"To: "</span> <span class="token operator">+</span> to <span class="token operator">+</span> <span class="token string">"\r\nFrom: "</span> <span class="token operator">+</span> sendUserName <span class="token operator">+</span> <span class="token string">"&lt;"</span> <span class="token operator">+</span> user <span class="token operator">+</span> <span class="token string">"&gt;"</span> <span class="token operator">+</span> <span class="token string">"\r\nSubject: "</span> <span class="token operator">+</span> subject <span class="token operator">+</span> <span class="token string">"\r\n"</span> <span class="token operator">+</span> content_type <span class="token operator">+</span> <span class="token string">"\r\n\r\n"</span> <span class="token operator">+</span> body<span class="token punctuation">)</span>send_to <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> <span class="token string">";"</span><span class="token punctuation">)</span>err <span class="token operator">:=</span> smtp<span class="token punctuation">.</span><span class="token function">SendMail</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> auth<span class="token punctuation">,</span> user<span class="token punctuation">,</span> send_to<span class="token punctuation">,</span> msg<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"send email"</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Send mail error!"</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Send mail success!"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">return</span> err<span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//å‘é€éªŒè¯ç </span>randcode <span class="token operator">:=</span> Utils<span class="token punctuation">.</span><span class="token function">GenerateRandNum</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token comment">//éšæœº6ä½æ•°</span>err <span class="token operator">=</span> Models<span class="token punctuation">.</span><span class="token function">SendToMail</span><span class="token punctuation">(</span>randcode<span class="token punctuation">,</span>user<span class="token punctuation">.</span>Email<span class="token punctuation">)</span>    log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"éªŒè¯ç å‘é€å¤±è´¥,err:%s"</span><span class="token punctuation">,</span>err<span class="token punctuation">)</span>c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span><span class="token string">"verification"</span><span class="token punctuation">:</span> randcode<span class="token punctuation">,</span><span class="token string">"result"</span><span class="token punctuation">:</span>       <span class="token string">"å‘é€æˆåŠŸ"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆåŠŸå‘é€ï¼š</p><p><img src="https://hypo-pictrue-1308430808.cos.ap-shanghai.myqcloud.com/hypo.ltd-%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE%E5%AD%98%E5%82%A8/qqmail_test_success.jpg" alt="success"></p><h3 id="é‡åˆ°çš„å‡ ä¸ªå‘"><a href="#é‡åˆ°çš„å‡ ä¸ªå‘" class="headerlink" title="é‡åˆ°çš„å‡ ä¸ªå‘"></a>é‡åˆ°çš„å‡ ä¸ªå‘</h3><ul><li>smtp.SendMail åå‡ºç° EOF å¤±è´¥</li></ul><p><strong>è§£å†³æ–¹æ³•ï¼š</strong> QQmail çš„ 465 ç«¯å£ç”¨äºé€šè¿‡ TLS è¿æ¥ï¼Œä½† SendMail éœ€è¦æ™®é€šçš„æ—§ TCPã€‚å°è¯•è¿æ¥åˆ°ç«¯å£ 587ã€‚SendMail å°†åœ¨å¯ç”¨æ—¶è‡ªåŠ¨å‡çº§åˆ° TLSï¼ˆåœ¨æœ¬ä¾‹ä¸­å°±æ˜¯è¿™ç§æƒ…å†µï¼‰ã€‚</p><p>è¿˜éœ€è¦è§£å†³çš„é—®é¢˜ï¼š</p><ul><li>è¿™ä¸ªåªèƒ½å•äººè¿›è¡ŒéªŒè¯ï¼Œå¦‚æœå¤šä¸ªäººåŒæ—¶éªŒè¯ä¼šé€ æˆéªŒè¯ç è®°å½•è¦†ç›–ï¼Œå¯¼è‡´ç”¨æˆ·è¾“å…¥éªŒè¯ç é”™è¯¯ã€‚</li></ul><p>ä»£è§£å†³ã€‚ã€‚ã€‚</p><p><strong>è§£å†³æ–¹æ³•ï¼š</strong> å°†éªŒè¯ç è®°å½•åœ¨æœ¬åœ°æ•°æ®åº“ä¸ªäººç”¨æˆ·çš„å­—æ®µä¸­ï¼Œå¹¶è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œæ—¶é—´ä¸€åˆ°å°±ä¼šè¢«è¦†ç›–æ‰ï¼›<br>éªŒè¯æ—¶ï¼Œåœ¨è¿‡æœŸæ—¶é—´ä¹‹å‰ï¼Œé€šè¿‡é‚®ç®±å·æŸ¥æ‰¾éªŒè¯ç æ¯”è¾ƒæ˜¯å¦ç›¸åŒï¼Œå³å¯è§£å†³å¤šä¸ªç”¨æˆ·éªŒè¯é—®é¢˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Golang </tag>
            
            <tag> Ginæ¡†æ¶ </tag>
            
            <tag> SMTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ginæ¡†æ¶ä¸­ä½¿ç”¨JWTè¿›è¡Œæ¥å£è®¤è¯</title>
      <link href="/hypo-Z.github.io/2021/12/07/gin-kuang-jia-zhong-shi-yong-jwt-jin-xing-jie-kou-ren-zheng/"/>
      <url>/hypo-Z.github.io/2021/12/07/gin-kuang-jia-zhong-shi-yong-jwt-jin-xing-jie-kou-ren-zheng/</url>
      
        <content type="html"><![CDATA[<p><a href="https://juejin.cn/user/1556564193589431"><img src="https://p26-passport.byteacctimg.com/img/user-avatar/3e505a96513d6dcbb77fbea3b4d936db~300x300.image" alt="img"></a></p><p><a href="https://juejin.cn/user/1556564193589431">CloudNativeOps <img src="https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/f597b88d22ce5370bd94495780459040.svg" alt="lv-2"></a></p><p>2020å¹´03æœˆ15æ—¥ é˜…è¯» 5401</p><p>å…³æ³¨</p><h1 id="Ginæ¡†æ¶ä¸­ä½¿ç”¨JWTè¿›è¡Œæ¥å£è®¤è¯"><a href="#Ginæ¡†æ¶ä¸­ä½¿ç”¨JWTè¿›è¡Œæ¥å£è®¤è¯" class="headerlink" title="Ginæ¡†æ¶ä¸­ä½¿ç”¨JWTè¿›è¡Œæ¥å£è®¤è¯"></a>Ginæ¡†æ¶ä¸­ä½¿ç”¨JWTè¿›è¡Œæ¥å£è®¤è¯</h1><blockquote><p>èƒŒæ™¯: åœ¨å¦‚ä»Šå‰åç«¯åˆ†ç¦»å¼€å‘çš„å¤§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬éœ€è¦è§£å†³ä¸€äº›ç™»é™†ï¼ŒåæœŸèº«ä»½è®¤è¯ä»¥åŠé‰´æƒç›¸å…³çš„äº‹æƒ…ï¼Œé€šå¸¸çš„æ–¹æ¡ˆå°±æ˜¯é‡‡ç”¨è¯·æ±‚å¤´æºå¸¦tokençš„æ–¹å¼è¿›è¡Œå®ç°ã€‚æœ¬ç¯‡æ–‡ç« ä¸»è¦åˆ†äº«ä¸‹åœ¨Golangè¯­è¨€ä¸‹ä½¿ç”¨<a href="https://link.juejin.cn/?target=https://github.com/dgrijalva/jwt-go">jwt-go</a>æ¥å®ç°åç«¯çš„tokenè®¤è¯é€»è¾‘ã€‚</p></blockquote><p><code>JSON Web Token(JWT)</code>æ˜¯ä¸€ä¸ªå¸¸ç”¨è¯­HTTPçš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é—´è¿›è¡Œèº«ä»½è®¤è¯å’Œé‰´æƒçš„æ ‡å‡†è§„èŒƒï¼Œä½¿ç”¨JWTå¯ä»¥å…è®¸æˆ‘ä»¬åœ¨ç”¨æˆ·å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ é€’å®‰å…¨å¯é çš„ä¿¡æ¯ã€‚</p><p>åœ¨å¼€å§‹å­¦ä¹ <a href="https://link.juejin.cn/?target=https://jwt.io/">JWT</a>ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆäº†è§£ä¸‹æ—©æœŸçš„å‡ ç§æ–¹æ¡ˆã€‚</p><h3 id="tokenã€cookieã€sessionçš„åŒºåˆ«"><a href="#tokenã€cookieã€sessionçš„åŒºåˆ«" class="headerlink" title="tokenã€cookieã€sessionçš„åŒºåˆ«"></a>tokenã€cookieã€sessionçš„åŒºåˆ«</h3><p><strong>Cookie</strong></p><p>Cookieæ€»æ˜¯ä¿å­˜åœ¨å®¢æˆ·ç«¯ä¸­ï¼ŒæŒ‰åœ¨å®¢æˆ·ç«¯ä¸­çš„å­˜å‚¨ä½ç½®ï¼Œå¯åˆ†ä¸º<code>å†…å­˜Cookie</code>å’Œ<code>ç¡¬ç›˜Cookie</code>ã€‚</p><p>å†…å­˜Cookieç”±æµè§ˆå™¨ç»´æŠ¤ï¼Œä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œæµè§ˆå™¨å…³é—­åå°±æ¶ˆå¤±äº†ï¼Œå…¶å­˜åœ¨æ—¶é—´æ˜¯çŸ­æš‚çš„ã€‚ç¡¬ç›˜Cookieä¿å­˜åœ¨ç¡¬ç›˜é‡Œï¼Œæœ‰ä¸€ä¸ªè¿‡æœŸæ—¶é—´ï¼Œé™¤éç”¨æˆ·æ‰‹å·¥æ¸…ç†æˆ–åˆ°äº†è¿‡æœŸæ—¶é—´ï¼Œç¡¬ç›˜Cookieä¸ä¼šè¢«åˆ é™¤ï¼Œå…¶å­˜åœ¨æ—¶é—´æ˜¯é•¿æœŸçš„ã€‚æ‰€ä»¥ï¼ŒæŒ‰å­˜åœ¨æ—¶é—´ï¼Œå¯åˆ†ä¸º<code>éæŒä¹…Cookieå’ŒæŒä¹…Cookie</code>ã€‚</p><p>cookie æ˜¯ä¸€ä¸ªéå¸¸å…·ä½“çš„ä¸œè¥¿ï¼ŒæŒ‡çš„å°±æ˜¯æµè§ˆå™¨é‡Œé¢èƒ½æ°¸ä¹…å­˜å‚¨çš„ä¸€ç§æ•°æ®ï¼Œä»…ä»…æ˜¯æµè§ˆå™¨å®ç°çš„ä¸€ç§æ•°æ®å­˜å‚¨åŠŸèƒ½ã€‚</p><p><code>cookieç”±æœåŠ¡å™¨ç”Ÿæˆï¼Œå‘é€ç»™æµè§ˆå™¨</code>ï¼Œæµè§ˆå™¨æŠŠcookieä»¥key-valueå½¢å¼ä¿å­˜åˆ°æŸä¸ªç›®å½•ä¸‹çš„æ–‡æœ¬æ–‡ä»¶å†…ï¼Œä¸‹ä¸€æ¬¡è¯·æ±‚åŒä¸€ç½‘ç«™æ—¶ä¼šæŠŠè¯¥cookieå‘é€ç»™æœåŠ¡å™¨ã€‚ç”±äºcookieæ˜¯å­˜åœ¨å®¢æˆ·ç«¯ä¸Šçš„ï¼Œæ‰€ä»¥æµè§ˆå™¨åŠ å…¥äº†ä¸€äº›é™åˆ¶ç¡®ä¿cookieä¸ä¼šè¢«æ¶æ„ä½¿ç”¨ï¼ŒåŒæ—¶ä¸ä¼šå æ®å¤ªå¤šç£ç›˜ç©ºé—´ï¼Œæ‰€ä»¥æ¯ä¸ªåŸŸçš„cookieæ•°é‡æ˜¯æœ‰é™çš„ã€‚</p><p><strong>Session</strong></p><p>Sessionå­—é¢æ„æ€æ˜¯ä¼šè¯ï¼Œä¸»è¦ç”¨æ¥æ ‡è¯†è‡ªå·±çš„èº«ä»½ã€‚æ¯”å¦‚åœ¨æ— çŠ¶æ€çš„apiæœåŠ¡åœ¨å¤šæ¬¡è¯·æ±‚æ•°æ®åº“æ—¶ï¼Œå¦‚ä½•çŸ¥é“æ˜¯åŒä¸€ä¸ªç”¨æˆ·ï¼Œè¿™ä¸ªå°±å¯ä»¥é€šè¿‡sessionçš„æœºåˆ¶ï¼ŒæœåŠ¡å™¨è¦çŸ¥é“å½“å‰å‘è¯·æ±‚ç»™è‡ªå·±çš„æ˜¯è°</p><p>ä¸ºäº†åŒºåˆ†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œ<code>æœåŠ¡ç«¯ä¼šç»™å…·ä½“çš„å®¢æˆ·ç«¯ç”Ÿæˆèº«ä»½æ ‡è¯†session</code>ï¼Œç„¶åå®¢æˆ·ç«¯æ¯æ¬¡å‘æœåŠ¡å™¨å‘è¯·æ±‚çš„æ—¶å€™ï¼Œéƒ½å¸¦ä¸Šè¿™ä¸ªâ€œèº«ä»½æ ‡è¯†â€ï¼ŒæœåŠ¡å™¨å°±çŸ¥é“è¿™ä¸ªè¯·æ±‚æ¥è‡ªäºè°äº†ã€‚</p><p>è‡³äºå®¢æˆ·ç«¯å¦‚ä½•ä¿å­˜è¯¥æ ‡è¯†ï¼Œå¯ä»¥æœ‰å¾ˆå¤šæ–¹å¼ï¼Œå¯¹äºæµè§ˆå™¨è€Œè¨€ï¼Œä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨<code>cookie</code>çš„æ–¹å¼</p><p>æœåŠ¡å™¨ä½¿ç”¨sessionæŠŠç”¨æˆ·ä¿¡æ¯ä¸´æ—¶ä¿å­˜äº†æœåŠ¡å™¨ä¸Šï¼Œç”¨æˆ·ç¦»å¼€ç½‘ç«™å°±ä¼šé”€æ¯ï¼Œè¿™ç§å‡­è¯å­˜å‚¨æ–¹å¼ç›¸å¯¹äºcookieæ¥è¯´æ›´åŠ å®‰å…¨ï¼Œä½†æ˜¯sessionä¼šæœ‰ä¸€ä¸ªç¼ºé™·: å¦‚æœwebæœåŠ¡å™¨åšäº†è´Ÿè½½å‡è¡¡ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªæ“ä½œè¯·æ±‚åˆ°äº†å¦ä¸€å°æœåŠ¡å™¨çš„æ—¶å€™sessionä¼šä¸¢å¤±ã€‚</p><p>å› æ­¤ï¼Œé€šå¸¸ä¼ä¸šé‡Œä¼šä½¿ç”¨<code>redis,memcached</code>ç¼“å­˜ä¸­é—´ä»¶æ¥å®ç°sessionçš„å…±äº«ï¼Œæ­¤æ—¶webæœåŠ¡å™¨å°±æ˜¯ä¸€ä¸ªå®Œå…¨æ— çŠ¶æ€çš„å­˜åœ¨ï¼Œæ‰€æœ‰çš„ç”¨æˆ·å‡­è¯å¯ä»¥é€šè¿‡å…±äº«sessionçš„æ–¹å¼å­˜å–ï¼Œå½“å‰sessionçš„è¿‡æœŸå’Œé”€æ¯æœºåˆ¶éœ€è¦ç”¨æˆ·åšæ§åˆ¶ã€‚</p><p><strong>Token</strong></p><p>tokençš„æ„æ€æ˜¯â€œä»¤ç‰Œâ€ï¼Œæ˜¯ç”¨æˆ·èº«ä»½çš„éªŒè¯æ–¹å¼ï¼Œæœ€ç®€å•çš„tokenç»„æˆ: <code>uid(ç”¨æˆ·å”¯ä¸€æ ‡è¯†)</code>+<code>time(å½“å‰æ—¶é—´æˆ³)</code>+<code>sign(ç­¾å,ç”±tokençš„å‰å‡ ä½+ç›ä»¥å“ˆå¸Œç®—æ³•å‹ç¼©æˆä¸€å®šé•¿åº¦çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²)</code>ï¼ŒåŒæ—¶è¿˜å¯ä»¥å°†ä¸å˜çš„å‚æ•°ä¹Ÿæ”¾è¿›token</p><p>è¿™é‡Œæˆ‘ä»¬ä¸»è¦æƒ³è®²çš„å°±æ˜¯<code>Json Web Token</code>ï¼Œä¹Ÿå°±æ˜¯æœ¬ç¯‡çš„ä¸»é¢˜:JWT</p><h3 id="Json-Web-Token-JWT-ä»‹ç»"><a href="#Json-Web-Token-JWT-ä»‹ç»" class="headerlink" title="Json-Web-Token(JWT)ä»‹ç»"></a>Json-Web-Token(JWT)ä»‹ç»</h3><p>ä¸€èˆ¬è€Œè¨€ï¼Œç”¨æˆ·æ³¨å†Œç™»é™†åä¼šç”Ÿæˆä¸€ä¸ªjwt tokenè¿”å›ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨å‘æœåŠ¡ç«¯è¯·æ±‚æ•°æ®æ—¶æºå¸¦<code>token</code>ï¼ŒæœåŠ¡å™¨ç«¯ä½¿ç”¨<code>signature</code>ä¸­å®šä¹‰çš„æ–¹å¼è¿›è¡Œè§£ç ï¼Œè¿›è€Œå¯¹tokenè¿›è¡Œè§£æå’ŒéªŒè¯ã€‚</p><h4 id="JWT-Tokenç»„æˆéƒ¨åˆ†"><a href="#JWT-Tokenç»„æˆéƒ¨åˆ†" class="headerlink" title="JWT Tokenç»„æˆéƒ¨åˆ†"></a>JWT Tokenç»„æˆéƒ¨åˆ†</h4><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/3/15/170ddb5b098f391d~tplv-t2oaga2asx-watermark.awebp" alt="JWT-Tokenç»„æˆéƒ¨åˆ†">JWT-Tokenç»„æˆéƒ¨åˆ†</p><ul><li>header: ç”¨æ¥æŒ‡å®šä½¿ç”¨çš„ç®—æ³•(HMAC SHA256 RSA)å’Œtokenç±»å‹(å¦‚JWT)</li><li>payload: åŒ…å«å£°æ˜(è¦æ±‚)ï¼Œå£°æ˜é€šå¸¸æ˜¯ç”¨æˆ·ä¿¡æ¯æˆ–å…¶ä»–æ•°æ®çš„å£°æ˜ï¼Œæ¯”å¦‚ç”¨æˆ·idï¼Œåç§°ï¼Œé‚®ç®±ç­‰. å£°æ˜å¯åˆ†ä¸ºä¸‰ç§: registered,public,private</li><li>signature: ç”¨æ¥ä¿è¯JWTçš„çœŸå®æ€§ï¼Œå¯ä»¥ä½¿ç”¨ä¸åŒçš„ç®—æ³•</li></ul><p><strong>header</strong></p><pre class="line-numbers language-none"><code class="language-none">{    "alg": "HS256",    "typ": "JWT"}å¤åˆ¶ä»£ç <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯¹ä¸Šé¢çš„jsonè¿›è¡Œbase64ç¼–ç å³å¯å¾—åˆ°JWTçš„ç¬¬ä¸€ä¸ªéƒ¨åˆ†</p><p><strong>payload</strong></p><ul><li>registered claims: é¢„å®šä¹‰çš„å£°æ˜ï¼Œé€šå¸¸ä¼šæ”¾ç½®ä¸€äº›é¢„å®šä¹‰å­—æ®µï¼Œæ¯”å¦‚è¿‡æœŸæ—¶é—´ï¼Œä¸»é¢˜ç­‰(iss:issuer,exp:expiration time,sub:subject,aud:audience)</li><li>public claims: å¯ä»¥è®¾ç½®å…¬å¼€å®šä¹‰çš„å­—æ®µ</li><li>private claims: ç”¨äºç»Ÿä¸€ä½¿ç”¨ä»–ä»¬çš„å„æ–¹ä¹‹é—´çš„å…±äº«ä¿¡æ¯</li></ul><pre class="line-numbers language-none"><code class="language-none">{    "sub": "xxx-api",    "name": "bgbiao.top",    "admin": true}å¤åˆ¶ä»£ç <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯¹payloadéƒ¨åˆ†çš„jsonè¿›è¡Œbase64ç¼–ç åå³å¯å¾—åˆ°JWTçš„ç¬¬äºŒä¸ªéƒ¨åˆ†</p><p><code>æ³¨æ„:</code> ä¸è¦åœ¨headerå’Œpayloadä¸­æ”¾ç½®æ•æ„Ÿä¿¡æ¯ï¼Œé™¤éä¿¡æ¯æœ¬èº«å·²ç»åšè¿‡è„±æ•å¤„ç†</p><p><strong>signature</strong></p><p>ä¸ºäº†å¾—åˆ°ç­¾åéƒ¨åˆ†ï¼Œå¿…é¡»æœ‰ç¼–ç è¿‡çš„headerå’Œpayloadï¼Œä»¥åŠä¸€ä¸ªç§˜é’¥ï¼Œç­¾åç®—æ³•ä½¿ç”¨headerä¸­æŒ‡å®šçš„é‚£ä¸ªï¼Œç„¶åå¯¹å…¶è¿›è¡Œç­¾åå³å¯</p><pre class="line-numbers language-none"><code class="language-none">HMACSHA256(base64UrlEncode(header)+"."+base64UrlEncode(payload),secret)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç­¾åæ˜¯<code>ç”¨äºéªŒè¯æ¶ˆæ¯åœ¨ä¼ é€’è¿‡ç¨‹ä¸­æœ‰æ²¡æœ‰è¢«æ›´æ”¹</code>ï¼Œå¹¶ä¸”ï¼Œå¯¹äºä½¿ç”¨ç§é’¥ç­¾åçš„tokenï¼Œå®ƒè¿˜å¯ä»¥éªŒè¯JWTçš„å‘é€æ–¹æ˜¯å¦ä¸ºå®ƒæ‰€ç§°çš„å‘é€æ–¹ã€‚</p><p>åœ¨<a href="https://link.juejin.cn/?target=https://jwt.io">jwt.io</a>ç½‘ç«™ä¸­ï¼Œæä¾›äº†ä¸€äº›JWT tokençš„ç¼–ç ï¼ŒéªŒè¯ä»¥åŠç”Ÿæˆjwtçš„å·¥å…·ã€‚</p><p>ä¸‹å›¾å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„jwt-tokençš„ç»„æˆéƒ¨åˆ†ã€‚</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/3/15/170ddb5b072d445e~tplv-t2oaga2asx-watermark.awebp" alt="jwtå®˜æ–¹ç­¾åç»“æ„">jwtå®˜æ–¹ç­¾åç»“æ„</p><h4 id="ä»€ä¹ˆæ—¶å€™ç”¨JWT"><a href="#ä»€ä¹ˆæ—¶å€™ç”¨JWT" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ç”¨JWT"></a>ä»€ä¹ˆæ—¶å€™ç”¨JWT</h4><ul><li>Authorization(æˆæƒ): å…¸å‹åœºæ™¯ï¼Œç”¨æˆ·è¯·æ±‚çš„tokenä¸­åŒ…å«äº†è¯¥ä»¤ç‰Œå…è®¸çš„è·¯ç”±ï¼ŒæœåŠ¡å’Œèµ„æºã€‚å•ç‚¹ç™»å½•å…¶å®å°±æ˜¯ç°åœ¨å¹¿æ³›ä½¿ç”¨JWTçš„ä¸€ä¸ªç‰¹æ€§</li><li>Information Exchange(ä¿¡æ¯äº¤æ¢): å¯¹äºå®‰å…¨çš„åœ¨å„æ–¹ä¹‹é—´ä¼ è¾“ä¿¡æ¯è€Œè¨€ï¼ŒJSON Web Tokensæ— ç–‘æ˜¯ä¸€ç§å¾ˆå¥½çš„æ–¹å¼.å› ä¸ºJWTså¯ä»¥è¢«ç­¾åï¼Œä¾‹å¦‚ï¼Œç”¨å…¬é’¥/ç§é’¥å¯¹ï¼Œä½ å¯ä»¥ç¡®å®šå‘é€äººå°±æ˜¯å®ƒä»¬æ‰€è¯´çš„é‚£ä¸ªäººã€‚å¦å¤–ï¼Œç”±äºç­¾åæ˜¯ä½¿ç”¨å¤´å’Œæœ‰æ•ˆè´Ÿè½½è®¡ç®—çš„ï¼Œæ‚¨è¿˜å¯ä»¥éªŒè¯å†…å®¹æ²¡æœ‰è¢«ç¯¡æ”¹</li></ul><h4 id="JWT-Json-Web-Tokens-æ˜¯å¦‚ä½•å·¥ä½œçš„"><a href="#JWT-Json-Web-Tokens-æ˜¯å¦‚ä½•å·¥ä½œçš„" class="headerlink" title="JWT(Json Web Tokens)æ˜¯å¦‚ä½•å·¥ä½œçš„"></a>JWT(Json Web Tokens)æ˜¯å¦‚ä½•å·¥ä½œçš„</h4><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/3/15/170ddb5b09686448~tplv-t2oaga2asx-watermark.awebp" alt="JWTè®¤è¯è¿‡ç¨‹">JWTè®¤è¯è¿‡ç¨‹</p><p>æ‰€ä»¥ï¼ŒåŸºæœ¬ä¸Šæ•´ä¸ªè¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œç¬¬ä¸€ä¸ªé˜¶æ®µï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯è·å–tokenï¼Œç¬¬äºŒé˜¶æ®µï¼Œå®¢æˆ·ç«¯å¸¦ç€è¯¥tokenå»è¯·æ±‚ç›¸å…³çš„èµ„æº.</p><p>é€šå¸¸æ¯”è¾ƒé‡è¦çš„æ˜¯ï¼ŒæœåŠ¡ç«¯å¦‚ä½•æ ¹æ®æŒ‡å®šçš„è§„åˆ™è¿›è¡Œtokençš„ç”Ÿæˆã€‚</p><p>åœ¨è®¤è¯çš„æ—¶å€™ï¼Œå½“ç”¨æˆ·ç”¨ä»–ä»¬çš„å‡­è¯æˆåŠŸç™»å½•ä»¥åï¼Œä¸€ä¸ªJSON Web Tokenå°†ä¼šè¢«è¿”å›ã€‚</p><p>æ­¤åï¼Œtokenå°±æ˜¯ç”¨æˆ·å‡­è¯äº†ï¼Œä½ å¿…é¡»éå¸¸å°å¿ƒä»¥é˜²æ­¢å‡ºç°å®‰å…¨é—®é¢˜ã€‚</p><p>ä¸€èˆ¬è€Œè¨€ï¼Œä½ ä¿å­˜ä»¤ç‰Œçš„æ—¶å€™ä¸åº”è¯¥è¶…è¿‡ä½ æ‰€éœ€è¦å®ƒçš„æ—¶é—´ã€‚</p><p>æ— è®ºä½•æ—¶ç”¨æˆ·æƒ³è¦è®¿é—®å—ä¿æŠ¤çš„è·¯ç”±æˆ–è€…èµ„æºçš„æ—¶å€™ï¼Œç”¨æˆ·ä»£ç†ï¼ˆé€šå¸¸æ˜¯æµè§ˆå™¨ï¼‰éƒ½åº”è¯¥å¸¦ä¸ŠJWTï¼Œå…¸å‹çš„ï¼Œé€šå¸¸æ”¾åœ¨Authorization headerä¸­ï¼Œç”¨Bearer schema: <code>Authorization: Bearer &lt;token&gt;</code></p><p>æœåŠ¡å™¨ä¸Šçš„å—ä¿æŠ¤çš„è·¯ç”±å°†ä¼šæ£€æŸ¥Authorization headerä¸­çš„JWTæ˜¯å¦æœ‰æ•ˆï¼Œå¦‚æœæœ‰æ•ˆï¼Œåˆ™ç”¨æˆ·å¯ä»¥è®¿é—®å—ä¿æŠ¤çš„èµ„æºã€‚å¦‚æœJWTåŒ…å«è¶³å¤Ÿå¤šçš„å¿…éœ€çš„æ•°æ®ï¼Œé‚£ä¹ˆå°±å¯ä»¥å‡å°‘å¯¹æŸäº›æ“ä½œçš„æ•°æ®åº“æŸ¥è¯¢çš„éœ€è¦ï¼Œå°½ç®¡å¯èƒ½å¹¶ä¸æ€»æ˜¯å¦‚æ­¤ã€‚</p><p>å¦‚æœtokenæ˜¯åœ¨æˆæƒå¤´ï¼ˆAuthorization headerï¼‰ä¸­å‘é€çš„ï¼Œé‚£ä¹ˆè·¨æºèµ„æºå…±äº«(CORS)å°†ä¸ä¼šæˆä¸ºé—®é¢˜ï¼Œå› ä¸ºå®ƒä¸ä½¿ç”¨cookie.</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/3/15/170ddb5b0a3068a5~tplv-t2oaga2asx-watermark.awebp" alt="è·å–JWTä»¥åŠè®¿é—®APIsä»¥åŠèµ„æº">è·å–JWTä»¥åŠè®¿é—®APIsä»¥åŠèµ„æº</p><ul><li>å®¢æˆ·ç«¯å‘æˆæƒæ¥å£è¯·æ±‚æˆæƒ</li><li>æœåŠ¡ç«¯æˆæƒåè¿”å›ä¸€ä¸ªaccess tokenç»™å®¢æˆ·ç«¯</li><li>å®¢æˆ·ç«¯ä½¿ç”¨access tokenè®¿é—®å—ä¿æŠ¤çš„èµ„æº</li></ul><h4 id="åŸºäºTokençš„èº«ä»½è®¤è¯å’ŒåŸºäºæœåŠ¡å™¨çš„èº«ä»½è®¤è¯"><a href="#åŸºäºTokençš„èº«ä»½è®¤è¯å’ŒåŸºäºæœåŠ¡å™¨çš„èº«ä»½è®¤è¯" class="headerlink" title="åŸºäºTokençš„èº«ä»½è®¤è¯å’ŒåŸºäºæœåŠ¡å™¨çš„èº«ä»½è®¤è¯"></a>åŸºäºTokençš„èº«ä»½è®¤è¯å’ŒåŸºäºæœåŠ¡å™¨çš„èº«ä»½è®¤è¯</h4><p><strong>1.åŸºäºæœåŠ¡å™¨çš„è®¤è¯</strong></p><p>å‰é¢è¯´åˆ°è¿‡sessionï¼Œcookieä»¥åŠtokençš„åŒºåˆ«ï¼Œåœ¨ä¹‹å‰ä¼ ç»Ÿçš„åšæ³•å°±æ˜¯åŸºäºå­˜å‚¨åœ¨æœåŠ¡å™¨ä¸Šçš„sessionæ¥åšç”¨æˆ·çš„èº«ä»½è®¤è¯ï¼Œä½†æ˜¯é€šå¸¸ä¼šæœ‰å¦‚ä¸‹é—®é¢˜:</p><ul><li>Sessions: è®¤è¯é€šè¿‡åéœ€è¦å°†ç”¨æˆ·çš„sessionæ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œéšç€è®¤è¯ç”¨æˆ·çš„å¢åŠ ï¼Œå†…å­˜å¼€é”€ä¼šå¤§</li><li>æ‰©å±•æ€§: ç”±äºsessionå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œæ‰©å±•æ€§ä¼šå—é™ï¼Œè™½ç„¶åæœŸå¯ä»¥ä½¿ç”¨redis,memcachedæ¥ç¼“å­˜æ•°æ®</li><li>CORS: å½“å¤šä¸ªç»ˆç«¯è®¿é—®åŒä¸€ä»½æ•°æ®æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°ç¦æ­¢è¯·æ±‚çš„é—®é¢˜</li><li>CSRF: ç”¨æˆ·å®¹æ˜“å—åˆ°CSRFæ”»å‡»</li></ul><p><strong>2.Sessionå’ŒJWT Tokençš„å¼‚åŒ</strong></p><p>éƒ½å¯ä»¥å­˜å‚¨ç”¨æˆ·ç›¸å…³ä¿¡æ¯ï¼Œä½†æ˜¯sessionå­˜å‚¨åœ¨æœåŠ¡ç«¯ï¼ŒJWTå­˜å‚¨åœ¨å®¢æˆ·ç«¯</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/3/15/170ddb5b0a56f132~tplv-t2oaga2asx-watermark.awebp" alt="sessionå’Œjwtæ•°æ®å­˜å‚¨ä½ç½®">sessionå’Œjwtæ•°æ®å­˜å‚¨ä½ç½®</p><p><strong>3.åŸºäºTokençš„èº«ä»½è®¤è¯å¦‚ä½•å·¥ä½œ</strong></p><p>åŸºäºTokençš„èº«ä»½è®¤è¯æ˜¯æ— çŠ¶æ€çš„ï¼ŒæœåŠ¡å™¨æˆ–è€…sessionä¸­ä¸ä¼šå­˜å‚¨ä»»ä½•ç”¨æˆ·ä¿¡æ¯.(å¾ˆå¥½çš„è§£å†³äº†å…±äº«sessionçš„é—®é¢˜)</p><ul><li>ç”¨æˆ·æºå¸¦ç”¨æˆ·åå’Œå¯†ç è¯·æ±‚è·å–token(æ¥å£æ•°æ®ä¸­å¯ä½¿ç”¨appId,appKey)</li><li>æœåŠ¡ç«¯æ ¡éªŒç”¨æˆ·å‡­è¯ï¼Œå¹¶è¿”å›ç”¨æˆ·æˆ–å®¢æˆ·ç«¯ä¸€ä¸ªToken</li><li>å®¢æˆ·ç«¯å­˜å‚¨token,å¹¶åœ¨è¯·æ±‚å¤´ä¸­æºå¸¦Token</li><li>æœåŠ¡ç«¯æ ¡éªŒtokenå¹¶è¿”å›æ•°æ®</li></ul><pre class="line-numbers language-none"><code class="language-none">æ³¨æ„:<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>éšåå®¢æˆ·ç«¯çš„æ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦ä½¿ç”¨token</li><li>tokenåº”è¯¥æ”¾åœ¨headerä¸­</li><li>éœ€è¦å°†æœåŠ¡å™¨è®¾ç½®ä¸ºæ¥æ”¶æ‰€æœ‰åŸŸçš„è¯·æ±‚: <code>Access-Control-Allow-Origin: *</code></li></ul><p><strong>4.ç”¨Tokençš„å¥½å¤„</strong></p><ul><li>æ— çŠ¶æ€å’Œå¯æ‰©å±•æ€§</li><li>å®‰å…¨: é˜²æ­¢CSRFæ”»å‡»;tokenè¿‡æœŸé‡æ–°è®¤è¯</li></ul><p><strong>5.JWTå’ŒOAuthçš„åŒºåˆ«</strong></p><ul><li>1.OAuth2æ˜¯ä¸€ç§æˆæƒæ¡†æ¶ ï¼ŒJWTæ˜¯ä¸€ç§è®¤è¯åè®®</li><li>2.æ— è®ºä½¿ç”¨å“ªç§æ–¹å¼åˆ‡è®°ç”¨HTTPSæ¥ä¿è¯æ•°æ®çš„å®‰å…¨æ€§</li><li>3.OAuth2ç”¨åœ¨<code>ä½¿ç”¨ç¬¬ä¸‰æ–¹è´¦å·ç™»å½•çš„æƒ…å†µ</code>(æ¯”å¦‚ä½¿ç”¨weibo, qq, githubç™»å½•æŸä¸ªapp)ï¼Œè€Œ<code>JWTæ˜¯ç”¨åœ¨å‰åç«¯åˆ†ç¦»</code>, éœ€è¦ç®€å•çš„å¯¹åå°APIè¿›è¡Œä¿æŠ¤æ—¶ä½¿ç”¨</li></ul><h3 id="ä½¿ç”¨Ginæ¡†æ¶é›†æˆJWT"><a href="#ä½¿ç”¨Ginæ¡†æ¶é›†æˆJWT" class="headerlink" title="ä½¿ç”¨Ginæ¡†æ¶é›†æˆJWT"></a>ä½¿ç”¨Ginæ¡†æ¶é›†æˆJWT</h3><p>åœ¨Golangè¯­è¨€ä¸­ï¼Œ<a href="https://link.juejin.cn/?target=https://github.com/dgrijalva/jwt-go">jwt-go</a>åº“æä¾›äº†ä¸€äº›jwtç¼–ç å’ŒéªŒè¯çš„å·¥å…·ï¼Œå› æ­¤æˆ‘ä»¬å¾ˆå®¹æ˜“ä½¿ç”¨è¯¥åº“æ¥å®ç°tokenè®¤è¯ã€‚</p><p>å¦å¤–ï¼Œæˆ‘ä»¬ä¹ŸçŸ¥é“<a href="https://link.juejin.cn/?target=https://github.com/gin-gonic/gin">gin</a>æ¡†æ¶ä¸­æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰middlewareï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå¥½çš„å°†jwtç›¸å…³çš„é€»è¾‘å°è£…åœ¨middlewareä¸­ï¼Œç„¶åå¯¹å…·ä½“çš„æ¥å£è¿›è¡Œè®¤è¯ã€‚</p><h4 id="è‡ªå®šä¹‰ä¸­é—´ä»¶"><a href="#è‡ªå®šä¹‰ä¸­é—´ä»¶" class="headerlink" title="è‡ªå®šä¹‰ä¸­é—´ä»¶"></a>è‡ªå®šä¹‰ä¸­é—´ä»¶</h4><p>åœ¨ginæ¡†æ¶ä¸­ï¼Œè‡ªå®šä¹‰ä¸­é—´ä»¶æ¯”è¾ƒå®¹æ˜“ï¼Œåªè¦è¿”å›ä¸€ä¸ª<code>gin.HandlerFunc</code>å³å®Œæˆä¸€ä¸ªä¸­é—´ä»¶å®šä¹‰ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªç”¨äºjwtè®¤è¯çš„ä¸­é—´ä»¶.</p><pre class="line-numbers language-none"><code class="language-none">// å®šä¹‰ä¸€ä¸ªJWTAuthçš„ä¸­é—´ä»¶func JWTAuth() gin.HandlerFunc {return func(c *gin.Context) {// é€šè¿‡http headerä¸­çš„tokenè§£ææ¥è®¤è¯token := c.Request.Header.Get("token")if token == "" {c.JSON(http.StatusOK, gin.H{"status": -1,"msg":    "è¯·æ±‚æœªæºå¸¦tokenï¼Œæ— æƒé™è®¿é—®","data":   nil,})c.Abort()return}log.Print("get token: ", token)// åˆå§‹åŒ–ä¸€ä¸ªJWTå¯¹è±¡å®ä¾‹ï¼Œå¹¶æ ¹æ®ç»“æ„ä½“æ–¹æ³•æ¥è§£ætokenj := NewJWT()// è§£ætokenä¸­åŒ…å«çš„ç›¸å…³ä¿¡æ¯(æœ‰æ•ˆè½½è·)claims, err := j.ParserToken(token)if err != nil {// tokenè¿‡æœŸif err == TokenExpired {c.JSON(http.StatusOK, gin.H{"status": -1,"msg":    "tokenæˆæƒå·²è¿‡æœŸï¼Œè¯·é‡æ–°ç”³è¯·æˆæƒ","data":   nil,})c.Abort()return}// å…¶ä»–é”™è¯¯c.JSON(http.StatusOK, gin.H{"status": -1,"msg":    err.Error(),"data":   nil,})c.Abort()return}// å°†è§£æåçš„æœ‰æ•ˆè½½è·claimsé‡æ–°å†™å…¥gin.Contextå¼•ç”¨å¯¹è±¡ä¸­c.Set("claims", claims)}}å¤åˆ¶ä»£ç <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å®šä¹‰jwtç¼–ç å’Œè§£ç é€»è¾‘"><a href="#å®šä¹‰jwtç¼–ç å’Œè§£ç é€»è¾‘" class="headerlink" title="å®šä¹‰jwtç¼–ç å’Œè§£ç é€»è¾‘"></a>å®šä¹‰jwtç¼–ç å’Œè§£ç é€»è¾‘</h4><p>æ ¹æ®å‰é¢æåˆ°çš„jwt-tokençš„ç»„æˆéƒ¨åˆ†ï¼Œä»¥åŠ<code>jwt-go</code>ä¸­ç›¸å…³çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•è¿›è¡Œç”Ÿæˆtoken.</p><pre class="line-numbers language-none"><code class="language-none">// å®šä¹‰ä¸€ä¸ªjwtå¯¹è±¡type JWT struct {// å£°æ˜ç­¾åä¿¡æ¯SigningKey []byte}// åˆå§‹åŒ–jwtå¯¹è±¡func NewJWT() *JWT {return &amp;JWT{[]byte("bgbiao.top"),}}// è‡ªå®šä¹‰æœ‰æ•ˆè½½è·(è¿™é‡Œé‡‡ç”¨è‡ªå®šä¹‰çš„Nameå’ŒEmailä½œä¸ºæœ‰æ•ˆè½½è·çš„ä¸€éƒ¨åˆ†)type CustomClaims struct {Name  string `json:"name"`Email string `json:"email"`// StandardClaimsç»“æ„ä½“å®ç°äº†Claimsæ¥å£(Valid()å‡½æ•°)jwt.StandardClaims}// è°ƒç”¨jwt-goåº“ç”Ÿæˆtoken// æŒ‡å®šç¼–ç çš„ç®—æ³•ä¸ºjwt.SigningMethodHS256func (j *JWT) CreateToken(claims CustomClaims) (string, error) {// https://gowalker.org/github.com/dgrijalva/jwt-go#Token// è¿”å›ä¸€ä¸ªtokençš„ç»“æ„ä½“æŒ‡é’ˆtoken := jwt.NewWithClaims(jwt.SigningMethodHS256, claims)return token.SignedString(j.SigningKey)}// tokenè§£ç func (j *JWT) ParserToken(tokenString string) (*CustomClaims, error) {// https://gowalker.org/github.com/dgrijalva/jwt-go#ParseWithClaims// è¾“å…¥ç”¨æˆ·è‡ªå®šä¹‰çš„Claimsç»“æ„ä½“å¯¹è±¡,token,ä»¥åŠè‡ªå®šä¹‰å‡½æ•°æ¥è§£ætokenå­—ç¬¦ä¸²ä¸ºjwtçš„Tokenç»“æ„ä½“æŒ‡é’ˆ// Keyfuncæ˜¯åŒ¿åå‡½æ•°ç±»å‹: type Keyfunc func(*Token) (interface{}, error)// func ParseWithClaims(tokenString string, claims Claims, keyFunc Keyfunc) (*Token, error) {}token, err := jwt.ParseWithClaims(tokenString, &amp;CustomClaims{}, func(token *jwt.Token) (interface{}, error) {return j.SigningKey, nil})if err != nil {// https://gowalker.org/github.com/dgrijalva/jwt-go#ValidationError// jwt.ValidationError æ˜¯ä¸€ä¸ªæ— æ•ˆtokençš„é”™è¯¯ç»“æ„if ve, ok := err.(*jwt.ValidationError); ok {// ValidationErrorMalformedæ˜¯ä¸€ä¸ªuintå¸¸é‡ï¼Œè¡¨ç¤ºtokenä¸å¯ç”¨if ve.Errors&amp;jwt.ValidationErrorMalformed != 0 {return nil, fmt.Errorf("tokenä¸å¯ç”¨")// ValidationErrorExpiredè¡¨ç¤ºTokenè¿‡æœŸ} else if ve.Errors&amp;jwt.ValidationErrorExpired != 0 {return nil, fmt.Errorf("tokenè¿‡æœŸ")// ValidationErrorNotValidYetè¡¨ç¤ºæ— æ•ˆtoken} else if ve.Errors&amp;jwt.ValidationErrorNotValidYet != 0 {return nil, fmt.Errorf("æ— æ•ˆçš„token")} else {return nil, fmt.Errorf("tokenä¸å¯ç”¨")}}}// å°†tokenä¸­çš„claimsä¿¡æ¯è§£æå‡ºæ¥å¹¶æ–­è¨€æˆç”¨æˆ·è‡ªå®šä¹‰çš„æœ‰æ•ˆè½½è·ç»“æ„if claims, ok := token.Claims.(*CustomClaims); ok &amp;&amp; token.Valid {return claims, nil}return nil, fmt.Errorf("tokenæ— æ•ˆ")}å¤åˆ¶ä»£ç <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å®šä¹‰ç™»é™†éªŒè¯é€»è¾‘"><a href="#å®šä¹‰ç™»é™†éªŒè¯é€»è¾‘" class="headerlink" title="å®šä¹‰ç™»é™†éªŒè¯é€»è¾‘"></a>å®šä¹‰ç™»é™†éªŒè¯é€»è¾‘</h4><p>æ¥ä¸‹æ¥çš„éƒ¨åˆ†å°±æ˜¯æ™®é€šapiçš„å…·ä½“é€»è¾‘äº†ï¼Œæ¯”å¦‚å¯ä»¥åœ¨ç™»é™†æ—¶è¿›è¡Œç”¨æˆ·æ ¡éªŒï¼ŒæˆåŠŸåæœªè¯¥æ¬¡è®¤è¯è¯·æ±‚ç”Ÿæˆtokenã€‚</p><pre class="line-numbers language-none"><code class="language-none">// å®šä¹‰ç™»é™†é€»è¾‘// model.LoginReqä¸­å®šä¹‰äº†ç™»é™†çš„è¯·æ±‚ä½“(name,passwd)func Login(c *gin.Context) {var loginReq model.LoginReqif c.BindJSON(&amp;loginReq) == nil {// ç™»é™†é€»è¾‘æ ¡éªŒ(æŸ¥åº“ï¼ŒéªŒè¯ç”¨æˆ·æ˜¯å¦å­˜åœ¨ä»¥åŠç™»é™†ä¿¡æ¯æ˜¯å¦æ­£ç¡®)isPass, user, err := model.LoginCheck(loginReq)// éªŒè¯é€šè¿‡åä¸ºè¯¥æ¬¡è¯·æ±‚ç”Ÿæˆtokenif isPass {generateToken(c, user)} else {c.JSON(http.StatusOK, gin.H{"status": -1,"msg":    "éªŒè¯å¤±è´¥" + err.Error(),"data":   nil,})}} else {c.JSON(http.StatusOK, gin.H{"status": -1,"msg":    "ç”¨æˆ·æ•°æ®è§£æå¤±è´¥","data":   nil,})}}// tokenç”Ÿæˆå™¨// md ä¸ºä¸Šé¢å®šä¹‰å¥½çš„middlewareä¸­é—´ä»¶func generateToken(c *gin.Context, user model.User) {// æ„é€ SignKey: ç­¾åå’Œè§£ç­¾åéœ€è¦ä½¿ç”¨ä¸€ä¸ªå€¼j := md.NewJWT()// æ„é€ ç”¨æˆ·claimsä¿¡æ¯(è´Ÿè·)claims := md.CustomClaims{user.Name,user.Email,jwtgo.StandardClaims{NotBefore: int64(time.Now().Unix() - 1000), // ç­¾åç”Ÿæ•ˆæ—¶é—´ExpiresAt: int64(time.Now().Unix() + 3600), // ç­¾åè¿‡æœŸæ—¶é—´Issuer:    "bgbiao.top",                    // ç­¾åé¢å‘è€…},}// æ ¹æ®claimsç”Ÿæˆtokenå¯¹è±¡token, err := j.CreateToken(claims)if err != nil {c.JSON(http.StatusOK, gin.H{"status": -1,"msg":    err.Error(),"data":   nil,})}log.Println(token)// å°è£…ä¸€ä¸ªå“åº”æ•°æ®,è¿”å›ç”¨æˆ·åå’Œtokendata := LoginResult{Name:  user.Name,Token: token,}c.JSON(http.StatusOK, gin.H{"status": 0,"msg":    "ç™»é™†æˆåŠŸ","data":   data,})return}å¤åˆ¶ä»£ç <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å®šä¹‰æ™®é€šå¾…éªŒè¯æ¥å£"><a href="#å®šä¹‰æ™®é€šå¾…éªŒè¯æ¥å£" class="headerlink" title="å®šä¹‰æ™®é€šå¾…éªŒè¯æ¥å£"></a>å®šä¹‰æ™®é€šå¾…éªŒè¯æ¥å£</h4><pre class="line-numbers language-none"><code class="language-none">// å®šä¹‰ä¸€ä¸ªæ™®é€šcontrollerå‡½æ•°ï¼Œä½œä¸ºä¸€ä¸ªéªŒè¯æ¥å£é€»è¾‘func GetDataByTime(c *gin.Context) {// ä¸Šé¢æˆ‘ä»¬åœ¨JWTAuth()ä¸­é—´ä¸­å°†'claims'å†™å…¥åˆ°gin.Contextçš„æŒ‡é’ˆå¯¹è±¡ä¸­ï¼Œå› æ­¤åœ¨è¿™é‡Œå¯ä»¥å°†ä¹‹è§£æå‡ºæ¥claims := c.MustGet("claims").(*md.CustomClaims)if claims != nil {c.JSON(http.StatusOK, gin.H{"status": 0,"msg":    "tokenæœ‰æ•ˆ","data":   claims,})}}// åœ¨ä¸»å‡½æ•°ä¸­å®šä¹‰è·¯ç”±è§„åˆ™router := gin.Default()v1 := router.Group("/apis/v1/"){v1.POST("/register", controller.RegisterUser)v1.POST("/login", controller.Login)}// secure v1sv1 := router.Group("/apis/v1/auth/")// åŠ è½½è‡ªå®šä¹‰çš„JWTAuth()ä¸­é—´ä»¶,åœ¨æ•´ä¸ªsv1çš„è·¯ç”±ç»„ä¸­éƒ½ç”Ÿæ•ˆsv1.Use(md.JWTAuth()){sv1.GET("/time", controller.GetDataByTime)}router.Run(":8081")å¤åˆ¶ä»£ç <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="éªŒè¯ä½¿ç”¨JWTåçš„æ¥å£"><a href="#éªŒè¯ä½¿ç”¨JWTåçš„æ¥å£" class="headerlink" title="éªŒè¯ä½¿ç”¨JWTåçš„æ¥å£"></a>éªŒè¯ä½¿ç”¨JWTåçš„æ¥å£</h4><pre class="line-numbers language-none"><code class="language-none"># è¿è¡Œé¡¹ç›®$ go run main.go127.0.0.113306root:bgbiao.top@tcp(127.0.0.1:13306)/test_api?charset=utf8mb4&amp;parseTime=True&amp;loc=Local[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production. - using env:export GIN_MODE=release - using code:gin.SetMode(gin.ReleaseMode)[GIN-debug] POST   /apis/v1/register         --&gt; warnning-trigger/controller.RegisterUser (3 handlers)[GIN-debug] POST   /apis/v1/login            --&gt; warnning-trigger/controller.Login (3 handlers)[GIN-debug] GET    /apis/v1/auth/time        --&gt; warnning-trigger/controller.GetDataByTime (4 handlers)[GIN-debug] Listening and serving HTTP on :8081# æ³¨å†Œç”¨æˆ·$ curl -i -X POST \   -H "Content-Type:application/json" \   -d \'{  "name": "hahaha1",  "password": "hahaha1",  "email": "hahaha1@bgbiao.top",  "phone": 10000000000}' \ 'http://localhost:8081/apis/v1/register'HTTP/1.1 200 OKContent-Type: application/json; charset=utf-8Date: Sun, 15 Mar 2020 07:09:28 GMTContent-Length: 41{"data":null,"msg":"success ","status":0}%# ç™»é™†ç”¨æˆ·ä»¥è·å–token$ curl -i -X POST \   -H "Content-Type:application/json" \   -d \'{  "name":"hahaha1",  "password":"hahaha1"}' \ 'http://localhost:8081/apis/v1/login'HTTP/1.1 200 OKContent-Type: application/json; charset=utf-8Date: Sun, 15 Mar 2020 07:10:41 GMTContent-Length: 290{"data":{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6ImhhaGFoYTEiLCJlbWFpbCI6ImhhaGFoYTFAYmdiaWFvLnRvcCIsImV4cCI6MTU4NDI1OTg0MSwiaXNzIjoiYmdiaWFvLnRvcCIsIm5iZiI6MTU4NDI1NTI0MX0.HNXSKISZTqzjKd705BOSARmgI8FGGe4Sv-Ma3_iK1Xw","name":"hahaha1"},"msg":"ç™»é™†æˆåŠŸ","status":0}# è®¿é—®éœ€è¦è®¤è¯çš„æ¥å£# å› ä¸ºæˆ‘ä»¬å¯¹/apis/v1/auth/çš„åˆ†ç»„è·¯ç”±ä¸­åŠ è½½äº†jwtçš„middlewareï¼Œå› æ­¤è¯¥åˆ†ç»„ä¸‹çš„apiéƒ½éœ€è¦ä½¿ç”¨jwt-tokenè®¤è¯$ curl http://localhost:8081/apis/v1/auth/time{"data":null,"msg":"è¯·æ±‚æœªæºå¸¦tokenï¼Œæ— æƒé™è®¿é—®","status":-1}%# ä½¿ç”¨tokenè®¤è¯$ curl http://localhost:8081/apis/v1/auth/time -H 'token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6ImhhaGFoYTEiLCJlbWFpbCI6ImhhaGFoYTFAYmdiaWFvLnRvcCIsImV4cCI6MTU4NDI1OTg0MSwiaXNzIjoiYmdiaWFvLnRvcCIsIm5iZiI6MTU4NDI1NTI0MX0.HNXSKISZTqzjKd705BOSARmgI8FGGe4Sv-Ma3_iK1Xw'{"data":{"userName":"hahaha1","email":"hahaha1@bgbiao.top","exp":1584259841,"iss":"bgbiao.top","nbf":1584255241},"msg":"tokenæœ‰æ•ˆ","status":0}%å¤åˆ¶ä»£ç <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="https://link.juejin.cn/?target=https://github.com/BGBiao/gin-jwt-token">gin-jwt-goæºç </a></p>]]></content>
      
      
      <categories>
          
          <category> Golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è½¬è½½ </tag>
            
            <tag> JWT </tag>
            
            <tag> Golang </tag>
            
            <tag> Ginæ¡†æ¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çƒ­æƒ…å‡è®¾</title>
      <link href="/hypo-Z.github.io/2021/12/07/21-re-qing-jia-she/"/>
      <url>/hypo-Z.github.io/2021/12/07/21-re-qing-jia-she/</url>
      
        <content type="html"><![CDATA[<h1 id="çƒ­æƒ…å‡è®¾"><a href="#çƒ­æƒ…å‡è®¾" class="headerlink" title="çƒ­æƒ…å‡è®¾"></a>çƒ­æƒ…å‡è®¾</h1><p>2005å¹´ï¼Œæ–¯å¦ç¦å¤§å­¦é‚€è¯·ä¹”å¸ƒæ–¯åœ¨æ¯•ä¸šå…¸ç¤¼æ¼”è®²ã€‚è¿™ä¸ªæ¼”è®²åæ¥æˆä¸ºç»å…¸ï¼Œã€Šä¹”å¸ƒæ–¯ä¼ ã€‹è¯´â€æˆ–è®¸æœ‰äº›æ¼”è®²å¯¹åä¸–å½±å“æ›´å¤§ï¼Œä½†æ˜¯ä½ æ‰¾ä¸åˆ°ï¼ˆæ¯”è¿™ç¯‡ï¼‰æ›´å¥½çš„æ¼”è®²ã€‚â€</p><p>æ¼”è®²ä¸­ï¼Œä¹”å¸ƒæ–¯è¯´äº†ä¸€æ®µæœ‰åçš„è¯ã€‚</p><blockquote><p>â€œä½ ä»¬çš„æ—¶é—´æœ‰é™ï¼Œæ‰€ä»¥ä¸è¦æŠŠå®ƒæµªè´¹åœ¨è¿‡å…¶ä»–äººçš„ç”Ÿæ´»ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œä½ è¦æœ‰å‹‡æ°”è·Ÿéšä½ çš„å†…å¿ƒå’Œç›´è§‰ã€‚æŸç§ç¨‹åº¦ä¸Šï¼Œå®ƒä»¬å·²ç»çŸ¥é“ä½ çœŸæ­£æƒ³è¦æˆä¸ºä»€ä¹ˆæ ·å­ã€‚å…¶ä»–æ‰€æœ‰äº‹æƒ…éƒ½æ˜¯æ¬¡è¦çš„ã€‚â€</p></blockquote><p>è¿™æ®µè¯åæ¥è¢«ç§°ä¸ºâ€çƒ­æƒ…å‡è®¾â€ï¼Œå¾ˆå¤šäººéƒ½å¼•ç”¨å®ƒé¼“åŠ±å¹´è½»äººï¼šå¯»æ‰¾èŒä¸šæ–¹å‘çš„æ—¶å€™ï¼Œè¦è·Ÿéšå†…å¿ƒçš„çƒ­æƒ…ï¼ˆpassionï¼‰ï¼Œå»åšé‚£äº›ä½ æœ‰å¼ºçƒˆæ„æ„¿ä»äº‹çš„å·¥ä½œã€‚</p><p>ä½†æ˜¯ï¼Œç¾å›½æœ€è¿‘å‡ºç‰ˆäº†ä¸€æœ¬æ–°ä¹¦ã€Šä¼˜ç§€åˆ°æ— æ³•å¿½ç•¥ã€‹ï¼ˆ<a href="https://commoncog.com/blog/so-good-they-cant-ignore-you/">ã€ŠSo Good They Canâ€™t Ignore Youã€‹</a>ï¼‰ï¼Œå£°ç§°ä¹”å¸ƒæ–¯çš„è¿™ä¸ªå»ºè®®æ˜¯å®Œå…¨é”™è¯¯çš„ï¼Œè¯¯å¯¼å¹´è½»äººã€‚åˆ«çš„ä¸è¯´ï¼Œä¹”å¸ƒæ–¯æœ¬äººä¹Ÿä¸éµå®ˆâ€çƒ­æƒ…å‡è®¾â€ã€‚å¹´è½»æ—¶ï¼Œä»–å¯¹ç¦…å®—æ€æƒ³æœ€æ„Ÿå…´è¶£ï¼Œå»å°åº¦å­¦ä¹ ä½›æ•™ã€‚å¦‚æœä»–çœŸçš„è¿½éšè‡ªå·±çš„å†…å¿ƒï¼Œä»–å°±åº”è¯¥å»å½“ä¸€ä¸ªç¦…å®—è€å¸ˆï¼Œè€Œä¸æ˜¯è·‘å›ç¾å›½åˆ›åŠè‹¹æœå…¬å¸ã€‚</p><p>è¿™æœ¬ä¹¦è®¤ä¸ºï¼Œä»¥ä¸‹å‡ ä¸ªåŸå› å¯¼è‡´â€çƒ­æƒ…å‡è®¾â€ä¸æ˜¯ä¸€ä¸ªå¥½çš„å»ºè®®ã€‚</p><ul><li><p>ç¬¬ä¸€ï¼Œçƒ­æƒ…çœŸçš„å¾ˆç½•è§ã€‚å¤§éƒ¨åˆ†äººéƒ½å¯¹è‡ªå·±çš„å·¥ä½œæ²¡å…´è¶£ï¼Œè€Œæ˜¯å¯¹æŸç§çˆ±å¥½ï¼ˆæ¯”å¦‚æ‰“çƒã€é’“é±¼ï¼‰æœ‰å…´è¶£ã€‚å¦‚æœå¤§éƒ¨åˆ†äººéƒ½æ‰¾ä¸åˆ°è‡ªå·±çš„èŒä¸šçƒ­æƒ…ï¼Œä½ æ€ä¹ˆèƒ½å«ä»–ä»¬å»è¿½éšçƒ­æƒ…å‘¢ï¼Ÿ</p></li><li><p>ç¬¬äºŒï¼Œçƒ­æƒ…éœ€è¦æ—¶é—´æ¥å»ºç«‹ã€‚è®¸å¤šäººåˆšå¼€å§‹å·¥ä½œçš„æ—¶å€™ï¼Œå¯¹è‡ªå·±çš„èŒä¸šå¹¶æ²¡æœ‰å…´è¶£ï¼Œéšç€æ—¶é—´ç§¯ç´¯ï¼Œä»–ä»¬çš„ç»éªŒè¶Šæ¥è¶Šå¤šï¼Œèƒ½å¤ŸæŒæ§çš„ä¸œè¥¿è¶Šæ¥è¶Šå¤šï¼Œè¿™æ‰æ…¢æ…¢å¼€å§‹çƒ­çˆ±è‡ªå·±çš„å·¥ä½œã€‚æ‰¾å·¥ä½œé˜¶æ®µï¼Œä½ å¯èƒ½æ ¹æœ¬ä¸ä¼šæ„è¯†åˆ°è¿™ä¸ªèŒä¸šå°±æ˜¯ä½ çš„çƒ­æƒ…æ‰€åœ¨ã€‚</p></li><li><p>ç¬¬ä¸‰ï¼Œè¿‡åº¦å¼ºè°ƒçƒ­æƒ…ï¼Œå®¹æ˜“å¯¹ç°çŠ¶äº§ç”Ÿä¸æ»¡ã€‚2010å¹´çš„ä¸€é¡¹è°ƒæŸ¥å‘ç°ï¼Œåªæœ‰45ï¼…çš„ç¾å›½äººå¯¹è‡ªå·±çš„å·¥ä½œæ»¡æ„ã€‚ç”±äºå¾ˆå¤šäººç›¸ä¿¡ï¼Œæ— æ³•äº§ç”Ÿçƒ­æƒ…çš„å·¥ä½œä¸æ˜¯å¥½å·¥ä½œï¼Œå¯¼è‡´å¯¹èŒä¸šç”Ÿæ¶¯æŠ±æœ‰ä¸åˆ‡å®é™…çš„æœŸæœ›ï¼Œå¯¹ç°æœ‰çš„å·¥ä½œä¸æ»¡æ„ï¼Œä¸æ–­è·³æ§½ã€‚</p></li></ul><p>è¿™æœ¬ä¹¦æå‡ºï¼Œçƒ­æƒ…ä¸æ˜¯å‡­ç©ºäº§ç”Ÿçš„ï¼Œå®ƒè·Ÿè‡ªä¸»æƒæœ‰å…³ã€‚å¦‚æœä½ åœ¨æŸä¸ªèŒä½ä¸Šçš„è‡ªä¸»æƒè¶Šå¤§ï¼Œèƒ½å¤ŸæŒæ§çš„ä¸œè¥¿è¶Šå¤šï¼Œå°±è¶Šå®¹æ˜“å¯¹å½“å‰çš„èŒä¸šäº§ç”Ÿçƒ­æƒ…ã€‚<strong>ä¸å…¶å¼ºè°ƒè·Ÿéšå†…å¿ƒçš„çƒ­æƒ…ï¼Œä¸å¦‚å¼ºè°ƒå¦‚ä½•åœ¨æŸç§èŒä¸šé‡Œé¢è·å¾—è‡ªä¸»æƒã€‚ä½ å¿…é¡»ä½¿è‡ªå·±å˜å¾—ä¼˜ç§€ï¼Œè®©åˆ«äººæ— æ³•å¿½è§†ä½ ï¼ŒåŒæ„è®©ä½ æŒæ§æ›´å¤šçš„èµ„æº</strong> ï¼Œè¿™å°±æ˜¯ä¹¦åçš„å«ä¹‰ã€‚</p><p>â€”â€”å¼•è‡ªé˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—27æœŸ</p>]]></content>
      
      
      <categories>
          
          <category> è½¬è½½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ–‡ç«  </tag>
            
            <tag> è½¬è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€Šé»‘å¤©é¹…ã€‹è¯»åæ„Ÿ</title>
      <link href="/hypo-Z.github.io/2021/12/06/20-hei-tian-e-du-hou-gan/"/>
      <url>/hypo-Z.github.io/2021/12/06/20-hei-tian-e-du-hou-gan/</url>
      
        <content type="html"><![CDATA[<h1 id="ã€Šé»‘å¤©é¹…ã€‹è¯»åæ„Ÿ"><a href="#ã€Šé»‘å¤©é¹…ã€‹è¯»åæ„Ÿ" class="headerlink" title="ã€Šé»‘å¤©é¹…ã€‹è¯»åæ„Ÿ"></a><strong>ã€Šé»‘å¤©é¹…ã€‹è¯»åæ„Ÿ</strong></h1><p>ä¸Šå‘¨ç»ˆäºå°†ã€Šé»‘å¤©é¹…ã€‹çœ‹å®Œäº†ï¼Œåˆ©ç”¨åœ¨åœ°é“ä¸Šçš„é—²æš‡æ—¶é—´çœ‹çš„ï¼Œæˆ‘çŸ¥é“è¯»ä¹¦éœ€è¦ä¸€ä¸ªå®‰é™çš„ç¯å¢ƒï¼Œæ‰€ä»¥æˆ‘ä¸çŸ¥é“æˆ‘æœ‰æ²¡æœ‰çœ‹æ¼ä¸€äº›åœ°æ–¹ï¼Œä»¥ä¸‹æ˜¯æˆ‘è¯»å®Œåçš„ä¸€ç‚¹æµ…æ˜¾çš„ç†è§£ï¼š</p><ol><li>é»‘å¤©é¹…äº‹ä»¶æ˜¯ä¸å¯é¢„æµ‹çš„ï¼Œå¯¹äºäººä»¬è´¢å¯Œçš„å½±å“æ˜¯å·¨å¤§çš„ï¼›</li><li>é»‘å¤©é¹…äº‹ä»¶å¯¹äºè´¢å¯Œè¶Šå¤§çš„äººè¶Šå…·æœ‰å½±å“åŠ›ï¼Œå¯¹äºè´«å›°çš„äººå½±å“ä¸å¤§ï¼›</li><li>é»‘å¤©é¹…äº‹ä»¶çš„å½±å“å…·æœ‰ä¸¤é¢æ€§</li><li>é»‘å¤©é¹…äº‹ä»¶æ˜¯å¯å‡å¼±çš„ä½†ä¸å¯æ¶ˆé™¤ã€‚</li></ol><h3 id="å¹¿ä¹‰è§£é‡Šï¼š"><a href="#å¹¿ä¹‰è§£é‡Šï¼š" class="headerlink" title="å¹¿ä¹‰è§£é‡Šï¼š"></a>å¹¿ä¹‰è§£é‡Šï¼š</h3><p>é»‘å¤©é¹…äº‹ä»¶ï¼ˆè‹±æ–‡ï¼šâ€Black swanâ€ incidents)æŒ‡éå¸¸éš¾ä»¥é¢„æµ‹ï¼Œä¸”ä¸å¯»å¸¸çš„äº‹ä»¶ï¼Œé€šå¸¸ä¼šå¼•èµ·å¸‚åœºè¿é”è´Ÿé¢ååº”ç”šè‡³é¢ è¦†ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œâ€œé»‘å¤©é¹…â€äº‹ä»¶æ˜¯æŒ‡æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªç‰¹ç‚¹çš„äº‹ä»¶ï¼šå®ƒå…·æœ‰æ„å¤–æ€§ï¼›å®ƒäº§ç”Ÿé‡å¤§å½±å“ï¼›è™½ç„¶å®ƒå…·æœ‰æ„å¤–æ€§ï¼Œä½†äººçš„æœ¬æ€§ä¿ƒä½¿æˆ‘ä»¬åœ¨äº‹åä¸ºå®ƒçš„å‘ç”Ÿç¼–é€ ç†ç”±ï¼Œå¹¶ä¸”æˆ–å¤šæˆ–å°‘è®¤ä¸ºå®ƒæ˜¯å¯è§£é‡Šå’Œå¯é¢„æµ‹çš„ã€‚</p><p>é»‘å¤©é¹…å­˜åœ¨äºå„ä¸ªé¢†åŸŸï¼Œæ— è®ºé‡‘èå¸‚åœºã€å•†ä¸šã€ç»æµè¿˜æ˜¯ä¸ªäººç”Ÿæ´»ï¼Œéƒ½é€ƒä¸è¿‡å®ƒçš„æ§åˆ¶ã€‚â€œ<a href="https://baike.baidu.com/item/%E7%81%B0%E7%8A%80%E7%89%9B/22030944">ç°çŠ€ç‰›</a></p><p>â€æ˜¯ä¸â€œé»‘å¤©é¹…â€ç›¸äº’è¡¥è¶³çš„æ¦‚å¿µï¼Œâ€œ<a href="https://baike.baidu.com/item/%E7%81%B0%E7%8A%80%E7%89%9B%E4%BA%8B%E4%BB%B6/22044335">ç°çŠ€ç‰›äº‹ä»¶</a>â€æ˜¯å¤ªè¿‡äºå¸¸è§ä»¥è‡³äºäººä»¬ä¹ ä»¥ä¸ºå¸¸çš„é£é™©ï¼Œâ€œé»‘å¤©é¹…äº‹ä»¶â€åˆ™æ˜¯æå…¶ç½•è§çš„ã€å‡ºä¹äººä»¬æ„æ–™çš„é£é™©ã€‚</p><h3 id="â€œé»‘å¤©é¹…â€çš„é€»è¾‘æ˜¯ï¼š"><a href="#â€œé»‘å¤©é¹…â€çš„é€»è¾‘æ˜¯ï¼š" class="headerlink" title="â€œé»‘å¤©é¹…â€çš„é€»è¾‘æ˜¯ï¼š"></a>â€œé»‘å¤©é¹…â€çš„é€»è¾‘æ˜¯ï¼š</h3><p><a href="https://baike.baidu.com/item/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84%E4%BA%8B">ä½ ä¸çŸ¥é“çš„äº‹</a>æ¯”ä½ çŸ¥é“çš„äº‹æ›´æœ‰æ„ä¹‰ã€‚åœ¨äººç±»ç¤¾ä¼šå‘å±•çš„è¿›ç¨‹ä¸­ï¼Œå¯¹æˆ‘ä»¬çš„å†å²å’Œç¤¾ä¼šäº§ç”Ÿé‡å¤§å½±å“çš„ï¼Œé€šå¸¸éƒ½ä¸æ˜¯æˆ‘ä»¬å·²çŸ¥æˆ–å¯ä»¥é¢„è§çš„ä¸œè¥¿ã€‚</p><h3 id="å¯¹æˆ‘è‡ªå·±ç°é˜¶æ®µçš„è§£è¯»ï¼š"><a href="#å¯¹æˆ‘è‡ªå·±ç°é˜¶æ®µçš„è§£è¯»ï¼š" class="headerlink" title="å¯¹æˆ‘è‡ªå·±ç°é˜¶æ®µçš„è§£è¯»ï¼š"></a>å¯¹æˆ‘è‡ªå·±ç°é˜¶æ®µçš„è§£è¯»ï¼š</h3><p>å°±åƒæ˜¯è¿™å»å¹´åˆšå‡ºçš„ç–«æƒ…ä¸€æ ·ï¼Œå¯¹äºæˆ‘è¿™æ ·çš„æ™®é€šäººï¼Œç»™æˆ‘çš„å½±å“å°±æ˜¯å‡ºé—¨ä¸æ–¹ä¾¿ï¼Œäººä»¬äº¤æµå‡å°‘ï¼Œå¨±ä¹æ–¹å¼å‡å°‘ã€‚å¯¹äºä¸ªäººçš„è´¢å¯Œæ²¡æœ‰å¤šå°‘å½±å“ã€‚ä½†å¯¹äºä¸€äº›å·¥å‚æ¥è¯´å½±å“ç¡®å®å·¨å¤§çš„ï¼Œå®ä½“äº§ä¸šé­å—æ‰“å‡»ã€‚å¦ä¸€æ–¹é¢çº¿ä¸Šäº§ä¸šç¡®è¶Šå‘è“¬å‹ƒã€‚ç»™æˆ‘çš„å¯å‘å°±æ˜¯ï¼šçœ‹å¾…ä¸€ä¸ªäº‹ç‰©æ—¶ï¼Œæ›´åº”è¯¥å…³æ³¨å®ƒèƒŒåçš„è¿è¡Œæœºåˆ¶ï¼Œå› ä¸ºåœ¨è¡¨é¢ä¸Šå‡ºç°çš„ä»…ä»…çš„å®ƒçš„ç»“æœï¼Œè¦ä»è¿‡ç¨‹å»åˆ†æç»“æœï¼›å®ƒä¹Ÿæé†’æˆ‘éœ€è¦åŠ å¼ºè‡ªèº«çš„é£é™©æ„è¯†ï¼Œå»é¢„é˜²ä¸å¯é¢„æµ‹çš„é£é™©ã€‚</p><p>ä¸€æœ¬å¥½ä¹¦æ˜¯å€¼å¾—åå¤é˜…è¯»çš„ï¼Œä¹‹åä¸€å®šä¼šå†é˜…è¯»ä¸€éï¼Œç›¸ä¿¡ä¼šæœ‰æ›´å¤šçš„ç†è§£ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
            <tag> æ–‡ç«  </tag>
            
            <tag> å¥½ä¹¦æ¨è </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/hypo-Z.github.io/2021/12/06/0-hello-world/"/>
      <url>/hypo-Z.github.io/2021/12/06/0-hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo generate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Goä½¿ç”¨S3æ­å»ºLambdaæ— çŠ¶æ€æœåŠ¡</title>
      <link href="/hypo-Z.github.io/2021/12/04/go-shi-yong-s3-da-jian-lambda-wu-zhuang-tai-fu-wu/"/>
      <url>/hypo-Z.github.io/2021/12/04/go-shi-yong-s3-da-jian-lambda-wu-zhuang-tai-fu-wu/</url>
      
        <content type="html"><![CDATA[<h1 id="golangä½¿ç”¨S3æ­å»ºLambdaæ— çŠ¶æ€æœåŠ¡"><a href="#golangä½¿ç”¨S3æ­å»ºLambdaæ— çŠ¶æ€æœåŠ¡" class="headerlink" title="golangä½¿ç”¨S3æ­å»ºLambdaæ— çŠ¶æ€æœåŠ¡"></a>golangä½¿ç”¨S3æ­å»ºLambdaæ— çŠ¶æ€æœåŠ¡</h1><p>ç”±äºé¡¹ç›®éœ€æ±‚æˆ‘éœ€è¦ä½¿ç”¨awsçš„LambdaæœåŠ¡æ¥è‡ªåŠ¨å¤„ç†å­˜å…¥å›¾ç‰‡çš„ç¼©ç•¥å›¾çš„ç”Ÿæˆå’Œå­˜å…¥åŠŸèƒ½ã€‚</p><h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><ul><li>æ ¹æ®å°ºå¯¸éœ€æ±‚ç”Ÿæˆå¯¹åº”çš„ç¼©ç•¥å›¾</li><li>è‡ªåŠ¨ä¿å­˜å…¥S3å¯¹åº”ä½ç½®</li><li>å°†ä½ç½®ä¿¡æ¯å‘Šè¯‰åç«¯å­˜å…¥æ•°æ®åº“</li><li>æ—¥å¿—è®°å½•æŠ¥é”™å’Œè¿è¡Œä¿¡æ¯</li></ul><h2 id="å…ˆå†³æ¡ä»¶"><a href="#å…ˆå†³æ¡ä»¶" class="headerlink" title="å…ˆå†³æ¡ä»¶"></a>å…ˆå†³æ¡ä»¶</h2><h4 id="1-ä¸€ä¸ªawsè´¦å·"><a href="#1-ä¸€ä¸ªawsè´¦å·" class="headerlink" title="1.ä¸€ä¸ªawsè´¦å·"></a>1.ä¸€ä¸ªawsè´¦å·</h4><h4 id="2-ç¼–è¾‘å¥½éœ€æ±‚çš„ç¨‹åº-éœ€è¦åœ¨æœ¬åœ°æµ‹è¯•å¥½ï¼Œç¡®å®šæ²¡é—®é¢˜å†è½¬åŒ–æˆLambdaæ ¼å¼ï¼Œè™½ç„¶åœ¨awsæ§åˆ¶å°å¯ä»¥æµ‹è¯•ï¼Œä½†éœ€è¦æ‰“åŒ…ï¼Œå¾ˆéº»çƒ¦ï¼Œå…ˆåšæµ‹è¯•ï¼Œå‡å°‘ä¸Šçº¿æ­¥éª¤ã€‚"><a href="#2-ç¼–è¾‘å¥½éœ€æ±‚çš„ç¨‹åº-éœ€è¦åœ¨æœ¬åœ°æµ‹è¯•å¥½ï¼Œç¡®å®šæ²¡é—®é¢˜å†è½¬åŒ–æˆLambdaæ ¼å¼ï¼Œè™½ç„¶åœ¨awsæ§åˆ¶å°å¯ä»¥æµ‹è¯•ï¼Œä½†éœ€è¦æ‰“åŒ…ï¼Œå¾ˆéº»çƒ¦ï¼Œå…ˆåšæµ‹è¯•ï¼Œå‡å°‘ä¸Šçº¿æ­¥éª¤ã€‚" class="headerlink" title="2.ç¼–è¾‘å¥½éœ€æ±‚çš„ç¨‹åº,éœ€è¦åœ¨æœ¬åœ°æµ‹è¯•å¥½ï¼Œç¡®å®šæ²¡é—®é¢˜å†è½¬åŒ–æˆLambdaæ ¼å¼ï¼Œè™½ç„¶åœ¨awsæ§åˆ¶å°å¯ä»¥æµ‹è¯•ï¼Œä½†éœ€è¦æ‰“åŒ…ï¼Œå¾ˆéº»çƒ¦ï¼Œå…ˆåšæµ‹è¯•ï¼Œå‡å°‘ä¸Šçº¿æ­¥éª¤ã€‚"></a>2.ç¼–è¾‘å¥½éœ€æ±‚çš„ç¨‹åº,éœ€è¦åœ¨æœ¬åœ°æµ‹è¯•å¥½ï¼Œç¡®å®šæ²¡é—®é¢˜å†è½¬åŒ–æˆLambdaæ ¼å¼ï¼Œè™½ç„¶åœ¨awsæ§åˆ¶å°å¯ä»¥æµ‹è¯•ï¼Œä½†éœ€è¦æ‰“åŒ…ï¼Œå¾ˆéº»çƒ¦ï¼Œå…ˆåšæµ‹è¯•ï¼Œå‡å°‘ä¸Šçº¿æ­¥éª¤ã€‚</h4><p>å®˜æ–¹çš„ä¾‹å­ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span>        <span class="token string">"fmt"</span>        <span class="token string">"context"</span>        <span class="token string">"github.com/aws/aws-lambda-go/lambda"</span><span class="token punctuation">)</span><span class="token keyword">type</span> MyEvent <span class="token keyword">struct</span> <span class="token punctuation">{</span>        Name <span class="token builtin">string</span> <span class="token string">`json:"name"`</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">HandleRequest</span><span class="token punctuation">(</span>ctx context<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> name MyEvent<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"Hello %s!"</span><span class="token punctuation">,</span> name<span class="token punctuation">.</span>Name <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        lambda<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span>HandleRequest<span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸‹é¢åˆ—å‡ºäº†æœ‰æ•ˆçš„å¤„ç†ç¨‹åºç­¾åã€‚TIn å’Œ TOut è¡¨ç¤ºç±»å‹ä¸ encoding/json æ ‡å‡†åº“å…¼å®¹ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… func Unmarshalï¼Œä»¥äº†è§£å¦‚ä½•ååºåˆ—åŒ–è¿™äº›ç±»å‹ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span><span class="token keyword">func</span> <span class="token punctuation">(</span>TIn<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token keyword">func</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>TOut<span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token builtin">error</span><span class="token keyword">func</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> TIn<span class="token punctuation">)</span> <span class="token builtin">error</span><span class="token keyword">func</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">(</span>TOut<span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> TIn<span class="token punctuation">)</span> <span class="token punctuation">(</span>TOut<span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="3-éƒ¨ç½²-zipæ–‡ä»¶å­˜æ¡£"><a href="#3-éƒ¨ç½²-zipæ–‡ä»¶å­˜æ¡£" class="headerlink" title="3.éƒ¨ç½².zipæ–‡ä»¶å­˜æ¡£"></a>3.éƒ¨ç½².zipæ–‡ä»¶å­˜æ¡£</h4><h5 id="åœ¨-macOS-å’Œ-Linux-ä¸Šåˆ›å»º-zip-æ–‡ä»¶"><a href="#åœ¨-macOS-å’Œ-Linux-ä¸Šåˆ›å»º-zip-æ–‡ä»¶" class="headerlink" title="åœ¨ macOS å’Œ Linux ä¸Šåˆ›å»º .zip æ–‡ä»¶"></a>åœ¨ macOS å’Œ Linux ä¸Šåˆ›å»º .zip æ–‡ä»¶</h5><p>ç¼–è¯‘æ‚¨çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go">GOOS<span class="token operator">=</span>linux <span class="token keyword">go</span> build main<span class="token punctuation">.</span><span class="token keyword">go</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å°† GOOS è®¾ç½®ä¸º linux å¯ç¡®ä¿ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶ä¸ Go è¿è¡Œæ—¶å…¼å®¹ï¼ˆå³ä½¿æ‚¨åœ¨é Linux ç¯å¢ƒä¸­ç¼–è¯‘å®ƒä¹Ÿæ˜¯å¦‚æ­¤ï¼‰ã€‚</p><p>ï¼ˆå¯é€‰ï¼‰å¦‚æœæ‚¨çš„ main ç¨‹åºåŒ…åŒ…å«å¤šä¸ªæ–‡ä»¶ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹ go build å‘½ä»¤æ¥ç¼–è¯‘æ­¤ç¨‹åºåŒ…ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go">GOOS<span class="token operator">=</span>linux <span class="token keyword">go</span> build main<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ï¼ˆå¯é€‰ï¼‰æ‚¨å¯èƒ½éœ€è¦ä½¿ç”¨ Linux ä¸Šçš„ CGO_ENABLED=0 ç¼–è¯‘ç¨‹åºåŒ…ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go">GOOS<span class="token operator">=</span>linux CGO_ENABLED<span class="token operator">=</span><span class="token number">0</span> <span class="token keyword">go</span> build main<span class="token punctuation">.</span><span class="token keyword">go</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ­¤å‘½ä»¤ä¸ºæ ‡å‡† C åº“ (libc) ç‰ˆæœ¬åˆ›å»ºç¨³å®šçš„äºŒè¿›åˆ¶ç¨‹åºåŒ…ï¼Œè¿™åœ¨ Lambda å’Œå…¶ä»–è®¾å¤‡ä¸Šå¯èƒ½æœ‰æ‰€ä¸åŒã€‚</p><p>Lambda ä½¿ç”¨ POSIX æ–‡ä»¶æƒé™ï¼Œå› æ­¤åœ¨åˆ›å»º .zip æ–‡ä»¶å­˜æ¡£ä¹‹å‰ï¼Œæ‚¨å¯èƒ½éœ€è¦ä¸ºéƒ¨ç½²ç¨‹åºåŒ…æ–‡ä»¶å¤¹è®¾ç½®æƒé™ã€‚</p><p>é€šè¿‡å°†å¯æ‰§è¡Œæ–‡ä»¶æ‰“åŒ…ä¸º .zip æ–‡ä»¶æ¥åˆ›å»ºéƒ¨ç½²ç¨‹åºåŒ…ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go">zip function<span class="token punctuation">.</span>zip main<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™é‡Œæœ‰ä¸ªå‘éœ€è¦è¸©ä¸€ä¸‹ï¼š<br>mainåŒ…ä¸‹ï¼Œæœ€å¥½æ˜¯å°†å…¨éƒ¨ç¨‹åºæ”¾åœ¨main.goé‡Œé¢ï¼Œé˜²æ­¢åœ¨ç¼–è¯‘æ—¶æŠ¥é”™ï¼Œè¿™æ ·æ‰“å¥½zipåŒ…ååˆ°æ§åˆ¶å°æµ‹è¯•è¿è¡Œï¼Œä¸€å®šè¦åšæµ‹è¯•ï¼Œè¿™æ ·æ‰èƒ½ç¡®ä¿ä½ çš„ç¨‹åºèƒ½å¤ŸæˆåŠŸè¿è¡Œï¼Œæœ€å¥½æ˜¯æŸ¥çœ‹å›¾ç‰‡ä¸éœ€æ±‚ç»“æœæ˜¯å¦ç›¸åŒã€‚</p><p>â€¦è¡¥å……â€¦</p>]]></content>
      
      
      <categories>
          
          <category> Golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Golang </tag>
            
            <tag> AWS </tag>
            
            <tag> S3 </tag>
            
            <tag> Lambda </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSON Web Token å…¥é—¨æ•™ç¨‹</title>
      <link href="/hypo-Z.github.io/2021/12/03/19-json-web-token-ru-men-jiao-cheng/"/>
      <url>/hypo-Z.github.io/2021/12/03/19-json-web-token-ru-men-jiao-cheng/</url>
      
        <content type="html"><![CDATA[<p>JSON Web Token å…¥é—¨æ•™ç¨‹<br>ä½œè€…ï¼š é˜®ä¸€å³°</p><p>æ—¥æœŸï¼š 2018å¹´7æœˆ23æ—¥</p><p>JSON Web Tokenï¼ˆç¼©å†™ JWTï¼‰æ˜¯ç›®å‰æœ€æµè¡Œçš„è·¨åŸŸè®¤è¯è§£å†³æ–¹æ¡ˆï¼Œæœ¬æ–‡ä»‹ç»å®ƒçš„åŸç†å’Œç”¨æ³•ã€‚</p><p>ä¸€ã€è·¨åŸŸè®¤è¯çš„é—®é¢˜<br>äº’è”ç½‘æœåŠ¡ç¦»ä¸å¼€ç”¨æˆ·è®¤è¯ã€‚ä¸€èˆ¬æµç¨‹æ˜¯ä¸‹é¢è¿™æ ·ã€‚</p><p>1ã€ç”¨æˆ·å‘æœåŠ¡å™¨å‘é€ç”¨æˆ·åå’Œå¯†ç ã€‚</p><p>2ã€æœåŠ¡å™¨éªŒè¯é€šè¿‡åï¼Œåœ¨å½“å‰å¯¹è¯ï¼ˆsessionï¼‰é‡Œé¢ä¿å­˜ç›¸å…³æ•°æ®ï¼Œæ¯”å¦‚ç”¨æˆ·è§’è‰²ã€ç™»å½•æ—¶é—´ç­‰ç­‰ã€‚</p><p>3ã€æœåŠ¡å™¨å‘ç”¨æˆ·è¿”å›ä¸€ä¸ª session_idï¼Œå†™å…¥ç”¨æˆ·çš„ Cookieã€‚</p><p>4ã€ç”¨æˆ·éšåçš„æ¯ä¸€æ¬¡è¯·æ±‚ï¼Œéƒ½ä¼šé€šè¿‡ Cookieï¼Œå°† session_id ä¼ å›æœåŠ¡å™¨ã€‚</p><p>5ã€æœåŠ¡å™¨æ”¶åˆ° session_idï¼Œæ‰¾åˆ°å‰æœŸä¿å­˜çš„æ•°æ®ï¼Œç”±æ­¤å¾—çŸ¥ç”¨æˆ·çš„èº«ä»½ã€‚</p><p>è¿™ç§æ¨¡å¼çš„é—®é¢˜åœ¨äºï¼Œæ‰©å±•æ€§ï¼ˆscalingï¼‰ä¸å¥½ã€‚å•æœºå½“ç„¶æ²¡æœ‰é—®é¢˜ï¼Œå¦‚æœæ˜¯æœåŠ¡å™¨é›†ç¾¤ï¼Œæˆ–è€…æ˜¯è·¨åŸŸçš„æœåŠ¡å¯¼å‘æ¶æ„ï¼Œå°±è¦æ±‚ session æ•°æ®å…±äº«ï¼Œæ¯å°æœåŠ¡å™¨éƒ½èƒ½å¤Ÿè¯»å– sessionã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼ŒA ç½‘ç«™å’Œ B ç½‘ç«™æ˜¯åŒä¸€å®¶å…¬å¸çš„å…³è”æœåŠ¡ã€‚ç°åœ¨è¦æ±‚ï¼Œç”¨æˆ·åªè¦åœ¨å…¶ä¸­ä¸€ä¸ªç½‘ç«™ç™»å½•ï¼Œå†è®¿é—®å¦ä¸€ä¸ªç½‘ç«™å°±ä¼šè‡ªåŠ¨ç™»å½•ï¼Œè¯·é—®æ€ä¹ˆå®ç°ï¼Ÿ</p><p>ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯ session æ•°æ®æŒä¹…åŒ–ï¼Œå†™å…¥æ•°æ®åº“æˆ–åˆ«çš„æŒä¹…å±‚ã€‚å„ç§æœåŠ¡æ”¶åˆ°è¯·æ±‚åï¼Œéƒ½å‘æŒä¹…å±‚è¯·æ±‚æ•°æ®ã€‚è¿™ç§æ–¹æ¡ˆçš„ä¼˜ç‚¹æ˜¯æ¶æ„æ¸…æ™°ï¼Œç¼ºç‚¹æ˜¯å·¥ç¨‹é‡æ¯”è¾ƒå¤§ã€‚å¦å¤–ï¼ŒæŒä¹…å±‚ä¸‡ä¸€æŒ‚äº†ï¼Œå°±ä¼šå•ç‚¹å¤±è´¥ã€‚</p><p>å¦ä¸€ç§æ–¹æ¡ˆæ˜¯æœåŠ¡å™¨ç´¢æ€§ä¸ä¿å­˜ session æ•°æ®äº†ï¼Œæ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½å‘å›æœåŠ¡å™¨ã€‚JWT å°±æ˜¯è¿™ç§æ–¹æ¡ˆçš„ä¸€ä¸ªä»£è¡¨ã€‚</p><p>äºŒã€JWT çš„åŸç†<br>JWT çš„åŸç†æ˜¯ï¼ŒæœåŠ¡å™¨è®¤è¯ä»¥åï¼Œç”Ÿæˆä¸€ä¸ª JSON å¯¹è±¡ï¼Œå‘å›ç»™ç”¨æˆ·ï¼Œå°±åƒä¸‹é¢è¿™æ ·ã€‚</p><pre class="line-numbers language-none"><code class="language-none">{  "å§“å": "å¼ ä¸‰",  "è§’è‰²": "ç®¡ç†å‘˜",  "åˆ°æœŸæ—¶é—´": "2018å¹´7æœˆ1æ—¥0ç‚¹0åˆ†"}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»¥åï¼Œç”¨æˆ·ä¸æœåŠ¡ç«¯é€šä¿¡çš„æ—¶å€™ï¼Œéƒ½è¦å‘å›è¿™ä¸ª JSON å¯¹è±¡ã€‚æœåŠ¡å™¨å®Œå…¨åªé è¿™ä¸ªå¯¹è±¡è®¤å®šç”¨æˆ·èº«ä»½ã€‚ä¸ºäº†é˜²æ­¢ç”¨æˆ·ç¯¡æ”¹æ•°æ®ï¼ŒæœåŠ¡å™¨åœ¨ç”Ÿæˆè¿™ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œä¼šåŠ ä¸Šç­¾åï¼ˆè¯¦è§åæ–‡ï¼‰ã€‚</p><p>æœåŠ¡å™¨å°±ä¸ä¿å­˜ä»»ä½• session æ•°æ®äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæœåŠ¡å™¨å˜æˆæ— çŠ¶æ€äº†ï¼Œä»è€Œæ¯”è¾ƒå®¹æ˜“å®ç°æ‰©å±•ã€‚</p><p>ä¸‰ã€JWT çš„æ•°æ®ç»“æ„<br>å®é™…çš„ JWT å¤§æ¦‚å°±åƒä¸‹é¢è¿™æ ·ã€‚</p><p>å®ƒæ˜¯ä¸€ä¸ªå¾ˆé•¿çš„å­—ç¬¦ä¸²ï¼Œä¸­é—´ç”¨ç‚¹ï¼ˆ.ï¼‰åˆ†éš”æˆä¸‰ä¸ªéƒ¨åˆ†ã€‚æ³¨æ„ï¼ŒJWT å†…éƒ¨æ˜¯æ²¡æœ‰æ¢è¡Œçš„ï¼Œè¿™é‡Œåªæ˜¯ä¸ºäº†ä¾¿äºå±•ç¤ºï¼Œå°†å®ƒå†™æˆäº†å‡ è¡Œã€‚</p><p>JWT çš„ä¸‰ä¸ªéƒ¨åˆ†ä¾æ¬¡å¦‚ä¸‹ã€‚</p><p>Headerï¼ˆå¤´éƒ¨ï¼‰<br>Payloadï¼ˆè´Ÿè½½ï¼‰<br>Signatureï¼ˆç­¾åï¼‰<br>å†™æˆä¸€è¡Œï¼Œå°±æ˜¯ä¸‹é¢çš„æ ·å­ã€‚</p><pre class="line-numbers language-none"><code class="language-none">Header.Payload.Signature<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸‹é¢ä¾æ¬¡ä»‹ç»è¿™ä¸‰ä¸ªéƒ¨åˆ†ã€‚</p><p>3.1 Header<br>Header éƒ¨åˆ†æ˜¯ä¸€ä¸ª JSON å¯¹è±¡ï¼Œæè¿° JWT çš„å…ƒæ•°æ®ï¼Œé€šå¸¸æ˜¯ä¸‹é¢çš„æ ·å­ã€‚</p><pre class="line-numbers language-none"><code class="language-none">{  "alg": "HS256",  "typ": "JWT"}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šé¢ä»£ç ä¸­ï¼Œalgå±æ€§è¡¨ç¤ºç­¾åçš„ç®—æ³•ï¼ˆalgorithmï¼‰ï¼Œé»˜è®¤æ˜¯ HMAC SHA256ï¼ˆå†™æˆ HS256ï¼‰ï¼›typå±æ€§è¡¨ç¤ºè¿™ä¸ªä»¤ç‰Œï¼ˆtokenï¼‰çš„ç±»å‹ï¼ˆtypeï¼‰ï¼ŒJWT ä»¤ç‰Œç»Ÿä¸€å†™ä¸ºJWTã€‚</p><p>æœ€åï¼Œå°†ä¸Šé¢çš„ JSON å¯¹è±¡ä½¿ç”¨ Base64URL ç®—æ³•ï¼ˆè¯¦è§åæ–‡ï¼‰è½¬æˆå­—ç¬¦ä¸²ã€‚</p><p>3.2 Payload<br>Payload éƒ¨åˆ†ä¹Ÿæ˜¯ä¸€ä¸ª JSON å¯¹è±¡ï¼Œç”¨æ¥å­˜æ”¾å®é™…éœ€è¦ä¼ é€’çš„æ•°æ®ã€‚JWT è§„å®šäº†7ä¸ªå®˜æ–¹å­—æ®µï¼Œä¾›é€‰ç”¨ã€‚</p><p>iss (issuer)ï¼šç­¾å‘äºº<br>exp (expiration time)ï¼šè¿‡æœŸæ—¶é—´<br>sub (subject)ï¼šä¸»é¢˜<br>aud (audience)ï¼šå—ä¼—<br>nbf (Not Before)ï¼šç”Ÿæ•ˆæ—¶é—´<br>iat (Issued At)ï¼šç­¾å‘æ—¶é—´<br>jti (JWT ID)ï¼šç¼–å·<br>é™¤äº†å®˜æ–¹å­—æ®µï¼Œä½ è¿˜å¯ä»¥åœ¨è¿™ä¸ªéƒ¨åˆ†å®šä¹‰ç§æœ‰å­—æ®µï¼Œä¸‹é¢å°±æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><pre class="line-numbers language-none"><code class="language-none">{  "sub": "1234567890",  "name": "John Doe",  "admin": true}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„ï¼ŒJWT é»˜è®¤æ˜¯ä¸åŠ å¯†çš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥è¯»åˆ°ï¼Œæ‰€ä»¥ä¸è¦æŠŠç§˜å¯†ä¿¡æ¯æ”¾åœ¨è¿™ä¸ªéƒ¨åˆ†ã€‚</p><p>è¿™ä¸ª JSON å¯¹è±¡ä¹Ÿè¦ä½¿ç”¨ Base64URL ç®—æ³•è½¬æˆå­—ç¬¦ä¸²ã€‚</p><p>3.3 Signature<br>Signature éƒ¨åˆ†æ˜¯å¯¹å‰ä¸¤éƒ¨åˆ†çš„ç­¾åï¼Œé˜²æ­¢æ•°æ®ç¯¡æ”¹ã€‚</p><p>é¦–å…ˆï¼Œéœ€è¦æŒ‡å®šä¸€ä¸ªå¯†é’¥ï¼ˆsecretï¼‰ã€‚è¿™ä¸ªå¯†é’¥åªæœ‰æœåŠ¡å™¨æ‰çŸ¥é“ï¼Œä¸èƒ½æ³„éœ²ç»™ç”¨æˆ·ã€‚ç„¶åï¼Œä½¿ç”¨ Header é‡Œé¢æŒ‡å®šçš„ç­¾åç®—æ³•ï¼ˆé»˜è®¤æ˜¯ HMAC SHA256ï¼‰ï¼ŒæŒ‰ç…§ä¸‹é¢çš„å…¬å¼äº§ç”Ÿç­¾åã€‚</p><pre class="line-numbers language-none"><code class="language-none">HMACSHA256(  base64UrlEncode(header) + "." +  base64UrlEncode(payload),  secret)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç®—å‡ºç­¾åä»¥åï¼ŒæŠŠ Headerã€Payloadã€Signature ä¸‰ä¸ªéƒ¨åˆ†æ‹¼æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªéƒ¨åˆ†ä¹‹é—´ç”¨â€ç‚¹â€ï¼ˆ.ï¼‰åˆ†éš”ï¼Œå°±å¯ä»¥è¿”å›ç»™ç”¨æˆ·ã€‚</p><p>3.4 Base64URL<br>å‰é¢æåˆ°ï¼ŒHeader å’Œ Payload ä¸²å‹åŒ–çš„ç®—æ³•æ˜¯ Base64URLã€‚è¿™ä¸ªç®—æ³•è·Ÿ Base64 ç®—æ³•åŸºæœ¬ç±»ä¼¼ï¼Œä½†æœ‰ä¸€äº›å°çš„ä¸åŒã€‚</p><p>JWT ä½œä¸ºä¸€ä¸ªä»¤ç‰Œï¼ˆtokenï¼‰ï¼Œæœ‰äº›åœºåˆå¯èƒ½ä¼šæ”¾åˆ° URLï¼ˆæ¯”å¦‚ api.example.com/?token=xxxï¼‰ã€‚Base64 æœ‰ä¸‰ä¸ªå­—ç¬¦+ã€/å’Œ=ï¼Œåœ¨ URL é‡Œé¢æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œæ‰€ä»¥è¦è¢«æ›¿æ¢æ‰ï¼š=è¢«çœç•¥ã€+æ›¿æ¢æˆ-ï¼Œ/æ›¿æ¢æˆ_ ã€‚è¿™å°±æ˜¯ Base64URL ç®—æ³•ã€‚</p><p>å››ã€JWT çš„ä½¿ç”¨æ–¹å¼<br>å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„ JWTï¼Œå¯ä»¥å‚¨å­˜åœ¨ Cookie é‡Œé¢ï¼Œä¹Ÿå¯ä»¥å‚¨å­˜åœ¨ localStorageã€‚</p><p>æ­¤åï¼Œå®¢æˆ·ç«¯æ¯æ¬¡ä¸æœåŠ¡å™¨é€šä¿¡ï¼Œéƒ½è¦å¸¦ä¸Šè¿™ä¸ª JWTã€‚ä½ å¯ä»¥æŠŠå®ƒæ”¾åœ¨ Cookie é‡Œé¢è‡ªåŠ¨å‘é€ï¼Œä½†æ˜¯è¿™æ ·ä¸èƒ½è·¨åŸŸï¼Œæ‰€ä»¥æ›´å¥½çš„åšæ³•æ˜¯æ”¾åœ¨ HTTP è¯·æ±‚çš„å¤´ä¿¡æ¯Authorizationå­—æ®µé‡Œé¢ã€‚</p><p><code>Authorization: Bearer &lt;token&gt;</code></p><p>å¦ä¸€ç§åšæ³•æ˜¯ï¼Œè·¨åŸŸçš„æ—¶å€™ï¼ŒJWT å°±æ”¾åœ¨ POST è¯·æ±‚çš„æ•°æ®ä½“é‡Œé¢ã€‚</p><p>äº”ã€JWT çš„å‡ ä¸ªç‰¹ç‚¹<br>ï¼ˆ1ï¼‰JWT é»˜è®¤æ˜¯ä¸åŠ å¯†ï¼Œä½†ä¹Ÿæ˜¯å¯ä»¥åŠ å¯†çš„ã€‚ç”ŸæˆåŸå§‹ Token ä»¥åï¼Œå¯ä»¥ç”¨å¯†é’¥å†åŠ å¯†ä¸€æ¬¡ã€‚</p><p>ï¼ˆ2ï¼‰JWT ä¸åŠ å¯†çš„æƒ…å†µä¸‹ï¼Œä¸èƒ½å°†ç§˜å¯†æ•°æ®å†™å…¥ JWTã€‚</p><p>ï¼ˆ3ï¼‰JWT ä¸ä»…å¯ä»¥ç”¨äºè®¤è¯ï¼Œä¹Ÿå¯ä»¥ç”¨äºäº¤æ¢ä¿¡æ¯ã€‚æœ‰æ•ˆä½¿ç”¨ JWTï¼Œå¯ä»¥é™ä½æœåŠ¡å™¨æŸ¥è¯¢æ•°æ®åº“çš„æ¬¡æ•°ã€‚</p><p>ï¼ˆ4ï¼‰JWT çš„æœ€å¤§ç¼ºç‚¹æ˜¯ï¼Œç”±äºæœåŠ¡å™¨ä¸ä¿å­˜ session çŠ¶æ€ï¼Œå› æ­¤æ— æ³•åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­åºŸæ­¢æŸä¸ª tokenï¼Œæˆ–è€…æ›´æ”¹ token çš„æƒé™ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦ JWT ç­¾å‘äº†ï¼Œåœ¨åˆ°æœŸä¹‹å‰å°±ä¼šå§‹ç»ˆæœ‰æ•ˆï¼Œé™¤éæœåŠ¡å™¨éƒ¨ç½²é¢å¤–çš„é€»è¾‘ã€‚</p><p>ï¼ˆ5ï¼‰JWT æœ¬èº«åŒ…å«äº†è®¤è¯ä¿¡æ¯ï¼Œä¸€æ—¦æ³„éœ²ï¼Œä»»ä½•äººéƒ½å¯ä»¥è·å¾—è¯¥ä»¤ç‰Œçš„æ‰€æœ‰æƒé™ã€‚ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWT çš„æœ‰æ•ˆæœŸåº”è¯¥è®¾ç½®å¾—æ¯”è¾ƒçŸ­ã€‚å¯¹äºä¸€äº›æ¯”è¾ƒé‡è¦çš„æƒé™ï¼Œä½¿ç”¨æ—¶åº”è¯¥å†æ¬¡å¯¹ç”¨æˆ·è¿›è¡Œè®¤è¯ã€‚</p><p>ï¼ˆ6ï¼‰ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWT ä¸åº”è¯¥ä½¿ç”¨ HTTP åè®®æ˜ç ä¼ è¾“ï¼Œè¦ä½¿ç”¨ HTTPS åè®®ä¼ è¾“ã€‚</p><p>å…­ã€å‚è€ƒé“¾æ¥<br><a href="https://jwt.io/introduction/">Introduction to JSON Web Tokens</a>ï¼Œby Auth0<br><a href="https://medium.com/@bryanmanuele/sessionless-authentication-withe-jwts-with-node-express-passport-js-69b059e4b22c">Sessionless Authentication using JWTs (with Node + Express + Passport JS)</a>, by Bryan Manuele<br><a href="https://github.com/dwyl/learn-json-web-tokens/blob/master/README.md">Learn how to use JSON Web Tokens</a>, by dwyl</p>]]></content>
      
      
      <categories>
          
          <category> è½¬è½½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ–‡ç«  </tag>
            
            <tag> è½¬è½½ </tag>
            
            <tag> JWT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ¶æ„ï¼Ÿ</title>
      <link href="/hypo-Z.github.io/2021/12/03/18-shi-me-shi-wei-fu-wu-jia-gou/"/>
      <url>/hypo-Z.github.io/2021/12/03/18-shi-me-shi-wei-fu-wu-jia-gou/</url>
      
        <content type="html"><![CDATA[<h1 id="å†…å®¹"><a href="#å†…å®¹" class="headerlink" title="å†…å®¹"></a>å†…å®¹</h1><p>ä»€ä¹ˆæ˜¯è½¯ä»¶æ¶æ„ï¼Ÿ<br>è½¯ä»¶æ¶æ„çš„é‡è¦æ€§<br>ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ¶æ„ï¼Ÿ<br>å¾®æœåŠ¡æ¶æ„çš„ä¼˜ç¼ºç‚¹<br>å…¶ä»–çªå‡ºçš„è½¯ä»¶æ¶æ„æ¨¡å¼<br>æ„å»ºå¾®æœåŠ¡æ¶æ„çš„æœ€ä½³å®è·µ<br>è®¡åˆ’æ„å»ºå¾®æœåŠ¡æ¶æ„ï¼Ÿ</p><h2 id="ä»€ä¹ˆæ˜¯è½¯ä»¶æ¶æ„ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯è½¯ä»¶æ¶æ„ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯è½¯ä»¶æ¶æ„ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯è½¯ä»¶æ¶æ„ï¼Ÿ</h2><p><img src="https://www.devteam.space/wp-content/uploads/2019/01/What-is-software-architecture.jpg"><br>è½¯ä»¶æ¶æ„æ¨¡å¼çš„æ¨¡å¼</p><p>è½¯ä»¶æ¶æ„æœ¬è´¨ä¸Šæ˜¯ä»»ä½•ç»™å®šè½¯ä»¶ç³»ç»Ÿçš„ç»“æ„ã€‚å®ƒç”¨äºæä¾›æ•´ä¸ªç³»ç»Ÿçš„å›¾å½¢è¡¨ç¤ºï¼Œæœ‰åŠ©äºå¼€å‘äººå‘˜ã€‚</p><p>é€šå¸¸æœ‰å¤šä¸ªç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶éƒ½è§£å†³ä¸€ä¸ªæˆ–å¤šä¸ªåŠŸèƒ½ã€‚</p><p>ä¸Šé¢çš„è½¯ä»¶æ¶æ„å›¾ç¤ºä¾‹æ˜¾ç¤ºäº†è¿™äº›ç»„ä»¶å¦‚ä½•ç›¸äº’äº¤äº’ã€‚åœ¨â€œè½¯ä»¶æ¶æ„â€ä¸­é˜…è¯»æ›´å¤šç›¸å…³ä¿¡æ¯ã€‚è¯·è®°ä½ï¼Œä¸Šå›¾åªæ˜¯ä¸€ä¸ªåŸºæœ¬ç¤ºä¾‹ã€‚</p><p>æˆ‘ä»¬ç§°ä¹‹ä¸ºè½¯ä»¶æ¶æ„çš„ç¤ºæ„å›¾åªæ˜¯ä¸€ç§è§†è§‰è¡¨ç¤ºã€‚æ¯ä¸ªç³»ç»Ÿå›¾éƒ½æ˜¾ç¤ºäº†è½¯ä»¶æ¶æ„å¸ˆå†³å®šçš„ä¸€ç³»åˆ—è®¾è®¡åŸåˆ™ï¼Œä»¥ç¡®ä¿æœ€ä½³çš„æ•´ä½“ç³»ç»ŸåŠŸèƒ½ã€‚åšå‡ºæ¶æ„å†³ç­–æ˜¯ä¸ºäº†ç¡®ä¿æœ€ä½³çš„å®‰å…¨æ€§ã€æ€§èƒ½ã€å¯ç®¡ç†æ€§ç­‰ã€‚</p><p>è¿™äº›è®¾è®¡åŸåˆ™ã€æ¶æ„å†³ç­–å’Œç¤ºæ„å›¾éƒ½æ˜¯è½¯ä»¶æ¶æ„çš„ç»„æˆéƒ¨åˆ†ã€‚å®ƒä»¬å…±åŒä½¿ç³»ç»Ÿèƒ½å¤Ÿæ»¡è¶³å…¶ä¸šåŠ¡ã€è¿è¥å’ŒæŠ€æœ¯ç›®æ ‡ã€‚åœ¨æ­¤ Techopedia è½¯ä»¶æ¶æ„å®šä¹‰ä¸­é˜…è¯»æ›´å¤šå†…å®¹ã€‚</p><h2 id="è½¯ä»¶æ¶æ„çš„é‡è¦æ€§"><a href="#è½¯ä»¶æ¶æ„çš„é‡è¦æ€§" class="headerlink" title="è½¯ä»¶æ¶æ„çš„é‡è¦æ€§"></a>è½¯ä»¶æ¶æ„çš„é‡è¦æ€§</h2><p>è½¯ä»¶æ¶æ„å¯¹äºäº§å“çš„æˆåŠŸæå…¶é‡è¦ã€‚æœ‰å‡ ä¸ªåŸå› ã€‚</p><h3 id="ç¬¬ä¸€ç»„å†³å®š"><a href="#ç¬¬ä¸€ç»„å†³å®š" class="headerlink" title="ç¬¬ä¸€ç»„å†³å®š"></a>ç¬¬ä¸€ç»„å†³å®š</h3><p>åœ¨â€œè½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸâ€ï¼ˆSDLCï¼‰æœŸé—´ï¼Œå¼€å‘å›¢é˜Ÿåœ¨è½¯ä»¶æ¶æ„çš„åˆ›å»ºè¿‡ç¨‹ä¸­åšå‡ºä¸ç³»ç»Ÿç›¸å…³çš„å…³é”®å†³ç­–ã€‚åœ¨æ­¤è¿‡ç¨‹ä¹‹å‰ï¼Œå°†ä»…æ¦‚è¿°ä¸šåŠ¡éœ€æ±‚ã€‚</p><p>å¦‚æ‚¨æ‰€çŸ¥ï¼Œç¡®ä¿ç¬¬ä¸€ç»„å†³ç­–æ­£ç¡®æ— è¯¯ï¼Œå°†ä½¿æ‚¨çš„é¡¹ç›®å¤„äºæœ€ä½³çŠ¶æ€ä»¥é¡ºåˆ©è¿è¡Œã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœè¿™äº›å†³å®šä¸æ­£ç¡®ï¼Œæ‚¨çš„é¡¹ç›®å‡ ä¹è‚¯å®šä¼šé‡åˆ°ä¸¥é‡çš„é—®é¢˜ã€‚åœ¨â€œè‰¯å¥½è½¯ä»¶æ¶æ„çš„é‡è¦æ€§â€ä¸­é˜…è¯»æ›´å¤šç›¸å…³ä¿¡æ¯ã€‚</p><h3 id="è§†è§‰å‘ˆç°çš„äº¤æµå·¥å…·"><a href="#è§†è§‰å‘ˆç°çš„äº¤æµå·¥å…·" class="headerlink" title="è§†è§‰å‘ˆç°çš„äº¤æµå·¥å…·"></a>è§†è§‰å‘ˆç°çš„äº¤æµå·¥å…·</h3><p>è½¯ä»¶æ¶æ„æ˜¯ä¸€ç§å·¥å…·ï¼Œé€šè¿‡æä¾›ç¤ºæ„æ€§è¡¨ç¤ºæ¥å¸®åŠ©æ²Ÿé€šï¼Œè¿™äº›è¡¨ç¤ºæ˜¾ç¤ºä¸æ”¹è¿›æ ¸å¿ƒåŠŸèƒ½ç›¸å…³çš„åº•å±‚å†³ç­–ã€‚åšå¯¹äº†ï¼Œæ‚¨çš„æ‰€æœ‰é¡¹ç›®åˆ©ç›Šç›¸å…³è€…ä»¥åŠæ‚¨çš„å¼€å‘å›¢é˜Ÿå°†å‡†ç¡®äº†è§£æ‚¨çš„äº§å“å°†å¦‚ä½•è¿ä½œã€‚</p><h3 id="å¯é‡ç”¨æ€§"><a href="#å¯é‡ç”¨æ€§" class="headerlink" title="å¯é‡ç”¨æ€§"></a>å¯é‡ç”¨æ€§</h3><p>è½¯ä»¶æ¶æ„æœ‰åŠ©äºæŒç»­å¼€å‘ï¼Œç‰¹åˆ«æ˜¯å¯¹äºæœªæ¥çš„é¡¹ç›®ã€‚ç”±äºæ‚¨å·²ç»åˆ¶å®šå’Œå®æ–½äº†ä¸€æ¬¡æ¶æ„å†³ç­–ï¼Œå¹¶æ‹¥æœ‰ç¤ºæ„å›¾ï¼Œå› æ­¤å¯ä»¥åœ¨æœªæ¥çš„é¡¹ç›®ä¸­é‡å¤ä½¿ç”¨æˆ–æ‰©å±•è¿™äº›å†³ç­–ã€‚</p><p>è¿™æ„å‘³ç€æ‚¨å¯ä»¥ä¸ºæ–°äº§å“é‡ç”¨å¤§éƒ¨åˆ†æ ¸å¿ƒç»“æ„ï¼Œå› ä¸ºåªæœ‰å¼€å‘å·¥å…·ã€ç¼–ç¨‹è¯­è¨€ç­‰ä¼šæœ‰æ‰€ä¸åŒã€‚æ²¡æœ‰è‰¯å¥½çš„è½¯ä»¶æ¶æ„ï¼Œé¡¹ç›®æˆ–äº§å“å¯èƒ½ä¼šå¤±è´¥ã€‚åœ¨æ­¤ Quora é—®ç­”ä¸»é¢˜ä¸­é˜…è¯»æ›´å¤šç›¸å…³ä¿¡æ¯ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ¶æ„ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ¶æ„ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ¶æ„ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ¶æ„ï¼Ÿ</h2><p><img src="https://www.devteam.space/wp-content/uploads/2019/01/What-is-the-microservices-architecture.jpg"><br>å•ä½“æ¶æ„å’Œå¾®æœåŠ¡æ¶æ„å·®å¼‚çš„ç¤ºæ„å›¾</p><p>å¾®æœåŠ¡æ¶æ„æ¨¡å¼å¸®åŠ©å¼€å‘äººå‘˜åˆ›å»ºå¤šä¸ªè¾ƒå°çš„ç¨‹åºï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå¤§ç¨‹åºã€‚ä¸€ä¸ªå¤§ç¨‹åºé€šå¸¸å¾ˆéš¾ç»´æŠ¤ï¼Œæ­¤å¤–ï¼Œæ·»åŠ æ–°åŠŸèƒ½ä¹Ÿå¾ˆå›°éš¾ã€‚ä½¿ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œç¨‹åºå‘˜ä¸ºæ¯ä¸ªåŠŸèƒ½åˆ›å»ºä¸€ä¸ªå°ç¨‹åºã€‚æ·»åŠ æ–°åŠŸèƒ½åªéœ€è¦åˆ›å»ºå¦ä¸€ä¸ªå°ç¨‹åºã€‚</p><p>è§†é¢‘ç‚¹æ’­å¹³å° Netflix æ˜¯è¿™ç§æ¶æ„æ¨¡å¼çš„ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ã€‚æ­£å¦‚æ‚¨æ‰€æ–™ï¼ŒNetflixâ€œç”¨æˆ·ç•Œé¢â€(UI) ä¸­çš„æ¯ä¸ªéƒ¨åˆ†éƒ½æ˜¯ä¸åŒçš„æœåŠ¡ã€‚å®é™…ä¸Šï¼ŒUI å°±åƒæ˜¯ä¸åŒç½‘ç«™çš„é›†åˆï¼Œå°½ç®¡å®ƒçœ‹èµ·æ¥åªæ˜¯ä¸€ä¸ªã€‚é˜…è¯»â€œå¾®æœåŠ¡æ¶æ„ï¼ˆç¤ºä¾‹å’Œå›¾è¡¨ï¼‰ â€äº†è§£æ›´å¤šè¯¦æƒ…ã€‚</p><h2 id="å¾®æœåŠ¡æ¶æ„çš„ä¼˜ç¼ºç‚¹"><a href="#å¾®æœåŠ¡æ¶æ„çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="å¾®æœåŠ¡æ¶æ„çš„ä¼˜ç¼ºç‚¹"></a>å¾®æœåŠ¡æ¶æ„çš„ä¼˜ç¼ºç‚¹</h2><h4 id="è¿™ç§æ¨¡å¼æœ‰å¾ˆå¤šä¼˜ç‚¹ï¼š"><a href="#è¿™ç§æ¨¡å¼æœ‰å¾ˆå¤šä¼˜ç‚¹ï¼š" class="headerlink" title="è¿™ç§æ¨¡å¼æœ‰å¾ˆå¤šä¼˜ç‚¹ï¼š"></a>è¿™ç§æ¨¡å¼æœ‰å¾ˆå¤šä¼˜ç‚¹ï¼š</h4><p>å½“ä¼ä¸šæä¾›å½¼æ­¤æ˜æ˜¾åˆ†ç¦»çš„åŠŸèƒ½æ—¶ï¼Œè¿™ç§æ¶æ„æ¨¡å¼å¯ä»¥ä½¿ä»–ä»¬çš„åº”ç”¨ç¨‹åºå…·æœ‰é«˜åº¦å¯æ‰©å±•æ€§ã€‚<br>ä¸ªåˆ«æœåŠ¡å¯èƒ½æœ‰ä¸åŒçš„éœ€æ±‚æ¦‚å†µï¼Œå› æ­¤ï¼Œä¼ä¸šå°†ä¸ºè¿™äº›ä¸ªåˆ«æœåŠ¡å®æ–½æ‰©å±•ç­–ç•¥ã€‚è¿™æœ‰åŠ©äºä¼˜åŒ–å’Œç¡®å®šèµ„æºçš„ä¼˜å…ˆçº§ã€‚<br>å¦‚æœæ‚¨ä½¿ç”¨è¿™ç§æ¶æ„æ¨¡å¼ï¼Œæ‚¨ä¼šå‘ç°é˜…è¯»å’Œç†è§£æ‚¨çš„ä»£ç åº“ä¼šå®¹æ˜“å¾—å¤šã€‚<br>ç»´æŠ¤åº”ç”¨ç¨‹åºæ›´å®¹æ˜“ã€‚<br>å•ä¸ªå¾®æœåŠ¡å¯ä»¥å•ç‹¬éƒ¨ç½²ã€‚æ‚¨åªéƒ¨ç½²å·²æ›´æ”¹çš„å¾®æœåŠ¡ï¼Œè€Œä¸æ˜¯æ•´ä¸ªåº”ç”¨ç¨‹åºã€‚è¿™å‡å°‘äº†åœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­èŠ±è´¹çš„æ—¶é—´å’Œç²¾åŠ›ã€‚<br>æ‚¨å‘ç°è°ƒè¯•åº”ç”¨ç¨‹åºæ›´å®¹æ˜“ï¼Œå› ä¸ºæ‚¨æ— éœ€æŸ¥çœ‹å¤§å‹åº”ç”¨ç¨‹åºçš„å¤šä¸ªå±‚ã€‚<br>å¾®æœåŠ¡æ¶æ„æ¨¡å¼å¯ä»¥æ›´è½»æ¾åœ°éš”ç¦»æ•…éšœã€‚<br>å¦‚æœæ‚¨ä½¿ç”¨å¾®æœåŠ¡æ¶æ„æ¨¡å¼ï¼Œæ‚¨å¯ä»¥æ„å»ºæ›´å…·å¼¹æ€§çš„æœåŠ¡ï¼Œè¿™ä¼šæé«˜æ‚¨çš„åº”ç”¨ç¨‹åºçš„å®¹é”™èƒ½åŠ›ã€‚<br>å¦‚æœæ‚¨ä½¿ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œåˆ™å¯ä»¥æé«˜å¯é‡ç”¨æ€§ã€‚åœ¨æ­¤æ¨¡å¼ä¸­ï¼Œæ‚¨å¯ä»¥å›´ç»•ä¸šåŠ¡åŠŸèƒ½æ„å»ºå’Œç»„ç»‡å¾®æœåŠ¡ã€‚å½“ä¸å…¶ä»–ä¸šåŠ¡åŠŸèƒ½å­˜åœ¨å…±æ€§æ—¶ï¼Œæ‚¨å¯ä»¥ä»¥æœ€å°‘çš„æ›´æ”¹é‡ç”¨æ‚¨ä¹‹å‰å¼€å‘çš„å¾®æœåŠ¡ã€‚è¿™ç§é‡ç”¨æœ‰åŠ©äºé™ä½æ‚¨çš„å¼€å‘æˆæœ¬ã€‚<br>åœ¨â€œä»€ä¹ˆæ˜¯å¾®æœåŠ¡ï¼Ÿâ€ã€‚</p><h4 id="ä¹Ÿæœ‰ç¼ºç‚¹ï¼š"><a href="#ä¹Ÿæœ‰ç¼ºç‚¹ï¼š" class="headerlink" title="ä¹Ÿæœ‰ç¼ºç‚¹ï¼š"></a>ä¹Ÿæœ‰ç¼ºç‚¹ï¼š</h4><p>å¦‚æœæˆ‘ä»¬ä¸èƒ½æ¸…æ¥šåœ°å°†æœåŠ¡å½¼æ­¤åˆ†å¼€ï¼Œè¿™ç§æ¨¡å¼ä¼šå¢åŠ å¤æ‚æ€§ã€‚<br>å¦‚æœå¤šä¸ªæœåŠ¡ä½¿ç”¨ç›¸åŒçš„ä»»åŠ¡ï¼Œåˆ™æ­¤æ¨¡å¼ä¼šå¯¹æ€§èƒ½äº§ç”Ÿä¸åˆ©å½±å“ã€‚<br>å¦‚æœç”±äºç½‘ç«™ä¸åŒéƒ¨åˆ†çš„é¡µé¢é€Ÿåº¦ä¸åŒï¼Œå¾®æœåŠ¡è¿‡å¤šï¼Œç”¨æˆ·å¯èƒ½ä¼šå‘ç° UI æ··ä¹±ã€‚å¦‚æœæ‚¨ä½¿ç”¨å¤ªå¤šä¸åŒçš„ç¼–ç¨‹è¯­è¨€æ¥å¼€å‘ä¸åŒçš„å¾®æœåŠ¡ï¼Œé‚£ä¹ˆæ‚¨çš„åº”ç”¨ç¨‹åºå°†æ›´åŠ éš¾ä»¥ç»´æŠ¤ã€‚<br>å¦‚æœæ‚¨ä½¿ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œé›†æˆæµ‹è¯•å¯èƒ½ä¼šå¾ˆå›°éš¾ã€‚å¦‚æœæ‚¨çš„ç»„ä»¶ä½äºå…¶ä»–ç³»ç»Ÿ/ç¯å¢ƒä¸­ï¼Œé‚£ä¹ˆæ‚¨ä¼šå‘ç°å¾ˆéš¾è®¾ç½®ç«¯åˆ°ç«¯çš„é›†æˆæµ‹è¯•ç¯å¢ƒã€‚<br>æ‚¨éœ€è¦ä»”ç»†å®šä¹‰å¾®æœåŠ¡ä¸å…¶ä»–æœåŠ¡äº¤äº’çš„æ¥å£ã€‚å¦‚æœæ‚¨æœ‰å¤ªå¤šç”±ä¸åŒå›¢é˜Ÿå¼€å‘çš„å¾®æœåŠ¡ï¼Œé‚£ä¹ˆå®šä¹‰æ­¤ç±»æ¥å£å¯èƒ½ä¼šå¾ˆå›°éš¾ã€‚ä¸åŒçš„å¾®æœåŠ¡å°†ç›¸äº’ä¾èµ–è¾“å…¥ã€‚ä¸åŒçš„å¼€å‘å›¢é˜Ÿéœ€è¦æ¸…æ¥šåœ°äº†è§£å…¶ä»–å¾®æœåŠ¡å¯èƒ½ä½¿ç”¨çš„æ¥å£ï¼Œå› æ­¤ï¼Œæ²Ÿé€šæ˜¯å…³é”®ã€‚<br>å¾®æœåŠ¡æ¶æ„å®ç°çš„ä¸€ä¸ªçªå‡ºä¾‹å­<br>æƒ³çœ‹çœ‹å¾®æœåŠ¡æ¶æ„åœ¨èµ·ä½œç”¨å—ï¼Ÿå¥½å§ï¼ŒNetflix å°±æ˜¯æ‚¨çš„æœ€ä½³é€‰æ‹©ï¼è¿™å®¶æµè¡Œçš„æµåª’ä½“æœåŠ¡æä¾›å•†å……åˆ†åˆ©ç”¨äº†è¿™ç§æ¶æ„æ¨¡å¼ã€‚</p><p>Netflix ä»åœ¨ç»å†é«˜é€Ÿå¢é•¿ï¼Œç„¶è€Œï¼Œè¯¥å…¬å¸æœ€åˆéš¾ä»¥è·Ÿä¸Šå®ƒçš„æ­¥ä¼ã€‚å®ƒæœ‰ä¸€ä¸ªå•ä½“æ¶æ„ï¼Œå®ƒçš„æ•°æ®ä¸­å¿ƒä¸æ­¤ä¿æŒä¸€è‡´ã€‚Netflix æ— æ³•ä»¥è¶³å¤Ÿå¿«çš„é€Ÿåº¦å»ºç«‹è¶³å¤Ÿæ•°é‡çš„æ•°æ®ä¸­å¿ƒæ¥è·Ÿä¸Šå…¶ä»¤äººå°è±¡æ·±åˆ»çš„å¢é•¿ã€‚</p><p>åŒå¹´ï¼Œä¸€ä¸ªæ¨¡å—ä»£ç ä¸­ç¼ºå°‘ä¸€ä¸ªåˆ†å·å¯¼è‡´ Netflix ç½‘ç«™ç˜«ç—ªã€‚è¯¥ç½‘ç«™å…³é—­äº†å‡ ä¸ªå°æ—¶ï¼Œéœ€è¦ä¸€ä¸ªå¤§å‹å·¥ç¨‹å›¢é˜Ÿçš„å…±åŒåŠªåŠ›æ‰èƒ½æ¢å¤ã€‚å½“ Netflix ä¸å¾—ä¸è¿›è¡Œæ•…éšœæ’é™¤æ—¶ï¼Œå®ƒæ€»æ˜¯ä¸å¾—ä¸è˜è¯·ä¸€ä¸ªç”±å¤šä¸ªé¢†åŸŸç»„æˆçš„å¤§å‹å·¥ç¨‹å›¢é˜Ÿã€‚å—¯ï¼Œè¿™å°±æ˜¯ä½¿ç”¨å•ä½“æ¶æ„çš„å·¨å¤§åº”ç”¨ç¨‹åºçš„ç¼ºç‚¹ï¼</p><p>Netflix äº 2009 å¹´å¼€å§‹è½¬å‘ AWS äº‘å¾®æœåŠ¡æ¶æ„ï¼Œå½“æ—¶å¾®æœåŠ¡æ¶æ„æ¨¡å¼å¹¶ä¸æµè¡Œï¼Œç”šè‡³è¿â€œå¾®æœåŠ¡â€è¿™ä¸ªè¯éƒ½æ²¡æœ‰ä½¿ç”¨ã€‚</p><p>è¯¥å…¬å¸äº 2009 å¹´é¦–æ¬¡è¿ç§»äº†ä¸€æ¬¾éé¢å‘å®¢æˆ·çš„åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”è¿›å±•é¡ºåˆ©ã€‚éšåï¼ŒNetflix å°†å…¶ç½‘ç«™çš„å‡ ä¸ªé¢å‘å®¢æˆ·çš„åŠŸèƒ½è½¬ç§»åˆ°äº† AWS äº‘å¾®æœåŠ¡æ¶æ„ä¸­ã€‚åˆ° 2011 å¹´ 12 æœˆï¼ŒNetflix å®Œæˆäº†æ¬è¿ã€‚</p><p>å°±æœ¬æœˆçš„æƒ…å†µè€Œè¨€ï¼ŒNetflix å¾®æœåŠ¡æ¶æ„ä¸­çš„ API ç½‘å…³æ¯å¤©å¤„ç† 20 äº¿æ¬¡ API è°ƒç”¨ï¼æ‚¨å¯ä»¥é˜…è¯»â€œä¸ºä»€ä¹ˆä¸æåŠ Netflix å°±ä¸èƒ½è°ˆè®ºå¾®æœåŠ¡â€ä»¥äº†è§£æœ‰å…³æ­¤è½¬å˜çš„æ›´å¤šä¿¡æ¯ã€‚</p><p>å…¶ä»–çªå‡ºçš„è½¯ä»¶æ¶æ„æ¨¡å¼<br>å½“æˆ‘ä»¬å›é¡¾å…¶ä»–è½¯ä»¶æ¶æ„æ¨¡å¼çš„ç‰¹å¾æ—¶ï¼Œå¾®æœåŠ¡æ¶æ„çš„é‡è¦æ€§å˜å¾—æ›´åŠ æ¸…æ™°ã€‚</p><p>å¾®æœåŠ¡æ¶æ„è¿˜æœ‰å…¶ä»–å››ç§å…³é”®æ¨¡å¼ï¼š</p><h4 id="åˆ†å±‚æ¶æ„"><a href="#åˆ†å±‚æ¶æ„" class="headerlink" title="åˆ†å±‚æ¶æ„"></a>åˆ†å±‚æ¶æ„</h4><p>è¿™æ˜¯æœ€å¸¸è§çš„è½¯ä»¶æ¶æ„æ¨¡å¼ã€‚å¤§å¤šæ•°ä¸šåŠ¡åº”ç”¨ç¨‹åºå°†ä¿¡æ¯å­˜å‚¨åœ¨æ•°æ®åº“è¡¨ä¸­ã€‚è¿™ç§æ¨¡å¼åœ¨å±‚ä¸­æœ‰ä»£ç ã€‚æœ€é¡¶å±‚æ¥å—æ•°æ®ã€‚ç„¶åæ•°æ®å¯¼èˆªåˆ°æœ€åº•éƒ¨çš„å±‚ï¼Œå³æ•°æ®åº“ã€‚</p><p>å¤§å¤šæ•°å…³é”®æ¡†æ¶ï¼ˆå¦‚ Java EEï¼‰éƒ½ä½¿ç”¨è¿™ç§æ¨¡å¼ã€‚åˆ†å±‚æ¶æ„æä¾›äº†ä¸€äº›ä¼˜åŠ¿ï¼Œä¾‹å¦‚ï¼Œåº”ç”¨ç¨‹åºæ˜“äºç»´æŠ¤ï¼Œæµ‹è¯•æ›´å®¹æ˜“ã€‚åœ¨â€œå¤§å‹ä¼ä¸š Java é¡¹ç›®æ¶æ„â€ä¸­é˜…è¯»æ›´å¤šç›¸å…³ä¿¡æ¯ã€‚</p><p>ç¼ºç‚¹æ˜¯ä»£ç é‡å¤§ä¸”æ— ç»„ç»‡ï¼Œå…¶ä¸­å¤§éƒ¨åˆ†åªåœ¨å±‚ä¹‹é—´ä¼ é€’æ•°æ®ï¼Œä¸æ‰§è¡Œä»»ä½•ä¸šåŠ¡é€»è¾‘ã€‚è¿™ä¼šå½±å“äº§å“çš„æ€§èƒ½ã€‚</p><h4 id="äº‹ä»¶é©±åŠ¨æ¶æ„"><a href="#äº‹ä»¶é©±åŠ¨æ¶æ„" class="headerlink" title="äº‹ä»¶é©±åŠ¨æ¶æ„"></a>äº‹ä»¶é©±åŠ¨æ¶æ„</h4><p>è®¸å¤šç”¨ä¾‹æ¶‰åŠä»…åœ¨æœ‰æ•°æ®è¦å¤„ç†æ—¶æ‰æ‰§è¡Œçš„ç¨‹åºã€‚åœ¨äº‹ä»¶é©±åŠ¨æ¶æ„çš„æƒ…å†µä¸‹ï¼Œä¸­å¤®å•å…ƒæ¥æ”¶æ‰€æœ‰æ•°æ®è¾“å…¥ã€‚ç‰¹å®šçš„æ•°æ®è¾“å…¥æ˜¯äº‹ä»¶ã€‚ç„¶åä¸­å¤®å•å…ƒå§”æ‰˜é€‚å½“çš„ç»„ä»¶å¤„ç†ç‰¹å®šç±»å‹çš„æ•°æ®ã€‚</p><p>å¹¶éæ‰€æœ‰æ¨¡å—éƒ½å¤„ç†æ‰€æœ‰æ•°æ®ã€‚è¿™ä½¿å¾—åº”ç”¨ç¨‹åºå…·æœ‰å¯æ‰©å±•æ€§ï¼Œæ­¤å¤–ï¼Œå¼€å‘äººå‘˜å¯ä»¥è½»æ¾æ‰©å±•ç³»ç»Ÿä»¥åº”å¯¹æ–°äº‹ä»¶ã€‚åœ¨â€œå‰ 5 ç§è½¯ä»¶æ¶æ„æ¨¡å¼ï¼šå¦‚ä½•åšå‡ºæ­£ç¡®é€‰æ‹©â€ä¸­é˜…è¯»æ›´å¤šç›¸å…³ä¿¡æ¯ã€‚</p><p>æœ‰ä¸€äº›ç¼ºç‚¹ã€‚å½“æ¨¡å—ç›¸äº’å½±å“æ—¶ï¼Œæµ‹è¯•å˜å¾—æ›´åŠ å›°éš¾ã€‚å¦‚æœå¤šä¸ªæ¨¡å—å¤„ç†åŒä¸€ä¸ªäº‹ä»¶ï¼Œå®ƒä¼šä½¿é”™è¯¯å¤„ç†å¤æ‚åŒ–ã€‚ç”±äºæ¶ˆæ¯ä¼ é€’å¼€é”€ï¼Œç³»ç»Ÿå¯èƒ½ä¼šå˜æ…¢ã€‚</p><h4 id="å¾®å†…æ ¸æ¶æ„"><a href="#å¾®å†…æ ¸æ¶æ„" class="headerlink" title="å¾®å†…æ ¸æ¶æ„"></a>å¾®å†…æ ¸æ¶æ„</h4><p>å¸¸ç”¨å·¥å…·æœ‰ä¸€ç»„ç”¨æˆ·é‡å¤æ‰§è¡Œçš„ä»»åŠ¡ã€‚è‘—åçš„â€œé›†æˆå¼€å‘ç¯å¢ƒâ€(IDE) Eclipse å°±æ˜¯ä¸€ä¸ªè¿™æ ·çš„ä¾‹å­ï¼Œå®ƒå…·æœ‰å¯é‡å¤çš„ä»»åŠ¡ï¼Œå¦‚æ‰“å¼€æ–‡ä»¶ã€ç¼–è¾‘æ–‡ä»¶ç­‰ã€‚</p><p>å¾®å†…æ ¸æ¶æ„ä½¿ç”¨å¾®å†…æ ¸æ¥åŒ…å«è¿™äº›åŸºæœ¬åŠŸèƒ½ã€‚æˆ‘ä»¬å¯ä»¥å°†å…¶ä¸Šçš„æ‰€æœ‰å…¶ä»–å†…å®¹è§†ä¸ºâ€œæ’ä»¶â€ã€‚è¿™ç§æ¨¡å¼éå¸¸é€‚åˆæµè¡Œçš„å·¥å…·ï¼Œå› ä¸ºå®ƒå¯ä»¥æé«˜æ€§èƒ½ã€‚ä½†æ˜¯ï¼Œå¾ˆéš¾å®šä¹‰å¸¸è§çš„ä»»åŠ¡ã€‚åœ¨â€œè½¯ä»¶æ¶æ„ï¼šæ‚¨éœ€è¦äº†è§£çš„ 5 ç§æ¨¡å¼â€ä¸­é˜…è¯»æ›´å¤šç›¸å…³ä¿¡æ¯ã€‚</p><h4 id="å¤©åŸºå»ºç­‘"><a href="#å¤©åŸºå»ºç­‘" class="headerlink" title="å¤©åŸºå»ºç­‘"></a>å¤©åŸºå»ºç­‘</h4><p>åŸºäºç©ºé—´çš„æ¶æ„çš„ç›®æ ‡ æ˜¯åœ¨é«˜è´Ÿè½½æ—¶ä¸º Web åº”ç”¨ç¨‹åºæä¾›å¥å£®æ€§å’Œç¨³å®šæ€§ã€‚å¤§å¤šæ•°ç½‘ç«™éƒ½æ˜¯å›´ç»•æ•°æ®åº“æ„å»ºçš„ï¼Œå› æ­¤ï¼Œå®ƒä»¬ä¾èµ–äºæ•°æ®åº“æ¥å¤„ç†è´Ÿè½½ã€‚</p><p>ä½¿ç”¨åŸºäºç©ºé—´çš„æ¶æ„ï¼Œè½¯ä»¶æ¶æ„å¸ˆå°†å¤„ç†å’Œå­˜å‚¨æ‹†åˆ†åˆ°å¤šä¸ªæœåŠ¡å™¨ä¸­ã€‚æ•°æ®å’ŒæœåŠ¡è°ƒç”¨åˆ†å¸ƒåœ¨èŠ‚ç‚¹ä¹‹é—´ã€‚è¿™æœ‰åŠ©äºé¿å…æ•°æ®åº“åœ¨é«˜è´Ÿè½½æƒ…å†µä¸‹å´©æºƒã€‚è¯·æ³¨æ„ï¼Œæµ‹è¯•æ•´ä¸ªç³»ç»Ÿå¯èƒ½å¾ˆå›°éš¾ï¼Œå› ä¸ºæ¨¡æ‹Ÿè´Ÿè½½æ¡ä»¶å¯èƒ½å¾ˆæ£˜æ‰‹ã€‚</p><h3 id="æ„å»ºå¾®æœåŠ¡æ¶æ„çš„æœ€ä½³å®è·µ"><a href="#æ„å»ºå¾®æœåŠ¡æ¶æ„çš„æœ€ä½³å®è·µ" class="headerlink" title="æ„å»ºå¾®æœåŠ¡æ¶æ„çš„æœ€ä½³å®è·µ"></a>æ„å»ºå¾®æœåŠ¡æ¶æ„çš„æœ€ä½³å®è·µ</h3><p>å¾®æœåŠ¡æ¶æ„å®ç°çš„æœ€ä½³å®è·µ<br>å¯»æ‰¾æœ€ä½³å¾®æœåŠ¡æ¶æ„<br>æ¦‚è¿°æ‚¨çš„å¾®æœåŠ¡<br>é¢†åŸŸé©±åŠ¨è®¾è®¡<br>è®©æ¯ä¸ªäººéƒ½åŠ å…¥<br>ä½¿ç”¨ RESTful API<br>ä¸ºç‰¹å®šçš„å¾®æœåŠ¡å»ºç«‹å›¢é˜Ÿ<br>è®¾ç½®æœåŠ¡å™¨å’Œæ•°æ®å­˜å‚¨ç¯å¢ƒ<br>æ–‡æ¡£ API<br>ä½¿ç”¨æœ€å¥½çš„ DevOps å·¥å…·åŒ…<br>ç›‘æ§æ˜¯å…³é”®</p><h4 id="æœ€ä½³å®è·µ-1ï¼šç¡®å®šå¾®æœåŠ¡æ¶æ„æ˜¯å¦ç¬¦åˆæ‚¨çš„è¦æ±‚"><a href="#æœ€ä½³å®è·µ-1ï¼šç¡®å®šå¾®æœåŠ¡æ¶æ„æ˜¯å¦ç¬¦åˆæ‚¨çš„è¦æ±‚" class="headerlink" title="æœ€ä½³å®è·µ #1ï¼šç¡®å®šå¾®æœåŠ¡æ¶æ„æ˜¯å¦ç¬¦åˆæ‚¨çš„è¦æ±‚"></a>æœ€ä½³å®è·µ #1ï¼šç¡®å®šå¾®æœåŠ¡æ¶æ„æ˜¯å¦ç¬¦åˆæ‚¨çš„è¦æ±‚</h4><p>Amazonã€Twitterã€eBay å’Œ PayPal æ˜¯æˆåŠŸå®æ–½å¾®æœåŠ¡æ¶æ„è®¾è®¡çš„ç»„ç»‡çš„ä¾‹å­ã€‚è¿™æ˜¯ä¸€ç§æµè¡Œçš„æ¨¡å¼ï¼Œç„¶è€Œï¼Œè¿™å¹¶ä¸æ„å‘³ç€å®ƒå¯¹ä½ æœ‰ç”¨ã€‚</p><p>å¦‚æœæ‚¨ä¸èƒ½å°†æ‚¨çš„ Web åº”ç”¨ç¨‹åºåˆ†è§£ä¸ºæä¾›ä»·å€¼çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆå¾®æœåŠ¡æ¶æ„å¯¹æ‚¨æ¥è¯´å°±æ²¡æœ‰æ„ä¹‰äº†ã€‚é˜…è¯»â€œæ¨¡å¼ï¼šæŒ‰ä¸šåŠ¡èƒ½åŠ›åˆ†è§£â€ä»¥è·å¾—æ›´å¤šè§è§£ã€‚</p><h4 id="æœ€ä½³å®è·µ-2ï¼šå®šä¹‰æ‚¨çš„å¾®æœåŠ¡"><a href="#æœ€ä½³å®è·µ-2ï¼šå®šä¹‰æ‚¨çš„å¾®æœåŠ¡" class="headerlink" title="æœ€ä½³å®è·µ#2ï¼šå®šä¹‰æ‚¨çš„å¾®æœåŠ¡"></a>æœ€ä½³å®è·µ#2ï¼šå®šä¹‰æ‚¨çš„å¾®æœåŠ¡</h4><p>æ‚¨éœ€è¦æ˜ç¡®åŒºåˆ†ä¸šåŠ¡åŠŸèƒ½ã€æœåŠ¡å’Œå¾®æœåŠ¡ã€‚å¦‚æœæ²¡æœ‰è¿™ä¸ªï¼Œæ‚¨å¯èƒ½ä¼šæ„å»ºè¿‡å¤§çš„å¾®æœåŠ¡ã€‚è¿™æ˜¯ä¸€ç§ä¸å®Œæ•´çš„å½¢å¼ï¼Œæ‚¨å°†çœ‹ä¸åˆ°ä½¿ç”¨å¾®æœåŠ¡æ–¹æ³•çš„ä»»ä½•å¥½å¤„ã€‚</p><p>å¦ä¸€æ–¹é¢æ˜¯åˆ›å»ºè¿‡å¤šå¾®æœåŠ¡çš„å¯èƒ½æ€§ã€‚è¿™å°†å¯¼è‡´æ‚¨çš„æ¶æ„è¿‡åº¦ç¢ç‰‡åŒ–ã€‚è¯·è®°ä½ï¼Œè¦ç®¡ç†å¾®æœåŠ¡æ¶æ„ï¼Œæ‚¨éœ€è¦ä¸€ä¸ªæˆç†Ÿçš„è¿è¥å›¢é˜Ÿã€‚åœ¨â€œå¾®æœåŠ¡æƒè¡¡â€ä¸­äº†è§£å®ƒã€‚</p><p>å¦‚æœå¾®æœåŠ¡å¤ªå¤šï¼Œè¿è¥ç®¡ç†æˆæœ¬ä¼šå¾ˆé«˜ã€‚æ‚¨å°†çœ‹åˆ°è¿è¥æˆæœ¬çš„æ¿€å¢æ©ç›–äº†æ‚¨ä»å¾®æœåŠ¡ä¸­è·å¾—çš„æ”¶ç›Šã€‚</p><h4 id="æœ€ä½³å®è·µ-3ï¼šä½¿ç”¨â€œé¢†åŸŸé©±åŠ¨è®¾è®¡â€ï¼ˆDDDï¼‰æ¥è®¾è®¡å¾®æœåŠ¡"><a href="#æœ€ä½³å®è·µ-3ï¼šä½¿ç”¨â€œé¢†åŸŸé©±åŠ¨è®¾è®¡â€ï¼ˆDDDï¼‰æ¥è®¾è®¡å¾®æœåŠ¡" class="headerlink" title="æœ€ä½³å®è·µ#3ï¼šä½¿ç”¨â€œé¢†åŸŸé©±åŠ¨è®¾è®¡â€ï¼ˆDDDï¼‰æ¥è®¾è®¡å¾®æœåŠ¡"></a>æœ€ä½³å®è·µ#3ï¼šä½¿ç”¨â€œé¢†åŸŸé©±åŠ¨è®¾è®¡â€ï¼ˆDDDï¼‰æ¥è®¾è®¡å¾®æœåŠ¡</h4><p>è™½ç„¶è¿™ä¸€æ­¥ä¸å®šä¹‰å¾®æœåŠ¡çš„ç»ƒä¹ å¯†åˆ‡ç›¸å…³ï¼Œä½†å®ƒæ›´è¿›äº†ä¸€æ­¥ã€‚åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥å›´ç»•æ‚¨çš„ä¸šåŠ¡é¢†åŸŸè®¾è®¡å¾®æœåŠ¡ã€‚è®©æˆ‘ä»¬å†æ¬¡å›é¡¾ Netflix ç¤ºä¾‹ã€‚ä»–ä»¬ä»ä¸åŒçš„æœåŠ¡å™¨è¿è¡Œä»–ä»¬çš„å†…å®¹äº¤ä»˜å’Œä¸åŒçš„è·Ÿè¸ªæœåŠ¡ã€‚</p><p>â€œé¢†åŸŸé©±åŠ¨è®¾è®¡â€(DDD) æ˜¯ä¸€ç§è®¾è®¡åŸåˆ™ï¼Œå®ƒä½¿ç”¨å®ç”¨çš„è§„åˆ™å’Œæ€æƒ³æ¥è¡¨è¾¾é¢å‘å¯¹è±¡çš„æ¨¡å‹ã€‚å®ƒå¸®åŠ©è½¯ä»¶æ¶æ„å¸ˆäº†è§£ä¸åŒçš„ä¸šåŠ¡é¢†åŸŸï¼Œå› æ­¤ï¼Œä»–ä»¬å¯ä»¥ä¸“æ³¨äºæ„å»ºä¸šåŠ¡å¯ä»¥å¾ˆå¥½ç†è§£çš„å¾®æœåŠ¡æ¶æ„ã€‚åœ¨â€œ DDD 101 â€” 5 åˆ†é’Ÿä¹‹æ—…â€ä¸­é˜…è¯»æ›´å¤šç›¸å…³ä¿¡æ¯ã€‚</p><h4 id="æœ€ä½³å®è·µ-4ï¼šå°½æ—©è·å¾—ç»„ç»‡é¢†å¯¼å’Œå›¢é˜Ÿçš„æ”¯æŒ"><a href="#æœ€ä½³å®è·µ-4ï¼šå°½æ—©è·å¾—ç»„ç»‡é¢†å¯¼å’Œå›¢é˜Ÿçš„æ”¯æŒ" class="headerlink" title="æœ€ä½³å®è·µ#4ï¼šå°½æ—©è·å¾—ç»„ç»‡é¢†å¯¼å’Œå›¢é˜Ÿçš„æ”¯æŒ"></a>æœ€ä½³å®è·µ#4ï¼šå°½æ—©è·å¾—ç»„ç»‡é¢†å¯¼å’Œå›¢é˜Ÿçš„æ”¯æŒ</h4><p>å®ç°å¾®æœåŠ¡æ¶æ„è®¾è®¡ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæŠ€æœ¯å†³ç­–ã€‚è¿™ç§è½¬å‹ä»£ä»·é«˜æ˜‚ï¼Œè€Œä¸”å½±å“ä¸ä»…é™äºå†…éƒ¨å¼€å‘å›¢é˜Ÿã€‚ä»å•ä½“æ¶æ„è¿‡æ¸¡æ˜¯ä¸€ä¸ªæ¼«é•¿çš„é¡¹ç›®ã€‚ç»„ç»‡ä¸­çš„é«˜çº§ç®¡ç†äººå‘˜å¿…é¡»ä¸ºæ­¤æŠ•å…¥èµ„é‡‘ã€‚</p><p>å¯¹æ‚¨çš„å¼€å‘å›¢é˜Ÿçš„å½±å“å°†æ˜¯å·¨å¤§çš„ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨çš„å›¢é˜Ÿä¸€ç›´åœ¨ä½¿ç”¨ç«¯åˆ°ç«¯æµ‹è¯•è¿‡ç¨‹æ¥æµ‹è¯•æ•´ä¸ªç³»ç»Ÿï¼Œä»¥é˜²å‡ºç°å¢å¼ºã€‚æ‚¨ç°åœ¨éœ€è¦å›´ç»•å¾®æœåŠ¡å¯¹ç³»ç»Ÿè¿›è¡Œæ¨¡å—åŒ–ã€‚è¿™éœ€è¦æ–‡åŒ–è½¬å‹ã€‚</p><p>è½¬å‹å°†æœ‰åŠ©äºæ‚¨çš„ä¸šåŠ¡æ•æ·æ€§ï¼Œå› ä¸ºå®ƒå°†ä¿ƒè¿›æŒç»­äº¤ä»˜ã€‚ä½†æ˜¯ï¼Œå›¢é˜Ÿå¿…é¡»å®Œå…¨æ¥å—è½¬å‹ã€‚é˜…è¯»æˆ‘ä»¬çš„æŒ‡å—â€œæ•æ·å¸®åŠ©å˜é©ç®¡ç†çš„ 5 ç§æ–¹å¼â€ï¼Œäº†è§£å¦‚ä½•æœ‰æ•ˆåœ°å¸®åŠ©è¿™ç§è½¬å˜ã€‚</p><h4 id="æœ€ä½³å®è·µ-5ï¼šæœ€ä½³åœ°ä½¿ç”¨-RESTful-API"><a href="#æœ€ä½³å®è·µ-5ï¼šæœ€ä½³åœ°ä½¿ç”¨-RESTful-API" class="headerlink" title="æœ€ä½³å®è·µ #5ï¼šæœ€ä½³åœ°ä½¿ç”¨ RESTful API"></a>æœ€ä½³å®è·µ #5ï¼šæœ€ä½³åœ°ä½¿ç”¨ RESTful API</h4><p>å¦‚æœæ‚¨ä¼˜åŒ–ä½¿ç”¨ RESTful APIï¼Œå¾®æœåŠ¡æ¶æ„æ¨¡å¼å¯ä»¥æä¾›é‡è¦çš„ä»·å€¼ã€‚RESTful API æä¾›äº†è®¸å¤šä¼˜ç‚¹ï¼Œä¾‹å¦‚ï¼Œæ‚¨ä¸éœ€è¦åœ¨å®¢æˆ·ç«¯å®‰è£…ä»»ä½•ä¸œè¥¿ã€‚æ‚¨ä¸éœ€è¦ SDK æˆ–æ¡†æ¶ï¼Œå› ä¸ºä½¿ç”¨ API æœåŠ¡çš„ HTTP è¯·æ±‚å°±è¶³å¤Ÿäº†ã€‚åœ¨æ­¤ Quora é—®ç­”ä¸»é¢˜ä¸­é˜…è¯»æœ‰å…³ RESTful API ä¼˜åŠ¿çš„æ›´å¤šä¿¡æ¯ã€‚</p><p>RESTful API é¢†åŸŸçš„ä¸“å®¶ Leonard Richardson æå‡ºäº† REST API ä½¿ç”¨çš„æˆç†Ÿåº¦æ¨¡å‹ã€‚ä¸ºäº†ä»æ‚¨çš„å¾®æœåŠ¡æ¶æ„ä¸­å®ç°æœ€ä½³ä»·å€¼ï¼Œæ‚¨åº”è¯¥å°è¯•è¾¾åˆ°æ­¤æˆç†Ÿåº¦æ¨¡å‹çš„æœ€é«˜æ°´å¹³ã€‚é˜…è¯»â€œå¾®æœåŠ¡æ¶æ„çš„ 10 ä¸ªæœ€ä½³å®è·µâ€ä»¥è·å¾—æ›´å¤šè§è§£ã€‚</p><h4 id="æœ€ä½³å®è·µ-6ï¼šå›´ç»•å¾®æœåŠ¡ç»„ç»‡å›¢é˜Ÿ"><a href="#æœ€ä½³å®è·µ-6ï¼šå›´ç»•å¾®æœåŠ¡ç»„ç»‡å›¢é˜Ÿ" class="headerlink" title="æœ€ä½³å®è·µ #6ï¼šå›´ç»•å¾®æœåŠ¡ç»„ç»‡å›¢é˜Ÿ"></a>æœ€ä½³å®è·µ #6ï¼šå›´ç»•å¾®æœåŠ¡ç»„ç»‡å›¢é˜Ÿ</h4><p>æ‚¨éœ€è¦å»ºç«‹ä¸åŒçš„å›¢é˜Ÿæ¥å¤„ç†ä¸åŒçš„å¾®æœåŠ¡ã€‚è¿™äº›å›¢é˜Ÿåº”è¯¥è¢«èµ‹äºˆè¶³å¤Ÿçš„æƒåŠ›æ¥å¤„ç†ä»–ä»¬çš„å¾®æœåŠ¡ã€‚ä½†æ˜¯ï¼Œæ‰€æœ‰å›¢é˜Ÿéƒ½åº”è¯¥è·¨èŒèƒ½å¹¶äº†è§£æ•´ä¸ªé¡¹ç›®è®¡åˆ’ã€‚</p><p>æ¯ä¸ªå›¢é˜Ÿéƒ½åº”è¯¥å…·å¤‡æ„å»ºäº‘åŸç”Ÿåº”ç”¨ç¨‹åºçš„å¿…è¦æŠ€èƒ½ã€‚æ¯ä¸ªå›¢é˜Ÿéƒ½éœ€è¦ä¸šåŠ¡åˆ†æå¸ˆã€å¼€å‘äººå‘˜ã€æµ‹è¯•äººå‘˜å’Œ DevOps å·¥ç¨‹å¸ˆã€‚æ¯ä¸ªå›¢é˜Ÿéƒ½åº”è¯¥æœ‰è‡ªå·±çš„é¡¹ç›®ç»ç† (PM)ã€‚æˆ‘ä»¬çš„æŒ‡å—â€œå¦‚ä½•å»ºç«‹Scrumå¼€å‘å›¢é˜Ÿï¼Ÿâ€å¯ä»¥å¸®åŠ©æ‚¨ç»„ç»‡è¿™äº›å›¢é˜Ÿã€‚</p><h4 id="æœ€ä½³å®è·µ-7ï¼šä¸ºæ¯ä¸ªå¾®æœåŠ¡æä¾›å•ç‹¬çš„æ•°æ®å­˜å‚¨"><a href="#æœ€ä½³å®è·µ-7ï¼šä¸ºæ¯ä¸ªå¾®æœåŠ¡æä¾›å•ç‹¬çš„æ•°æ®å­˜å‚¨" class="headerlink" title="æœ€ä½³å®è·µ #7ï¼šä¸ºæ¯ä¸ªå¾®æœåŠ¡æä¾›å•ç‹¬çš„æ•°æ®å­˜å‚¨"></a>æœ€ä½³å®è·µ #7ï¼šä¸ºæ¯ä¸ªå¾®æœåŠ¡æä¾›å•ç‹¬çš„æ•°æ®å­˜å‚¨</h4><p>æ¯ä¸ªå¾®æœåŠ¡éƒ½åº”è¯¥ä¸ºå…¶æ•°æ®å­˜å‚¨åšå¥½å‡†å¤‡ã€‚æ¯ä¸ªå¾®æœåŠ¡éƒ½åº”è¯¥å®Œå…¨æ‹¥æœ‰è‡ªå·±çš„æ•°æ®ã€‚å½“ç„¶ï¼Œæ•°æ®å¯ä»¥åœ¨å¾®æœåŠ¡ä¹‹é—´å…±äº«ï¼Œä½†æ˜¯ï¼Œè¿™åº”è¯¥é€šè¿‡ API è¿›è¡Œã€‚</p><p>å¦‚æœå¤šä¸ªå¾®æœåŠ¡å…±äº«åŒä¸€ä¸ªæ•°æ®å­˜å‚¨ï¼Œè¿™ä¼šå¯¼è‡´æœåŠ¡ä¹‹é—´çš„è€¦åˆã€‚è¿™å°†å¤§å¤§è¿èƒŒå¾®æœåŠ¡æ¶æ„çš„ç›®çš„ã€‚åœ¨â€œ Top 5+ å¾®æœåŠ¡æ¶æ„å’Œè®¾è®¡æœ€ä½³å®è·µâ€ä¸­é˜…è¯»æ›´å¤šç›¸å…³ä¿¡æ¯ã€‚</p><h4 id="æœ€ä½³å®è·µ-8ï¼šåŸºäºé¢†åŸŸè®¾è®¡-API-å¹¶å¾ˆå¥½åœ°è®°å½•å®ƒä»¬"><a href="#æœ€ä½³å®è·µ-8ï¼šåŸºäºé¢†åŸŸè®¾è®¡-API-å¹¶å¾ˆå¥½åœ°è®°å½•å®ƒä»¬" class="headerlink" title="æœ€ä½³å®è·µ #8ï¼šåŸºäºé¢†åŸŸè®¾è®¡ API å¹¶å¾ˆå¥½åœ°è®°å½•å®ƒä»¬"></a>æœ€ä½³å®è·µ #8ï¼šåŸºäºé¢†åŸŸè®¾è®¡ API å¹¶å¾ˆå¥½åœ°è®°å½•å®ƒä»¬</h4><p>å……åˆ†æ³¨æ„åŸºäºä¸šåŠ¡é¢†åŸŸè®¾è®¡ APIã€‚å¾ˆå¥½åœ°è®°å½• APIã€‚è€ƒè™‘ä½¿ç”¨Swagger ä¹‹ç±»çš„å·¥å…·ã€‚æˆ‘ä»¬æœ‰ä¸€ä¸ªæŒ‡å—â€œå¦‚ä½•ä¸ºæ‚¨çš„ç§»åŠ¨åº”ç”¨ç¨‹åºæ„å»º RESTful APIï¼Ÿâ€æ‚¨å¯ä»¥å’¨è¯¢ã€‚</p><h4 id="æœ€ä½³å®è·µ-9ï¼šä½¿ç”¨å¥½çš„-DevOps-å·¥å…·é›†"><a href="#æœ€ä½³å®è·µ-9ï¼šä½¿ç”¨å¥½çš„-DevOps-å·¥å…·é›†" class="headerlink" title="æœ€ä½³å®è·µ #9ï¼šä½¿ç”¨å¥½çš„ DevOps å·¥å…·é›†"></a>æœ€ä½³å®è·µ #9ï¼šä½¿ç”¨å¥½çš„ DevOps å·¥å…·é›†</h4><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨åº”è¯¥å·²ç»å°†å¾®æœåŠ¡è®¾è®¡å¾—è¶³å¤Ÿå¥½ï¼Œå¯ä»¥ç‹¬ç«‹éƒ¨ç½²å®ƒä»¬ã€‚ä¸ºäº†ä»è¿™äº›å¾®æœåŠ¡ä¸­å®ç°æœ€ä½³ä»·å€¼ï¼Œæ‚¨éœ€è¦è‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²ç®¡ç†ã€‚å› æ­¤ï¼Œæ‚¨å°†éœ€è¦ä¸€å¥—è‰¯å¥½çš„ DevOps å·¥å…·ã€‚</p><p>ç”¨äºéƒ¨ç½²è‡ªåŠ¨åŒ–çš„ Jenkins å’Œç”¨äºå®¹å™¨åŒ–çš„ Docker æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç»„åˆã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨éœ€è¦æ›´å¤šç¤ºä¾‹ï¼Œè¯·é˜…è¯»â€œ 2019 å¹´çš„ 10 ä¸ªæœ€ä½³ DevOps å·¥å…·â€ã€‚</p><h4 id="æœ€ä½³å®è·µ-10ï¼šæŠ•èµ„äºç›‘æ§"><a href="#æœ€ä½³å®è·µ-10ï¼šæŠ•èµ„äºç›‘æ§" class="headerlink" title="æœ€ä½³å®è·µ #10ï¼šæŠ•èµ„äºç›‘æ§"></a>æœ€ä½³å®è·µ #10ï¼šæŠ•èµ„äºç›‘æ§</h4><p>å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯å•ä½“æ¶æ„å¹¶æ­£åœ¨è¿‡æ¸¡åˆ°å¾®æœåŠ¡æ¶æ„ï¼Œåˆ™å¿…é¡»è§£å†³æ—¥ç›Šå¢åŠ çš„å¤æ‚æ€§ã€‚å¯¹æ€§èƒ½å’ŒåŠ¨æ€ç¯å¢ƒçš„éœ€æ±‚å¢åŠ éœ€è¦æ›´é«˜çº§çš„ç›‘æ§ã€‚</p><p>ä¸€ä¸ªå¥½çš„ç›‘æ§è§£å†³æ–¹æ¡ˆåº”è¯¥è§£å†³èµ„æºåˆ†é…çš„æŒç»­å˜åŒ–ã€‚è¿™æ ·çš„è§£å†³æ–¹æ¡ˆåº”è¯¥å°†ä»ç›‘æ§ä¸­æ”¶é›†çš„æ•°æ®å­˜å‚¨åœ¨ä¸­å¤®æ•°æ®åº“ä¸­ã€‚å®ƒäº§ç”Ÿçš„æ´å¯ŸåŠ›åº”è¯¥æ­ç¤ºåº”ç”¨ç¨‹åºçš„åŠ¨æ€ç‰¹æ€§ã€‚</p><p>æ¯ä¸ªå¾®æœåŠ¡éƒ½åº”è¯¥ä½¿ç”¨ç›‘æ§ä»£ç†ã€‚ç›‘æ§ç³»ç»Ÿåº”æ”¯æŒæ ¹æœ¬åŸå› åˆ†æã€‚é˜…è¯»æ›´å¤šå…³äºå®ƒåœ¨â€œæˆåŠŸå¾®æœåŠ¡è®¾è®¡çš„ 5 ä¸ªåŸºç¡€â€ä¸­çš„é‡è¦æ€§ã€‚</p><h3 id="éƒ¨ç½²å¾®æœåŠ¡æ¶æ„æ—¶çš„å…³é”®è€ƒè™‘å› ç´ "><a href="#éƒ¨ç½²å¾®æœåŠ¡æ¶æ„æ—¶çš„å…³é”®è€ƒè™‘å› ç´ " class="headerlink" title="éƒ¨ç½²å¾®æœåŠ¡æ¶æ„æ—¶çš„å…³é”®è€ƒè™‘å› ç´ "></a>éƒ¨ç½²å¾®æœåŠ¡æ¶æ„æ—¶çš„å…³é”®è€ƒè™‘å› ç´ </h3><p>å¯ä»¥çœ‹åˆ°ï¼Œéƒ¨ç½²å¾®æœåŠ¡æ¶æ„æ˜¯ä¸€ä¸ªæ¶‰åŠåˆ°çš„é¡¹ç›®ã€‚åœ¨è¿›è¡Œæ­¤ç±»é¡¹ç›®æ—¶ï¼Œè¯·ç‰¢è®°ä»¥ä¸‹æ³¨æ„äº‹é¡¹ï¼š</p><ol><li><p>ç®¡ç†ä¾èµ–<br>æ‚¨éœ€è¦åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ä»¥ä¸åŒäºå•ä½“åº”ç”¨ç¨‹åºä¸­çš„æ–¹å¼ç®¡ç†ä¾èµ–é¡¹ã€‚å¾®æœåŠ¡æ¶æ„æ¶‰åŠæ¯ä¸ªç‹¬ç«‹è¿è¡Œçš„æœåŠ¡ã€‚ä½†æ˜¯ï¼Œä¸€ä¸ªå¾®æœåŠ¡å¯èƒ½éœ€è¦è®¿é—®ç³»ç»Ÿçš„å…¶ä»–éƒ¨åˆ†ã€‚è¿™å°±æ˜¯å¤æ‚æ€§å‡ºç°çš„åœ°æ–¹ã€‚ä»”ç»†è€ƒè™‘ä¾èµ–å…³ç³»ã€‚</p></li><li><p>å¯»æ‰¾å…·æœ‰æ‰€éœ€çŸ¥è¯†çš„å»ºç­‘å¸ˆ<br>æ¶æ„å¸ˆå°†åœ¨å®æ–½å¾®æœåŠ¡æ¶æ„ä¸­å‘æŒ¥å…³é”®ä½œç”¨ã€‚ä½ éœ€è¦ä¸€ä¸ªç§°èŒçš„å»ºç­‘å¸ˆã€‚æ¶æ„å¸ˆå¯èƒ½éœ€è¦ä½¿ç”¨äº‹ä»¶é©±åŠ¨çš„èšåˆæ¥å®ç°æ­¤æ¶æ„ï¼Œè¿™éœ€è¦é€‚å½“çš„åç«¯ç›¸å…³ä¸“ä¸šçŸ¥è¯†ã€‚</p></li></ol><p>è¯·è®°ä½ï¼Œå¾®æœåŠ¡æ¶æ„ä¸­çš„å¾®æœåŠ¡æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿã€‚å› æ­¤ï¼Œæ¶æ„å¸ˆéœ€è¦å…·å¤‡è¿™æ–¹é¢çš„è‰¯å¥½çŸ¥è¯†ã€‚</p><p>æ­¤å¤–ï¼Œæ¶æ„å¸ˆéœ€è¦å®ç°ä»å¤šä¸ªæ•°æ®å­˜å‚¨ä¸­æ£€ç´¢æ•°æ®çš„æŸ¥è¯¢ã€‚åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œè¿™å°†æ¯”å•ä½“åº”ç”¨æ›´å¤æ‚ã€‚è¯¥é¡¹ç›®å¯èƒ½ä¼šä½¿ç”¨â€œäº‹ä»¶æº¯æºâ€æ¨¡å¼ï¼Œè¿™ä¼šå¢åŠ å¤æ‚æ€§ã€‚æ¶æ„å¸ˆå¯èƒ½éœ€è¦åœ¨æ­¤å¤„ä½¿ç”¨â€œé€šç”¨æŸ¥è¯¢èŒè´£åˆ†ç¦»â€(CQRS) æ¨¡å¼ã€‚</p><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ¶æ„å¸ˆå¯èƒ½éœ€è¦ä½¿ç”¨â€œæ–­è·¯å™¨â€æ¨¡å¼ã€‚è¿™å¯ä»¥å¸®åŠ©å¤šä¸ªæœåŠ¡åœ¨ä¸ºè¯·æ±‚æä¾›æœåŠ¡æ—¶è¿›è¡Œåä½œã€‚ä¸€ä¸ªæœåŠ¡å¯èƒ½ä¼šåŒæ­¥è°ƒç”¨å¦ä¸€ä¸ªæœåŠ¡ã€‚æ­¤å…¶ä»–æœåŠ¡å¯èƒ½ä¼šåœæœºï¼Œæˆ–è€…ï¼Œå®ƒå¯èƒ½ä¼šé‡åˆ°é«˜å»¶è¿Ÿã€‚â€œæ–­è·¯å™¨â€æ¨¡å¼å¯é˜²æ­¢æ­¤ç±»é—®é¢˜å½±å“å…¶ä»–æœåŠ¡ã€‚</p><p>è´Ÿè½½å¹³è¡¡æ°å¥½æ˜¯æ¶æ„å¸ˆéœ€è¦è¶³å¤Ÿç»éªŒçš„å¦ä¸€ä¸ªé¢†åŸŸã€‚å®ƒæœ‰åŠ©äºå¾®æœåŠ¡åœ¨ç®¡ç†ç³»ç»Ÿè´Ÿè½½çš„åŒæ—¶ä¿æŒå®‰å…¨æ€§å’Œå¯ç”¨æ€§ã€‚</p><p>å¼€å‘äººå‘˜å¯èƒ½ä¼šåœ¨åˆ›å»ºå¾®æœåŠ¡æ—¶å¯¹è¦å®ç°çš„ç«¯ç‚¹æ•°é‡æ„Ÿåˆ°å›°æƒ‘ã€‚çŸ¥è¯†æ¸Šåšçš„è½¯ä»¶æ¶æ„å¸ˆå¯ä»¥åœ¨è¿™é‡Œå‘æŒ¥å¾ˆå¤§çš„ä½œç”¨ï¼Œå› ä¸ºä»–/å¥¹çŸ¥é“ç«¯ç‚¹çš„æ•°é‡å–å†³äºæœåŠ¡çš„ç±»å‹ã€‚</p><ol start="3"><li>ä½¿ç”¨æ­£ç¡®çš„å·¥å…·å’Œæ¡†æ¶ï¼Œå¦‚â€œSpring Bootâ€<br>ä½¿ç”¨æ­£ç¡®çš„å¼€æºå·¥å…·å¯ä»¥æå¤§åœ°å¸®åŠ©å®ç°å¾®æœåŠ¡æ¶æ„ã€‚å¹¸è¿çš„æ˜¯ï¼Œæ‚¨å¯ä»¥åˆ©ç”¨ä¸°å¯Œçš„å¼€æºå·¥å…·ç”Ÿæ€ç³»ç»Ÿã€‚</li></ol><p>ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æµè¡Œçš„å¼€æºæ¡†æ¶â€œSpring Bootâ€è½»æ¾åˆ›å»ºå¾®æœåŠ¡ã€‚ä»¥ä¸‹æ˜¯æ­¤ç±»å·¥å…·çš„æ›´å¤šç¤ºä¾‹ï¼š</p><p>APIå¼€å‘çš„é‚®é€’å‘˜ï¼›<br>ç”¨äºæ¶ˆæ¯ä¼ é€’çš„ Amazon Simple Queue Service (SQS)ï¼›<br>ç”¨äºç›‘æ§çš„ Logstashï¼›<br>ç”¨äºéƒ¨ç½²çš„ Kubernetesã€‚<br>GitHub åœ¨è¿™é‡Œå€¼å¾—ä¸€æï¼Œå°½ç®¡å®ƒä¸æ˜¯å®Œå…¨å¼€æºçš„ã€‚è¿™æœ‰åŠ©äºæ‚¨è¿›è¡Œç‰ˆæœ¬æ§åˆ¶å’Œæºä»£ç ç®¡ç†ã€‚</p><ol start="4"><li>ä¸ºå¯æ‰©å±•æ€§è®¾è®¡å¾®æœåŠ¡<br>åœ¨è®¾è®¡å¾®æœåŠ¡æ—¶ï¼Œå¯æ‰©å±•æ€§æ˜¯ä¸€ä¸ªå…³é”®å› ç´ ã€‚æ— è®ºæ˜¯åˆ›å»ºæ–°æœåŠ¡è¿˜æ˜¯å¢å¼ºç°æœ‰æœåŠ¡ï¼Œéƒ½éœ€è¦æ³¨æ„è¿™ä¸€ç‚¹ã€‚ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦è€ƒè™‘å„ç§æ–¹æ³•å’ŒæŠ€æœ¯ã€‚</li></ol><p>ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­æ˜¯ç¼“å­˜ã€‚è¯·è®°ä½éµå¾ªæ­£ç¡®çš„æ•™ç¨‹åœ¨å¾®æœåŠ¡æ¶æ„ä¸­å®ç°å®ƒã€‚å¼‚æ­¥æ¶ˆæ¯ä¼ é€’ä½¿æ‚¨èƒ½å¤Ÿåœ¨æ„å»ºå¾®æœåŠ¡æ—¶æä¾›æ›´å¥½çš„å¯æ‰©å±•æ€§ã€‚</p><ol start="5"><li>å¤„ç†è®¤è¯å’Œæˆæƒ<br>å¤„ç†ç”¨æˆ·èº«ä»½éªŒè¯å’Œæˆæƒåœ¨å¾®æœåŠ¡å’Œå•ä½“åº”ç”¨ç¨‹åºä¹‹é—´å·®å¼‚å¾ˆå¤§ã€‚æ‚¨éœ€è¦éå¸¸äº†è§£è¿™äº›å·®å¼‚çš„æ¶æ„å¸ˆå’Œå¼€å‘äººå‘˜ã€‚</li></ol><p>ä¾‹å¦‚ï¼Œä»–ä»¬éœ€è¦å‡†ç¡®åœ°å®šä¹‰æœ‰ç•Œä¸Šä¸‹æ–‡ã€‚è¿™å°†å¸®åŠ©ä»–ä»¬å®šä¹‰å…·æœ‰å¤§é‡ç²’åº¦çš„ç”¨æˆ·æˆæƒã€‚</p><p>å†ä¸¾ä¸€ä¸ªä¾‹å­ã€‚æ‚¨çš„å›¢é˜Ÿå°†éœ€è¦ä½¿ç”¨ä»¤ç‰Œè¿›è¡Œç”¨æˆ·èº«ä»½éªŒè¯ã€‚å­˜åœ¨å„ç§ç±»å‹çš„ä»¤ç‰Œï¼Œä¾‹å¦‚â€œJSON Web ä»¤ç‰Œâ€(JWT)ã€‚è¿‘å¹´æ¥ï¼Œè¿™ç§å¼€æ”¾æ ‡å‡†çš„ä»£å¸è¶Šæ¥è¶Šå—æ¬¢è¿ã€‚æ‚¨éœ€è¦äº†è§£æ­¤ç±»ç°ä»£æ ‡å‡†çš„æ¶æ„å¸ˆå’Œå¼€å‘äººå‘˜ã€‚</p><ol start="6"><li>æ°å½“åœ°ä½¿ç”¨æœåŠ¡ç½‘æ ¼<br>æœ‰æ—¶æ‚¨éœ€è¦å®ç°å¤–éƒ¨é…ç½®ï¼Œå¦‚å‡­æ®ä»¥åŠå¾®æœåŠ¡æ¶æ„æ¨¡å¼ã€‚æ‚¨å¯èƒ½éœ€è¦ç›‘æ§æŒ‡æ ‡ä»¥äº†è§£åº”ç”¨ç¨‹åºçš„æ‰§è¡Œæƒ…å†µã€‚è€ƒè™‘ä½¿ç”¨æœåŠ¡ç½‘æ ¼æ¥ç®¡ç†æœåŠ¡ä¹‹é—´çš„é€šä¿¡ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> è½¬è½½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ–‡ç«  </tag>
            
            <tag> è½¬è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¹ æƒ¯çš„å…»æˆ</title>
      <link href="/hypo-Z.github.io/2021/12/02/17-xi-guan-de-yang-cheng/"/>
      <url>/hypo-Z.github.io/2021/12/02/17-xi-guan-de-yang-cheng/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¹ æƒ¯çš„å…»æˆ"><a href="#ä¹ æƒ¯çš„å…»æˆ" class="headerlink" title="ä¹ æƒ¯çš„å…»æˆ"></a>ä¹ æƒ¯çš„å…»æˆ</h1><p>æ¯å½“ä½ å‘ç°å¾ˆéš¾å¼€å§‹æ‰§è¡ŒæŸé¡¹ä»»åŠ¡æ—¶ï¼Œå¯ä»¥è¯•è¯•å°†å…¶ç¼©å‡æˆ2åˆ†é’Ÿçš„ç‰ˆæœ¬ã€‚</p><p>çœ‹ä¸€æœ¬ä¹¦ â†’ çœ‹ä¸€é¡µä¹¦<br>å†™ä¸€ç¯‡æ–‡ç«  â†’ å†™ä¸€å¥è¯<br>è·‘10å…¬é‡Œ â†’ ç©¿ä¸Šè·‘é‹<br>åš100æ¬¡ä¿¯å§æ’‘ â†’ åš1æ¬¡ä¿¯å§æ’‘<br>å¤šåƒè”¬èœæ°´æœ â†’ åƒä¸€ä¸ªæ°´æœ<br>ç¼–å†™ä¸€ä¸ªç¨‹åº â†’ ç¼–å†™ä¸€ä¸ªå‡½æ•° â†’ ç¼–å†™ä¸€è¡Œä»£ç <br>è¿™æ ·åšçš„ç›®çš„æ˜¯ä½¿ä¸Šæ‰‹å˜å¾—è¶…çº§å®¹æ˜“ï¼Œè®©ä½ å…ˆä¸Šæ‰‹å†è¯´ã€‚ä¸€æ—¦å¼€å§‹åšäº†ï¼ˆè¿™å¯èƒ½æ˜¯æœ€è‰°éš¾çš„ä¸€æ­¥ï¼‰ï¼Œä½ å°±ä¼šå¼€å§‹æœ‰åŠ¨åŠ›ï¼Œå¯èƒ½ä¼šç»§ç»­åšä¸‹å»ã€‚</p><p>é˜…è¯»ä¸€é¡µ â†’ é˜…è¯»10é¡µ â†’ è¯»å®Œç¬¬ä¸€ç« <br>å†™ä¸€ä¸ªå¥å­ â†’ å†™æ–‡ç« çš„å¼€å¤´ â†’ å†™å‡ºæ­£æ–‡<br>ç©¿ä¸Šè·‘é‹ â†’ æ­¥è¡Œ5åˆ†é’Ÿ â†’ è·‘æ­¥5åˆ†é’Ÿ<br>ä¸€æ—¦å¼€å§‹ï¼Œç»§ç»­åšä¸‹å»å°±ä¼šå®¹æ˜“å¾—å¤šã€‚æœ‰æ—¶ï¼Œä½ ç”šè‡³ä¼šå‘ç°ï¼Œè‡ªå·±åœ¨ä¸çŸ¥ä¸è§‰é—´å·²ç»å®Œæˆäº†ä»»åŠ¡ã€‚</p><p><img src="https://www.wangbase.com/blogimg/asset/202007/bg2020072418.jpg" alt="image"></p><p>ä¸€ä¸ªäººåº”è¯¥èƒ½å¤Ÿæ¢å°¿å¸ƒï¼Œç­–åˆ’æˆ˜äº‰ï¼Œæ€çŒªï¼Œå¼€èˆ¹ï¼Œè®¾è®¡æˆ¿å­ï¼Œå†™åå››è¡Œè¯—ï¼Œç»“ç®—è´¦æˆ·ï¼Œç Œå¢™ï¼Œæ¥è„±è‡¼çš„éª¨å¤´ï¼Œå®‰æ…°æ¿’æ­»çš„äººï¼Œæœä»å‘½ä»¤ï¼Œå‘å¸ƒå‘½ä»¤ï¼Œæºæ‰‹åˆä½œï¼Œç‹¬ç«‹è¡ŒåŠ¨ï¼Œè§£æ•°å­¦æ–¹ç¨‹ï¼Œåˆ†ææ–°é—®é¢˜ï¼Œé“²ç²ªï¼Œç”µè„‘ç¼–ç¨‹ï¼Œåšå‡ºå¯å£çš„é¥­ï¼Œå–„æ‰“æ¶ï¼Œå‹‡æ•¢åœ°æ­»å»ã€‚åªæœ‰æ˜†è™«æ‰ä¸“ä¸šåŒ–ã€‚<br>â€”â€” ç½—ä¼¯ç‰¹ãƒ»å®‰æ£®ãƒ»æµ·å› è±å› </p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
            <tag> æ–‡ç«  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äºŒå…«å®šå¾‹</title>
      <link href="/hypo-Z.github.io/2021/11/30/16-er-ba-ding-lu/"/>
      <url>/hypo-Z.github.io/2021/11/30/16-er-ba-ding-lu/</url>
      
        <content type="html"><![CDATA[<h1 id="äºŒå…«å®šå¾‹"><a href="#äºŒå…«å®šå¾‹" class="headerlink" title="äºŒå…«å®šå¾‹"></a>äºŒå…«å®šå¾‹</h1><ul><li>äºŒå…«å®šå¾‹åˆå«å¸•ç´¯æ‰˜å®šå¾‹,æ˜¯19ä¸–çºªæœ«20ä¸–çºªåˆæ„å¤§åˆ©ç»æµå­¦å®¶<br>å¸•ç´¯æ‰˜å‘ç°çš„ä¸€ç§å¥‡æ€ªçš„ç¤¾ä¼šç°è±¡ã€‚ä»–è®¤ä¸º,åœ¨ä»»ä½•ä¸€ç»„ä¸œè¥¿ä¸­æœ€é‡è¦çš„</li><li>åªå å…¶ä¸­ä¸€å°éƒ¨åˆ†,çº¦20%,å…¶ä½™80%å°½ç®¡æ˜¯å¤šæ•°å´æ˜¯æ¬¡è¦çš„,å› æ­¤åˆç§° äºŒå…«å®šå¾‹,<br>æœ€è‘—åçš„æ˜¯â€ç¤¾ä¼šä¸Š20%çš„äººæŒæ¡äº†80%çš„è´¢å¯Œ!â€å¤–æ±‡å¸‚åœºäºŒå…«å®šå¾‹å®é™…å°±æ˜¯äºŒ<br>å…«å®šå¾‹åœ¨å¤–æ±‡å¸‚åœºä¸Šçš„ä¸€äº›å…·ä½“è¡¨ç°,æ˜¯ä¸€äº›çœ‹ä¼¼ä¸å¯èƒ½ä½†åˆå…·æœ‰çœŸå®å½±å“çš„<br>ç°è±¡ã€‚</li><li>äºŒå…«å®šå¾‹åœ¨ç¤¾ä¼šä¸­çš„ç°è±¡æå…¶æ™®é,å®ƒçš„ç°å®æ„ä¹‰:äºŒå…«æ³•åˆ™ä¸ä»…åœ¨<br>ç»æµå­¦ç®¡ç†å­¦é¢†åŸŸåº”ç”¨å¹¿æ³›,å®ƒå¯¹æˆ‘ä»¬è‡ªèº«å‘å±•ä¹Ÿæœ‰é‡è¦çš„ç°å®æ„ä¹‰:<br>å­¦ä¼šé¿å…å°†æ—¶é—´å’Œç²¾åŠ›èŠ±è´¹åœ¨çäº‹ä¸Š,è¦å­¦ä¼šæŠ“ä¸»è¦çŸ›ç›¾ã€‚<br>ä¸€ä¸ªäººçš„ç²¾åŠ›å’Œæ—¶é—´éƒ½æ˜¯éå¸¸æœ‰é™çš„è¦æƒ³çœŸæ­£â€åšå¥½æ¯ä»¶äº‹æƒ…â€å‡ ä¹æ˜¯<br>ä¸å¯èƒ½çš„,è¦å­¦ä¼šåˆç†åˆ†é…æ—¶é—´å’Œç²¾åŠ›ã€‚è¦æƒ³é¢é¢ä¿±åˆ°è¿˜ä¸å¦‚é‡ç‚¹çªç ´ã€‚<br>æŠŠ80%çš„èµ„æºèŠ±åœ¨èƒ½å‡ºå…³é”®æ•ˆç›Šçš„ç‚¸çš„æ–¹é¢,è¿™20%çš„æ–¹é¢åˆèƒ½å¸¦åŠ¨å…¶ä½™<br>80%çš„å‘å±•ã€‚</li><li>äºŒå…«å®šå¾‹è¿ç”¨åœ¨æˆ‘è‡ªèº«,æˆ‘è®¤ä¸ºæˆ‘æ¯å¤©ä¸‰åˆ†ä¹‹ä¸€çš„æ—¶é—´ç”¨äºåœ¨å·¥ä½œä¸Š,ä¸‰åˆ†<br>ä¹‹ç”¨æ‰‹ä¼‘æ¯,è¿˜æœ‰ä¸‰åˆ†ä¹‹ä¸€ä¹Ÿä¸èƒ½ç™½ç™½æµªè´¹,åœ¨å·¥ä½œä¸­,80%æ—¶é—´ç”¨äºè§£å†³å®é™…<br>20%çš„éš¾é¢˜å°±è¡Œäº†ã€‚å…¶ä½™20%ç”¨äºå­¦ä¹ æ–°çŸ¥è¯†,æ‰©å±•çŸ¥è¯†å¹¿åº¦ã€‚è€Œåœ¨ç§ä¸‹<br>ç”Ÿæ´»80%æ—¶é—´ç”¨äºæå‡è‡ªèº«èº«å¿ƒä»ç……ç»ƒèº«ä½“,é˜…è¯»å†™ä½œ,è®­ç»ƒå£è¯­æ–¹é¢ç€<br>æ‰‹,è€Œä½™ä¸‹20%å°±æ‹¿æ¥ç»§ç»­æ€è€ƒå’Œå¤„ç†çäº‹ã€‚</li><li>äºŒå…«å®šå¾‹ä¹Ÿå¯ä»¥ç”¨äºäººç”Ÿçš„æˆé•¿å’Œè´¢å¯Œç§¯ç´¯ï¼Œäººç”ŸçœŸæ­£èƒ½å¥½å¥½ç”Ÿæ´»çš„å¯èƒ½<br>å°±20%äººç”Ÿ.æ‰€ä»¥åœ¨äººç”Ÿçš„é»„é‡‘æ—¶æœŸæ›´è¦å¥½å¥½è®¡åˆ’,è®©è¿™20%å»å…»æ´»<br>ä½™ä¸‹80%äººç”Ÿã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
            <tag> æ–‡ç«  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘çš„é’æ˜¥ç»“æŸäº†</title>
      <link href="/hypo-Z.github.io/2021/11/29/15-wo-de-qing-chun-jie-shu-liao/"/>
      <url>/hypo-Z.github.io/2021/11/29/15-wo-de-qing-chun-jie-shu-liao/</url>
      
        <content type="html"><![CDATA[<h1 id="æˆ‘çš„é’æ˜¥ç»“æŸäº†"><a href="#æˆ‘çš„é’æ˜¥ç»“æŸäº†" class="headerlink" title="æˆ‘çš„é’æ˜¥ç»“æŸäº†"></a>æˆ‘çš„é’æ˜¥ç»“æŸäº†</h1><p>åœ¨å‘¨å…­çš„é‚£å¤©æ™šå¤©,å› ä¸ºç¬¬äºŒå¤©éœ€è¦æ—©èµ·,æˆ‘æ¯”å¹³å¸¸æ›´æ—©çš„ç¡è§‰äº†,å·®ä¸å¤š<br>å…«ç‚¹å¤šå°±å¼€å§‹ç¡è§‰äº†,å½“æˆ‘ç¡åˆ°ä¹ç‚¹åŠå¤šæ—¶,æˆ‘è¢«å¾®ä¿¡è§†é¢‘ä¿¡æ¯åµé†’äº†<br>,æˆ‘å’ªå’ªç³Šç³Šæ‰“å¼€æ‰‹æœºå¼€å§‹æ¥å¬ã€‚åŸæ¥æ˜¯æˆ‘çš„å¥½å…„å¼Ÿ<br>æ‰“è¿‡æ¥çš„,ä»–ç•¥å¸¦æƒŠè®¶å’Œæ€¥åˆ‡çš„å£å»å¯¹æˆ‘è¯´é“:â€å…„å¼Ÿä½ å¬è¯´äº†å—?<br>ä½ è¿˜æœ‰ä½ å‰å¥³å‹çš„å¾®ä¿¡å—?ä½ ä¸çŸ¥é“å‘ç”Ÿä»€ä¹ˆäº†å—!â€æˆ‘ç¼“ç¼“è¯´é“:å¥¹<br>è¢«æ±‚å©šäº†æ˜¯å§,æˆ‘å¬é‹­äº†â€,ä»–ç•¥å¸¦åŒæƒ…çš„å¯¹æˆ‘è¯´:â€å…„å¼Ÿ,ä½ è¿˜è·Ÿå¥¹è”<br>ç³»å—?â€æˆ‘å›å¿™äº†ä¸€ä¸‹è¯´â€å¥½åƒä¸€å¹´å¤šæ²¡è”ç³»äº†,æˆ‘å±æ•å¥¹äº†ã€‚â€</p><p>æ˜¯å•Š,æ›¾ç»é‚£ä¸ªå­¦ç”Ÿæ—¶ä»£éš¾å¿˜çš„å›å¿†,åœ¨æ—¶é—´è¿™ä¸ªå·¨è½®é¢å‰,å°±å¦‚<br>åŒä¸€é¢—å°çŸ³å­è¢«æ— æƒ…ç¢¾è¿‡ã€‚æˆ‘ä¸€ç›´åšä¿¡é‚£å¥è¯,äººæ˜¯ä¼šå˜çš„ï¼Œä¸¤ä¸ªäººèƒ½å¦<br>æœ€ç»ˆèµ°åˆ°ä¸€èµ·,éœ€è¦çš„æ˜¯æ­£ç¡®çš„æ—¶é—´å’Œæ­£ç¡®çš„åœ°ç‚¹ã€‚é’æ˜¥çš„æ—¶å€™<br>æˆ‘ä»¬å¤©çœŸæ— é‚ª,è®¤ä¸ºä¸–ç•Œå°±æ˜¯ä½ æˆ‘ä¸éœ€è¦è€ƒè™‘ç°å®ã€‚ç°å®æ˜¯éšç€<br>æ—¶é—´æµæ·Œæˆ‘ä»¬å˜å¾—è¶Šæ¥è¶Šç°å®,è€Œä½ æˆ‘çš„æ¨¡æ ·æ—©å·²ä¸æ˜¯å½“åˆçš„<br>è®°å¿†ã€‚ä½†æ˜¯,äººç»ˆä¸€æ—¥ä¼šæ‰¾åˆ°å¥¹çš„å½’å±,æˆ‘æ€€ç€çœŸè¯šçš„å¿ƒ,è¯šæŒšçš„<br>ç¥ç¦æ¯ä¸ªåœ¨æˆ‘æˆé•¿è·¯ä¸Šé‡åˆ°çš„äºº,å¸Œæœ›å¥¹èƒ½å¹¸ç¦!</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
            <tag> æ–‡ç«  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>äººç”Ÿæ¸¸æˆ</title>
      <link href="/hypo-Z.github.io/2021/11/25/14-ren-sheng-you-xi/"/>
      <url>/hypo-Z.github.io/2021/11/25/14-ren-sheng-you-xi/</url>
      
        <content type="html"><![CDATA[<h1 id="äººç”Ÿæ˜¯åœºæ¸¸æˆ"><a href="#äººç”Ÿæ˜¯åœºæ¸¸æˆ" class="headerlink" title="äººç”Ÿæ˜¯åœºæ¸¸æˆ"></a>äººç”Ÿæ˜¯åœºæ¸¸æˆ</h1><p>ç”Ÿå­˜æ˜¯ç§å³æ—¶ç­–ç•¥æ¸¸æˆã€æ‰€æœ‰çš„äººéƒ½æ˜¯è¿™åœºæ¸¸æˆçš„ç©å®¶ã€‚è´¢åŠ¡è‡ªç”±äº†,<br>å°±æ˜¯æ¸¸æˆçš„èµ¢å®¶ã€‚<br>å…·ä½“æ¥è¯´åˆåˆ†æˆä¸¤ç§æ¸¸æˆè´¢å¯Œæ¸¸æˆå’Œåœ°ä½æ¸¸æˆã€‚è´¢å¯Œæ¸¸æˆ<br>çš„ç»Ÿå®¶è¿½æ±‚æ›´å¤šçš„è´¢å¯Œ,åœ°ä½æ¸¸æˆçš„ç©å®¶è¿½æ±‚æœ€é«˜çš„åœ°ä½ã€‚<br>å¤æ—¶å€™,åœ°ä½è¶Šé«˜,è´¢å¯Œè¶Šå¤š,å½“å¤§å®˜å°±å‘å¤§è´¢.æ‰€ä»¥å¤§å®¶éƒ½è¯´åœ°ä½<br>æ¸¸æˆã€‚ç°ä»£ç¤¾ä¼šè´¢å¯Œæ¸¸æˆå’Œåœ°ä½æ¸¸æˆæ…¢æ…¢è„±ç¦»äº†å…³ç³»,ä¸å½“å¤§<br>å®˜ä¹Ÿå¯ä»¥å‘å¤§è´¢,è´¢å¯Œæ¸¸æˆçš„ç©å®¶å¤šäº†èµ·æ¥ã€‚<br>è¿™ä¸¤ç§æ¸¸æˆæœ‰æœ¬è´¨çš„åŒºåˆ«ã€‚åœ°ä½æ¸¸æˆä¸€å®šæ˜¯é›¶å’Œçš„,æœ‰èµ¢å®¶<br>å°±è‚¯å®šæœ‰è¾“å®¶ã€‚æ¯”å¦‚,æˆ‘å½“äº†éƒ¨é—¨ä¸»ç®¡ä½ å°±ä¸èƒ½å½“äº†ã€‚æ‰€ä»¥åœ°ä½<br>æ¸¸æˆå¾ˆå‡¶é™©,å¿…é¡»æ—¶åˆ»æé˜²å…¶ä»–ç©å®¶çš„å†·æªã€‚è´¢å¯Œæ¸¸æˆä¸æ˜¯é›¶å’Œçš„,<br>æˆ‘èµšäº†é’±,ä¸å½±å“å…¶äººçš„æ”¶ç›Šå¾ˆå¯èƒ½åŒèµ¢ã€‚<br>åˆ›ä¸šæ˜¯è´¢å¯Œæ¸¸æˆ,æ”¿æ²»æ˜¯åœ°ä½æ¸¸æˆã€‚å› ä¸ºä¸Šé¢çš„åŸå› ,æˆ‘<br>è®¤ä¸º,åˆ›ä¸šå€¼å¾—å‚ä¸,æ”¿æ²»ä¸å€¼å¾—å‚ä¸ã€‚æœ‰äº›åˆ›ä¸šé¡¹ç›®ä¹Ÿæ˜¯é›¶å’Œçš„,<br>æ¯”å¦‚,æŠ¢ç¥¨æŠ€æœ¯ã€ç§’æ€æŠ€æœ¯ã€æ¸¸æˆå¤–æŒ‚ç­‰,ä¹Ÿä¸å€¼å¾—å‚ä¸ã€‚</p><p>å¼•ç”¨â€”ç½‘ç»œ</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
            <tag> æ–‡ç«  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¯»ä¹¦ç¬”è®°</title>
      <link href="/hypo-Z.github.io/2021/11/24/13-du-shu-bi-ji/"/>
      <url>/hypo-Z.github.io/2021/11/24/13-du-shu-bi-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="è¯»ä¹¦ç¬”è®°"><a href="#è¯»ä¹¦ç¬”è®°" class="headerlink" title="è¯»ä¹¦ç¬”è®°"></a>è¯»ä¹¦ç¬”è®°</h1><p>äººä¸å®šå‘½è¿çš„å›šå¾’è€Œæ˜¯è‡ªå·±æ€æƒ³çš„å›šå¾’â€”â€”å¯Œå…°å…‹æ—â€¢ç½—æ–¯ç¦</p><p>åœ¨æˆ‘ä»¬è¿›è¡Œå¤©åˆ†æ¯”è¾ƒæ—¶ç»å¸¸å¿½ç•¥æ²‰é»˜çš„è¯æ®,å°¤å…¶åœ¨é‚£äº›<br>å—èµ¢å®¶é€šåƒæ•ˆåº”å½±å“çš„è¡Œä¸šã€‚æˆ‘ä»¬ä¹Ÿè®¸å¾ˆå–œæ¬¢é‚£äº›æˆåŠŸæ•…äº‹,ä½†å¤ª<br>æŠŠå®ƒä»¬å½“å›äº‹æ˜¯ä¸åº”è¯¥çš„,å› ä¸ºæˆ‘ä»¬å¹¶æ²¡æœ‰çœ‹åˆ°å…¨éƒ¨äº‹å®ã€‚</p><p>åˆ—å¤«Â·æ‰˜å°”æ–¯æ³°è¯´è¿‡,æ‰€æœ‰å¹¸è¿çš„å®¶åº­éƒ½æ˜¯ä¸€æ ·çš„,è€Œä¸å¹¸çš„å®¶åº­<br>å„æœ‰å„çš„ä¸å¹¸ã€‚äººä»¬è¢«å‘ç°çŠ¯äº†â€å–œæ¬¢è‹¹æœèƒœäºå–œæ¬¢æ©˜å­,å–œæ¬¢æ©˜å­èƒœäº<br>æ¢¨,å–œæ¬¢æ¢¨èƒœäºè‹¹æœâ€çš„é”™è¯¯,è¿™è§†å…·ä½“é—®é¢˜è€Œå®šã€‚<br>æˆ‘ä»¬åº”è¯¥é¿å…æŸæ‹‰å›¾åŒ–çš„æ€æƒ³ã€‚æŸæ‹‰å›¾åŒ–æ˜¯è‡ªä¸Šè€Œä¸‹çš„,ç¨‹å¼åŒ–çš„,<br>å°é—­æ€ç»´çš„,è‡ªæˆ‘æœåŠ¡çš„å•†å“åŒ–çš„,éæŸæ‹‰å›¾åŒ–æ˜¯è‡ªä¸‹è€Œä¸Šçš„å¼€æ”¾<br>æ€ç»´çš„,æ€€ç–‘çš„ç»éªŒçš„ã€‚<br>â€”-èŠ‚é€‰ã€Šé»‘å¤©é¹…ã€‹</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
            <tag> æ–‡ç«  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goè¯­è¨€åŸºç¡€â€”â€”å¹¶å‘</title>
      <link href="/hypo-Z.github.io/2021/11/24/go-yu-yan-ji-chu-bing-fa/"/>
      <url>/hypo-Z.github.io/2021/11/24/go-yu-yan-ji-chu-bing-fa/</url>
      
        <content type="html"><![CDATA[<h1 id="Goè¯­è¨€åŸºç¡€â€”â€”å¹¶å‘"><a href="#Goè¯­è¨€åŸºç¡€â€”â€”å¹¶å‘" class="headerlink" title="Goè¯­è¨€åŸºç¡€â€”â€”å¹¶å‘"></a>Goè¯­è¨€åŸºç¡€â€”â€”å¹¶å‘</h1><p>å¹¶å‘æ˜¯ç¼–ç¨‹é‡Œé¢ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼ŒGoè¯­è¨€åœ¨è¯­è¨€å±‚é¢å¤©ç”Ÿæ”¯æŒå¹¶å‘ï¼Œè¿™ä¹Ÿæ˜¯Goè¯­è¨€æµè¡Œçš„ä¸€ä¸ªå¾ˆé‡è¦çš„åŸå› ã€‚</p><h1 id="Goè¯­è¨€ä¸­çš„å¹¶å‘ç¼–ç¨‹"><a href="#Goè¯­è¨€ä¸­çš„å¹¶å‘ç¼–ç¨‹" class="headerlink" title="Goè¯­è¨€ä¸­çš„å¹¶å‘ç¼–ç¨‹"></a>Goè¯­è¨€ä¸­çš„å¹¶å‘ç¼–ç¨‹</h1><h2 id="å¹¶å‘ä¸å¹¶è¡Œ"><a href="#å¹¶å‘ä¸å¹¶è¡Œ" class="headerlink" title="å¹¶å‘ä¸å¹¶è¡Œ"></a>å¹¶å‘ä¸å¹¶è¡Œ</h2><p>å¹¶å‘ï¼šåŒä¸€æ—¶é—´æ®µå†…æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼ˆä½ åœ¨ç”¨å¾®ä¿¡å’Œä¸¤ä¸ªå¥³æœ‹å‹èŠå¤©ï¼‰ã€‚</p><p>å¹¶è¡Œï¼šåŒä¸€æ—¶åˆ»æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼ˆä½ å’Œä½ æœ‹å‹éƒ½åœ¨ç”¨å¾®ä¿¡å’Œå¥³æœ‹å‹èŠå¤©ï¼‰ã€‚</p><p>Goè¯­è¨€çš„å¹¶å‘é€šè¿‡<code>goroutine</code>å®ç°ã€‚<code>goroutine</code>ç±»ä¼¼äºçº¿ç¨‹ï¼Œå±äºç”¨æˆ·æ€çš„çº¿ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦åˆ›å»ºæˆåƒä¸Šä¸‡ä¸ª<code>goroutine</code>å¹¶å‘å·¥ä½œã€‚<code>goroutine</code>æ˜¯ç”±Goè¯­è¨€çš„è¿è¡Œæ—¶ï¼ˆruntimeï¼‰è°ƒåº¦å®Œæˆï¼Œè€Œçº¿ç¨‹æ˜¯ç”±æ“ä½œç³»ç»Ÿè°ƒåº¦å®Œæˆã€‚</p><p>Goè¯­è¨€è¿˜æä¾›<code>channel</code>åœ¨å¤šä¸ª<code>goroutine</code>é—´è¿›è¡Œé€šä¿¡ã€‚<code>goroutine</code>å’Œ<code>channel</code>æ˜¯ Go è¯­è¨€ç§‰æ‰¿çš„ CSPï¼ˆCommunicating Sequential Processï¼‰å¹¶å‘æ¨¡å¼çš„é‡è¦å®ç°åŸºç¡€ã€‚</p><h2 id="goroutine"><a href="#goroutine" class="headerlink" title="goroutine"></a>goroutine</h2><p>åœ¨java/c++ä¸­æˆ‘ä»¬è¦å®ç°å¹¶å‘ç¼–ç¨‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦è‡ªå·±ç»´æŠ¤ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œå¹¶ä¸”éœ€è¦è‡ªå·±å»åŒ…è£…ä¸€ä¸ªåˆä¸€ä¸ªçš„ä»»åŠ¡ï¼ŒåŒæ—¶éœ€è¦è‡ªå·±å»è°ƒåº¦çº¿ç¨‹æ‰§è¡Œä»»åŠ¡å¹¶ç»´æŠ¤ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œè¿™ä¸€åˆ‡é€šå¸¸ä¼šè€—è´¹ç¨‹åºå‘˜å¤§é‡çš„å¿ƒæ™ºã€‚é‚£ä¹ˆèƒ½ä¸èƒ½æœ‰ä¸€ç§æœºåˆ¶ï¼Œç¨‹åºå‘˜åªéœ€è¦å®šä¹‰å¾ˆå¤šä¸ªä»»åŠ¡ï¼Œè®©ç³»ç»Ÿå»å¸®åŠ©æˆ‘ä»¬æŠŠè¿™äº›ä»»åŠ¡åˆ†é…åˆ°CPUä¸Šå®ç°å¹¶å‘æ‰§è¡Œå‘¢ï¼Ÿ</p><p>Goè¯­è¨€ä¸­çš„<code>goroutine</code>å°±æ˜¯è¿™æ ·ä¸€ç§æœºåˆ¶ï¼Œ<code>goroutine</code>çš„æ¦‚å¿µç±»ä¼¼äºçº¿ç¨‹ï¼Œä½† <code>goroutine</code>æ˜¯ç”±Goçš„è¿è¡Œæ—¶ï¼ˆruntimeï¼‰è°ƒåº¦å’Œç®¡ç†çš„ã€‚Goç¨‹åºä¼šæ™ºèƒ½åœ°å°† goroutine ä¸­çš„ä»»åŠ¡åˆç†åœ°åˆ†é…ç»™æ¯ä¸ªCPUã€‚Goè¯­è¨€ä¹‹æ‰€ä»¥è¢«ç§°ä¸ºç°ä»£åŒ–çš„ç¼–ç¨‹è¯­è¨€ï¼Œå°±æ˜¯å› ä¸ºå®ƒåœ¨è¯­è¨€å±‚é¢å·²ç»å†…ç½®äº†è°ƒåº¦å’Œä¸Šä¸‹æ–‡åˆ‡æ¢çš„æœºåˆ¶ã€‚</p><p>åœ¨Goè¯­è¨€ç¼–ç¨‹ä¸­ä½ ä¸éœ€è¦å»è‡ªå·±å†™è¿›ç¨‹ã€çº¿ç¨‹ã€åç¨‹ï¼Œä½ çš„æŠ€èƒ½åŒ…é‡Œåªæœ‰ä¸€ä¸ªæŠ€èƒ½â€“<code>goroutine</code>ï¼Œå½“ä½ éœ€è¦è®©æŸä¸ªä»»åŠ¡å¹¶å‘æ‰§è¡Œçš„æ—¶å€™ï¼Œä½ åªéœ€è¦æŠŠè¿™ä¸ªä»»åŠ¡åŒ…è£…æˆä¸€ä¸ªå‡½æ•°ï¼Œå¼€å¯ä¸€ä¸ª<code>goroutine</code>å»æ‰§è¡Œè¿™ä¸ªå‡½æ•°å°±å¯ä»¥äº†ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ç²—æš´ã€‚</p><h3 id="ä½¿ç”¨goroutine"><a href="#ä½¿ç”¨goroutine" class="headerlink" title="ä½¿ç”¨goroutine"></a>ä½¿ç”¨goroutine</h3><p>Goè¯­è¨€ä¸­ä½¿ç”¨<code>goroutine</code>éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™åœ¨å‰é¢åŠ ä¸Š<code>go</code>å…³é”®å­—ï¼Œå°±å¯ä»¥ä¸ºä¸€ä¸ªå‡½æ•°åˆ›å»ºä¸€ä¸ª<code>goroutine</code>ã€‚</p><p>ä¸€ä¸ª<code>goroutine</code>å¿…å®šå¯¹åº”ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥åˆ›å»ºå¤šä¸ª<code>goroutine</code>å»æ‰§è¡Œç›¸åŒçš„å‡½æ•°ã€‚</p><h3 id="å¯åŠ¨å•ä¸ªgoroutine"><a href="#å¯åŠ¨å•ä¸ªgoroutine" class="headerlink" title="å¯åŠ¨å•ä¸ªgoroutine"></a>å¯åŠ¨å•ä¸ªgoroutine</h3><p>å¯åŠ¨goroutineçš„æ–¹å¼éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨è°ƒç”¨çš„å‡½æ•°ï¼ˆæ™®é€šå‡½æ•°å’ŒåŒ¿åå‡½æ•°ï¼‰å‰é¢åŠ ä¸Šä¸€ä¸ª<code>go</code>å…³é”®å­—ã€‚</p><p>ä¸¾ä¸ªä¾‹å­å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Hello Goroutine!"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"main goroutine done!"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸ªç¤ºä¾‹ä¸­helloå‡½æ•°å’Œä¸‹é¢çš„è¯­å¥æ˜¯ä¸²è¡Œçš„ï¼Œæ‰§è¡Œçš„ç»“æœæ˜¯æ‰“å°å®Œ<code>Hello Goroutine!</code>åæ‰“å°<code>main goroutine done!</code>ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨è°ƒç”¨helloå‡½æ•°å‰é¢åŠ ä¸Šå…³é”®å­—<code>go</code>ï¼Œä¹Ÿå°±æ˜¯å¯åŠ¨ä¸€ä¸ªgoroutineå»æ‰§è¡Œhelloè¿™ä¸ªå‡½æ•°ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">go</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å¯åŠ¨å¦å¤–ä¸€ä¸ªgoroutineå»æ‰§è¡Œhelloå‡½æ•°</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"main goroutine done!"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸€æ¬¡çš„æ‰§è¡Œç»“æœåªæ‰“å°äº†<code>main goroutine done!</code>ï¼Œå¹¶æ²¡æœ‰æ‰“å°<code>Hello Goroutine!</code>ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>åœ¨ç¨‹åºå¯åŠ¨æ—¶ï¼ŒGoç¨‹åºå°±ä¼šä¸º<code>main()</code>å‡½æ•°åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„<code>goroutine</code>ã€‚</p><p>å½“main()å‡½æ•°è¿”å›çš„æ—¶å€™è¯¥<code>goroutine</code>å°±ç»“æŸäº†ï¼Œæ‰€æœ‰åœ¨<code>main()</code>å‡½æ•°ä¸­å¯åŠ¨çš„<code>goroutine</code>ä¼šä¸€åŒç»“æŸï¼Œ<code>main</code>å‡½æ•°æ‰€åœ¨çš„<code>goroutine</code>å°±åƒæ˜¯æƒåˆ©çš„æ¸¸æˆä¸­çš„å¤œç‹ï¼Œå…¶ä»–çš„<code>goroutine</code>éƒ½æ˜¯å¼‚é¬¼ï¼Œå¤œç‹ä¸€æ­»å®ƒè½¬åŒ–çš„é‚£äº›å¼‚é¬¼ä¹Ÿå°±å…¨éƒ¨GGäº†ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬è¦æƒ³åŠæ³•è®©mainå‡½æ•°ç­‰ä¸€ç­‰helloå‡½æ•°ï¼Œæœ€ç®€å•ç²—æš´çš„æ–¹å¼å°±æ˜¯<code>time.Sleep</code>äº†ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">go</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å¯åŠ¨å¦å¤–ä¸€ä¸ªgoroutineå»æ‰§è¡Œhelloå‡½æ•°</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"main goroutine done!"</span><span class="token punctuation">)</span>time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰§è¡Œä¸Šé¢çš„ä»£ç ä½ ä¼šå‘ç°ï¼Œè¿™ä¸€æ¬¡å…ˆæ‰“å°<code>main goroutine done!</code>ï¼Œç„¶åç´§æ¥ç€æ‰“å°<code>Hello Goroutine!</code>ã€‚</p><p>é¦–å…ˆä¸ºä»€ä¹ˆä¼šå…ˆæ‰“å°<code>main goroutine done!</code>æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨åˆ›å»ºæ–°çš„goroutineçš„æ—¶å€™éœ€è¦èŠ±è´¹ä¸€äº›æ—¶é—´ï¼Œè€Œæ­¤æ—¶mainå‡½æ•°æ‰€åœ¨çš„<code>goroutine</code>æ˜¯ç»§ç»­æ‰§è¡Œçš„ã€‚</p><h3 id="å¯åŠ¨å¤šä¸ªgoroutine"><a href="#å¯åŠ¨å¤šä¸ªgoroutine" class="headerlink" title="å¯åŠ¨å¤šä¸ªgoroutine"></a>å¯åŠ¨å¤šä¸ªgoroutine</h3><p>åœ¨Goè¯­è¨€ä¸­å®ç°å¹¶å‘å°±æ˜¯è¿™æ ·ç®€å•ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¯åŠ¨å¤šä¸ª<code>goroutine</code>ã€‚è®©æˆ‘ä»¬å†æ¥ä¸€ä¸ªä¾‹å­ï¼š ï¼ˆè¿™é‡Œä½¿ç”¨äº†<code>sync.WaitGroup</code>æ¥å®ç°goroutineçš„åŒæ­¥ï¼‰</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> wg sync<span class="token punctuation">.</span>WaitGroup<span class="token keyword">func</span> <span class="token function">hello</span><span class="token punctuation">(</span>i <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">defer</span> wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// goroutineç»“æŸå°±ç™»è®°-1</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Hello Goroutine!"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// å¯åŠ¨ä¸€ä¸ªgoroutineå°±ç™»è®°+1</span><span class="token keyword">go</span> <span class="token function">hello</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">}</span>wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ç­‰å¾…æ‰€æœ‰ç™»è®°çš„goroutineéƒ½ç»“æŸ</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¤šæ¬¡æ‰§è¡Œä¸Šé¢çš„ä»£ç ï¼Œä¼šå‘ç°æ¯æ¬¡æ‰“å°çš„æ•°å­—çš„é¡ºåºéƒ½ä¸ä¸€è‡´ã€‚è¿™æ˜¯å› ä¸º10ä¸ª<code>goroutine</code>æ˜¯å¹¶å‘æ‰§è¡Œçš„ï¼Œè€Œ<code>goroutine</code>çš„è°ƒåº¦æ˜¯éšæœºçš„ã€‚</p><h2 id="goroutineä¸çº¿ç¨‹"><a href="#goroutineä¸çº¿ç¨‹" class="headerlink" title="goroutineä¸çº¿ç¨‹"></a>goroutineä¸çº¿ç¨‹</h2><h3 id="å¯å¢é•¿çš„æ ˆ"><a href="#å¯å¢é•¿çš„æ ˆ" class="headerlink" title="å¯å¢é•¿çš„æ ˆ"></a>å¯å¢é•¿çš„æ ˆ</h3><p>OSçº¿ç¨‹ï¼ˆæ“ä½œç³»ç»Ÿçº¿ç¨‹ï¼‰ä¸€èˆ¬éƒ½æœ‰å›ºå®šçš„æ ˆå†…å­˜ï¼ˆé€šå¸¸ä¸º2MBï¼‰,ä¸€ä¸ª<code>goroutine</code>çš„æ ˆåœ¨å…¶ç”Ÿå‘½å‘¨æœŸå¼€å§‹æ—¶åªæœ‰å¾ˆå°çš„æ ˆï¼ˆå…¸å‹æƒ…å†µä¸‹2KBï¼‰ï¼Œ<code>goroutine</code>çš„æ ˆä¸æ˜¯å›ºå®šçš„ï¼Œä»–å¯ä»¥æŒ‰éœ€å¢å¤§å’Œç¼©å°ï¼Œ<code>goroutine</code>çš„æ ˆå¤§å°é™åˆ¶å¯ä»¥è¾¾åˆ°1GBï¼Œè™½ç„¶æå°‘ä¼šç”¨åˆ°è¿™ä¹ˆå¤§ã€‚æ‰€ä»¥åœ¨Goè¯­è¨€ä¸­ä¸€æ¬¡åˆ›å»ºåä¸‡å·¦å³çš„<code>goroutine</code>ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p><h3 id="goroutineè°ƒåº¦"><a href="#goroutineè°ƒåº¦" class="headerlink" title="goroutineè°ƒåº¦"></a>goroutineè°ƒåº¦</h3><p><code>GPM</code>æ˜¯Goè¯­è¨€è¿è¡Œæ—¶ï¼ˆruntimeï¼‰å±‚é¢çš„å®ç°ï¼Œæ˜¯goè¯­è¨€è‡ªå·±å®ç°çš„ä¸€å¥—è°ƒåº¦ç³»ç»Ÿã€‚åŒºåˆ«äºæ“ä½œç³»ç»Ÿè°ƒåº¦OSçº¿ç¨‹ã€‚</p><ul><li><code>G</code>å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯ä¸ªgoroutineçš„ï¼Œé‡Œé¢é™¤äº†å­˜æ”¾æœ¬goroutineä¿¡æ¯å¤– è¿˜æœ‰ä¸æ‰€åœ¨Pçš„ç»‘å®šç­‰ä¿¡æ¯ã€‚</li><li><code>P</code>ç®¡ç†ç€ä¸€ç»„goroutineé˜Ÿåˆ—ï¼ŒPé‡Œé¢ä¼šå­˜å‚¨å½“å‰goroutineè¿è¡Œçš„ä¸Šä¸‹æ–‡ç¯å¢ƒï¼ˆå‡½æ•°æŒ‡é’ˆï¼Œå †æ ˆåœ°å€åŠåœ°å€è¾¹ç•Œï¼‰ï¼ŒPä¼šå¯¹è‡ªå·±ç®¡ç†çš„goroutineé˜Ÿåˆ—åšä¸€äº›è°ƒåº¦ï¼ˆæ¯”å¦‚æŠŠå ç”¨CPUæ—¶é—´è¾ƒé•¿çš„goroutineæš‚åœã€è¿è¡Œåç»­çš„goroutineç­‰ç­‰ï¼‰å½“è‡ªå·±çš„é˜Ÿåˆ—æ¶ˆè´¹å®Œäº†å°±å»å…¨å±€é˜Ÿåˆ—é‡Œå–ï¼Œå¦‚æœå…¨å±€é˜Ÿåˆ—é‡Œä¹Ÿæ¶ˆè´¹å®Œäº†ä¼šå»å…¶ä»–Pçš„é˜Ÿåˆ—é‡ŒæŠ¢ä»»åŠ¡ã€‚</li><li><code>Mï¼ˆmachineï¼‰</code>æ˜¯Goè¿è¡Œæ—¶ï¼ˆruntimeï¼‰å¯¹æ“ä½œç³»ç»Ÿå†…æ ¸çº¿ç¨‹çš„è™šæ‹Ÿï¼Œ Mä¸å†…æ ¸çº¿ç¨‹ä¸€èˆ¬æ˜¯ä¸€ä¸€æ˜ å°„çš„å…³ç³»ï¼Œ ä¸€ä¸ªgroutineæœ€ç»ˆæ˜¯è¦æ”¾åˆ°Mä¸Šæ‰§è¡Œçš„ï¼›</li></ul><p>Pä¸Mä¸€èˆ¬ä¹Ÿæ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚ä»–ä»¬å…³ç³»æ˜¯ï¼š Pç®¡ç†ç€ä¸€ç»„GæŒ‚è½½åœ¨Mä¸Šè¿è¡Œã€‚å½“ä¸€ä¸ªGé•¿ä¹…é˜»å¡åœ¨ä¸€ä¸ªMä¸Šæ—¶ï¼Œruntimeä¼šæ–°å»ºä¸€ä¸ªMï¼Œé˜»å¡Gæ‰€åœ¨çš„Pä¼šæŠŠå…¶ä»–çš„G æŒ‚è½½åœ¨æ–°å»ºçš„Mä¸Šã€‚å½“æ—§çš„Gé˜»å¡å®Œæˆæˆ–è€…è®¤ä¸ºå…¶å·²ç»æ­»æ‰æ—¶ å›æ”¶æ—§çš„Mã€‚</p><p>Pçš„ä¸ªæ•°æ˜¯é€šè¿‡<code>runtime.GOMAXPROCS</code>è®¾å®šï¼ˆæœ€å¤§256ï¼‰ï¼ŒGo1.5ç‰ˆæœ¬ä¹‹åé»˜è®¤ä¸ºç‰©ç†çº¿ç¨‹æ•°ã€‚ åœ¨å¹¶å‘é‡å¤§çš„æ—¶å€™ä¼šå¢åŠ ä¸€äº›På’ŒMï¼Œä½†ä¸ä¼šå¤ªå¤šï¼Œåˆ‡æ¢å¤ªé¢‘ç¹çš„è¯å¾—ä¸å¿å¤±ã€‚</p><p>å•ä»çº¿ç¨‹è°ƒåº¦è®²ï¼ŒGoè¯­è¨€ç›¸æ¯”èµ·å…¶ä»–è¯­è¨€çš„ä¼˜åŠ¿åœ¨äºOSçº¿ç¨‹æ˜¯ç”±OSå†…æ ¸æ¥è°ƒåº¦çš„ï¼Œ<code>goroutine</code>åˆ™æ˜¯ç”±Goè¿è¡Œæ—¶ï¼ˆruntimeï¼‰è‡ªå·±çš„è°ƒåº¦å™¨è°ƒåº¦çš„ï¼Œè¿™ä¸ªè°ƒåº¦å™¨ä½¿ç”¨ä¸€ä¸ªç§°ä¸ºm:nè°ƒåº¦çš„æŠ€æœ¯ï¼ˆå¤ç”¨/è°ƒåº¦mä¸ªgoroutineåˆ°nä¸ªOSçº¿ç¨‹ï¼‰ã€‚ å…¶ä¸€å¤§ç‰¹ç‚¹æ˜¯goroutineçš„è°ƒåº¦æ˜¯åœ¨ç”¨æˆ·æ€ä¸‹å®Œæˆçš„ï¼Œ ä¸æ¶‰åŠå†…æ ¸æ€ä¸ç”¨æˆ·æ€ä¹‹é—´çš„é¢‘ç¹åˆ‡æ¢ï¼ŒåŒ…æ‹¬å†…å­˜çš„åˆ†é…ä¸é‡Šæ”¾ï¼Œéƒ½æ˜¯åœ¨ç”¨æˆ·æ€ç»´æŠ¤ç€ä¸€å—å¤§çš„å†…å­˜æ± ï¼Œ ä¸ç›´æ¥è°ƒç”¨ç³»ç»Ÿçš„mallocå‡½æ•°ï¼ˆé™¤éå†…å­˜æ± éœ€è¦æ”¹å˜ï¼‰ï¼Œæˆæœ¬æ¯”è°ƒåº¦OSçº¿ç¨‹ä½å¾ˆå¤šã€‚ å¦ä¸€æ–¹é¢å……åˆ†åˆ©ç”¨äº†å¤šæ ¸çš„ç¡¬ä»¶èµ„æºï¼Œè¿‘ä¼¼çš„æŠŠè‹¥å¹²goroutineå‡åˆ†åœ¨ç‰©ç†çº¿ç¨‹ä¸Šï¼Œ å†åŠ ä¸Šæœ¬èº«goroutineçš„è¶…è½»é‡ï¼Œä»¥ä¸Šç§ç§ä¿è¯äº†goè°ƒåº¦æ–¹é¢çš„æ€§èƒ½ã€‚</p><p><a href="https://www.cnblogs.com/sunsky303/p/9705727.html">ç‚¹æˆ‘äº†è§£æ›´å¤š</a></p><h3 id="GOMAXPROCS"><a href="#GOMAXPROCS" class="headerlink" title="GOMAXPROCS"></a>GOMAXPROCS</h3><p>Goè¿è¡Œæ—¶çš„è°ƒåº¦å™¨ä½¿ç”¨<code>GOMAXPROCS</code>å‚æ•°æ¥ç¡®å®šéœ€è¦ä½¿ç”¨å¤šå°‘ä¸ªOSçº¿ç¨‹æ¥åŒæ—¶æ‰§è¡ŒGoä»£ç ã€‚é»˜è®¤å€¼æ˜¯æœºå™¨ä¸Šçš„CPUæ ¸å¿ƒæ•°ã€‚ä¾‹å¦‚åœ¨ä¸€ä¸ª8æ ¸å¿ƒçš„æœºå™¨ä¸Šï¼Œè°ƒåº¦å™¨ä¼šæŠŠGoä»£ç åŒæ—¶è°ƒåº¦åˆ°8ä¸ªOSçº¿ç¨‹ä¸Šï¼ˆGOMAXPROCSæ˜¯m:nè°ƒåº¦ä¸­çš„nï¼‰ã€‚</p><p>Goè¯­è¨€ä¸­å¯ä»¥é€šè¿‡<code>runtime.GOMAXPROCS()</code>å‡½æ•°è®¾ç½®å½“å‰ç¨‹åºå¹¶å‘æ—¶å ç”¨çš„CPUé€»è¾‘æ ¸å¿ƒæ•°ã€‚</p><p>Go1.5ç‰ˆæœ¬ä¹‹å‰ï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯å•æ ¸å¿ƒæ‰§è¡Œã€‚Go1.5ç‰ˆæœ¬ä¹‹åï¼Œé»˜è®¤ä½¿ç”¨å…¨éƒ¨çš„CPUé€»è¾‘æ ¸å¿ƒæ•°ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†ä»»åŠ¡åˆ†é…åˆ°ä¸åŒçš„CPUé€»è¾‘æ ¸å¿ƒä¸Šå®ç°å¹¶è¡Œçš„æ•ˆæœï¼Œè¿™é‡Œä¸¾ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"A:"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"B:"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>runtime<span class="token punctuation">.</span><span class="token function">GOMAXPROCS</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">go</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">go</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span>time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸¤ä¸ªä»»åŠ¡åªæœ‰ä¸€ä¸ªé€»è¾‘æ ¸å¿ƒï¼Œæ­¤æ—¶æ˜¯åšå®Œä¸€ä¸ªä»»åŠ¡å†åšå¦ä¸€ä¸ªä»»åŠ¡ã€‚ å°†é€»è¾‘æ ¸å¿ƒæ•°è®¾ä¸º2ï¼Œæ­¤æ—¶ä¸¤ä¸ªä»»åŠ¡å¹¶è¡Œæ‰§è¡Œï¼Œä»£ç å¦‚ä¸‹ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"A:"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"B:"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>runtime<span class="token punctuation">.</span><span class="token function">GOMAXPROCS</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token keyword">go</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">go</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span>time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Goè¯­è¨€ä¸­çš„æ“ä½œç³»ç»Ÿçº¿ç¨‹å’Œgoroutineçš„å…³ç³»ï¼š</p><ol><li>ä¸€ä¸ªæ“ä½œç³»ç»Ÿçº¿ç¨‹å¯¹åº”ç”¨æˆ·æ€å¤šä¸ªgoroutineã€‚</li><li>goç¨‹åºå¯ä»¥åŒæ—¶ä½¿ç”¨å¤šä¸ªæ“ä½œç³»ç»Ÿçº¿ç¨‹ã€‚</li><li>goroutineå’ŒOSçº¿ç¨‹æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ï¼Œå³m:nã€‚</li></ol><h2 id="channel"><a href="#channel" class="headerlink" title="channel"></a>channel</h2><p>å•çº¯åœ°å°†å‡½æ•°å¹¶å‘æ‰§è¡Œæ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚å‡½æ•°ä¸å‡½æ•°é—´éœ€è¦äº¤æ¢æ•°æ®æ‰èƒ½ä½“ç°å¹¶å‘æ‰§è¡Œå‡½æ•°çš„æ„ä¹‰ã€‚</p><p>è™½ç„¶å¯ä»¥ä½¿ç”¨å…±äº«å†…å­˜è¿›è¡Œæ•°æ®äº¤æ¢ï¼Œä½†æ˜¯å…±äº«å†…å­˜åœ¨ä¸åŒçš„<code>goroutine</code>ä¸­å®¹æ˜“å‘ç”Ÿç«æ€é—®é¢˜ã€‚ä¸ºäº†ä¿è¯æ•°æ®äº¤æ¢çš„æ­£ç¡®æ€§ï¼Œå¿…é¡»ä½¿ç”¨äº’æ–¥é‡å¯¹å†…å­˜è¿›è¡ŒåŠ é”ï¼Œè¿™ç§åšæ³•åŠ¿å¿…é€ æˆæ€§èƒ½é—®é¢˜ã€‚</p><p>Goè¯­è¨€çš„å¹¶å‘æ¨¡å‹æ˜¯<code>CSPï¼ˆCommunicating Sequential Processesï¼‰</code>ï¼Œæå€¡<strong>é€šè¿‡é€šä¿¡å…±äº«å†…å­˜</strong>è€Œä¸æ˜¯<strong>é€šè¿‡å…±äº«å†…å­˜è€Œå®ç°é€šä¿¡</strong>ã€‚</p><p>å¦‚æœè¯´<code>goroutine</code>æ˜¯Goç¨‹åºå¹¶å‘çš„æ‰§è¡Œä½“ï¼Œ<code>channel</code>å°±æ˜¯å®ƒä»¬ä¹‹é—´çš„è¿æ¥ã€‚<code>channel</code>æ˜¯å¯ä»¥è®©ä¸€ä¸ª<code>goroutine</code>å‘é€ç‰¹å®šå€¼åˆ°å¦ä¸€ä¸ª<code>goroutine</code>çš„é€šä¿¡æœºåˆ¶ã€‚</p><p>Go è¯­è¨€ä¸­çš„é€šé“ï¼ˆchannelï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»å‹ã€‚é€šé“åƒä¸€ä¸ªä¼ é€å¸¦æˆ–è€…é˜Ÿåˆ—ï¼Œæ€»æ˜¯éµå¾ªå…ˆå…¥å…ˆå‡ºï¼ˆFirst In First Outï¼‰çš„è§„åˆ™ï¼Œä¿è¯æ”¶å‘æ•°æ®çš„é¡ºåºã€‚æ¯ä¸€ä¸ªé€šé“éƒ½æ˜¯ä¸€ä¸ªå…·ä½“ç±»å‹çš„å¯¼ç®¡ï¼Œä¹Ÿå°±æ˜¯å£°æ˜channelçš„æ—¶å€™éœ€è¦ä¸ºå…¶æŒ‡å®šå…ƒç´ ç±»å‹ã€‚</p><h3 id="channelç±»å‹"><a href="#channelç±»å‹" class="headerlink" title="channelç±»å‹"></a>channelç±»å‹</h3><p><code>channel</code>æ˜¯ä¸€ç§ç±»å‹ï¼Œä¸€ç§å¼•ç”¨ç±»å‹ã€‚å£°æ˜é€šé“ç±»å‹çš„æ ¼å¼å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> å˜é‡ <span class="token keyword">chan</span> å…ƒç´ ç±»å‹<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸¾å‡ ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> ch1 <span class="token keyword">chan</span> <span class="token builtin">int</span>   <span class="token comment">// å£°æ˜ä¸€ä¸ªä¼ é€’æ•´å‹çš„é€šé“</span><span class="token keyword">var</span> ch2 <span class="token keyword">chan</span> <span class="token builtin">bool</span>  <span class="token comment">// å£°æ˜ä¸€ä¸ªä¼ é€’å¸ƒå°”å‹çš„é€šé“</span><span class="token keyword">var</span> ch3 <span class="token keyword">chan</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token comment">// å£°æ˜ä¸€ä¸ªä¼ é€’intåˆ‡ç‰‡çš„é€šé“</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="åˆ›å»ºchannel"><a href="#åˆ›å»ºchannel" class="headerlink" title="åˆ›å»ºchannel"></a>åˆ›å»ºchannel</h3><p>é€šé“æ˜¯å¼•ç”¨ç±»å‹ï¼Œé€šé“ç±»å‹çš„ç©ºå€¼æ˜¯<code>nil</code>ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> ch <span class="token keyword">chan</span> <span class="token builtin">int</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span> <span class="token comment">// &lt;nil&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å£°æ˜çš„é€šé“åéœ€è¦ä½¿ç”¨<code>make</code>å‡½æ•°åˆå§‹åŒ–ä¹‹åæ‰èƒ½ä½¿ç”¨ã€‚</p><p>åˆ›å»ºchannelçš„æ ¼å¼å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> å…ƒç´ ç±»å‹<span class="token punctuation">,</span> <span class="token punctuation">[</span>ç¼“å†²å¤§å°<span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>channelçš„ç¼“å†²å¤§å°æ˜¯å¯é€‰çš„ã€‚</p><p>ä¸¾å‡ ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go">ch4 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span>ch5 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">bool</span><span class="token punctuation">)</span>ch6 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="channelæ“ä½œ"><a href="#channelæ“ä½œ" class="headerlink" title="channelæ“ä½œ"></a>channelæ“ä½œ</h3><p>é€šé“æœ‰å‘é€ï¼ˆsendï¼‰ã€æ¥æ”¶(receiveï¼‰å’Œå…³é—­ï¼ˆcloseï¼‰ä¸‰ç§æ“ä½œã€‚</p><p>å‘é€å’Œæ¥æ”¶éƒ½ä½¿ç”¨<code>&lt;-</code>ç¬¦å·ã€‚</p><p>ç°åœ¨æˆ‘ä»¬å…ˆä½¿ç”¨ä»¥ä¸‹è¯­å¥å®šä¹‰ä¸€ä¸ªé€šé“ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go">ch <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="å‘é€"><a href="#å‘é€" class="headerlink" title="å‘é€"></a>å‘é€</h4><p>å°†ä¸€ä¸ªå€¼å‘é€åˆ°é€šé“ä¸­ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go">ch <span class="token operator">&lt;-</span> <span class="token number">10</span> <span class="token comment">// æŠŠ10å‘é€åˆ°chä¸­</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ¥æ”¶"><a href="#æ¥æ”¶" class="headerlink" title="æ¥æ”¶"></a>æ¥æ”¶</h4><p>ä»ä¸€ä¸ªé€šé“ä¸­æ¥æ”¶å€¼ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go">x <span class="token operator">:=</span> <span class="token operator">&lt;-</span> ch <span class="token comment">// ä»chä¸­æ¥æ”¶å€¼å¹¶èµ‹å€¼ç»™å˜é‡x</span><span class="token operator">&lt;-</span>ch       <span class="token comment">// ä»chä¸­æ¥æ”¶å€¼ï¼Œå¿½ç•¥ç»“æœ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="å…³é—­"><a href="#å…³é—­" class="headerlink" title="å…³é—­"></a>å…³é—­</h4><p>æˆ‘ä»¬é€šè¿‡è°ƒç”¨å†…ç½®çš„<code>close</code>å‡½æ•°æ¥å…³é—­é€šé“ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token function">close</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å…³äºå…³é—­é€šé“éœ€è¦æ³¨æ„çš„äº‹æƒ…æ˜¯ï¼Œåªæœ‰åœ¨é€šçŸ¥æ¥æ”¶æ–¹goroutineæ‰€æœ‰çš„æ•°æ®éƒ½å‘é€å®Œæ¯•çš„æ—¶å€™æ‰éœ€è¦å…³é—­é€šé“ã€‚é€šé“æ˜¯å¯ä»¥è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶çš„ï¼Œå®ƒå’Œå…³é—­æ–‡ä»¶æ˜¯ä¸ä¸€æ ·çš„ï¼Œåœ¨ç»“æŸæ“ä½œä¹‹åå…³é—­æ–‡ä»¶æ˜¯å¿…é¡»è¦åšçš„ï¼Œä½†å…³é—­é€šé“ä¸æ˜¯å¿…é¡»çš„ã€‚</p><p>å…³é—­åçš„é€šé“æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ol><li>å¯¹ä¸€ä¸ªå…³é—­çš„é€šé“å†å‘é€å€¼å°±ä¼šå¯¼è‡´panicã€‚</li><li>å¯¹ä¸€ä¸ªå…³é—­çš„é€šé“è¿›è¡Œæ¥æ”¶ä¼šä¸€ç›´è·å–å€¼ç›´åˆ°é€šé“ä¸ºç©ºã€‚</li><li>å¯¹ä¸€ä¸ªå…³é—­çš„å¹¶ä¸”æ²¡æœ‰å€¼çš„é€šé“æ‰§è¡Œæ¥æ”¶æ“ä½œä¼šå¾—åˆ°å¯¹åº”ç±»å‹çš„é›¶å€¼ã€‚</li><li>å…³é—­ä¸€ä¸ªå·²ç»å…³é—­çš„é€šé“ä¼šå¯¼è‡´panicã€‚</li></ol><h3 id="æ— ç¼“å†²çš„é€šé“"><a href="#æ— ç¼“å†²çš„é€šé“" class="headerlink" title="æ— ç¼“å†²çš„é€šé“"></a>æ— ç¼“å†²çš„é€šé“</h3><p>æ— ç¼“å†²çš„é€šé“åˆç§°ä¸ºé˜»å¡çš„é€šé“ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¸‹é¢çš„ä»£ç ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>ch <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span>ch <span class="token operator">&lt;-</span> <span class="token number">10</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"å‘é€æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šé¢è¿™æ®µä»£ç èƒ½å¤Ÿé€šè¿‡ç¼–è¯‘ï¼Œä½†æ˜¯æ‰§è¡Œçš„æ—¶å€™ä¼šå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">fatal error: all goroutines are asleep - deadlock<span class="token operator">!</span>goroutine <span class="token number">1</span> <span class="token punctuation">[</span>chan send<span class="token punctuation">]</span>:main.main<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">..</span>./src/github.com/Q1mi/studygo/day06/channel02/main.go:8 +0x54<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸ºä»€ä¹ˆä¼šå‡ºç°<code>deadlock</code>é”™è¯¯å‘¢ï¼Ÿ</p><p>å› ä¸ºæˆ‘ä»¬ä½¿ç”¨<code>ch := make(chan int)</code>åˆ›å»ºçš„æ˜¯æ— ç¼“å†²çš„é€šé“ï¼Œæ— ç¼“å†²çš„é€šé“åªæœ‰åœ¨æœ‰äººæ¥æ”¶å€¼çš„æ—¶å€™æ‰èƒ½å‘é€å€¼ã€‚å°±åƒä½ ä½çš„å°åŒºæ²¡æœ‰å¿«é€’æŸœå’Œä»£æ”¶ç‚¹ï¼Œå¿«é€’å‘˜ç»™ä½ æ‰“ç”µè¯å¿…é¡»è¦æŠŠè¿™ä¸ªç‰©å“é€åˆ°ä½ çš„æ‰‹ä¸­ï¼Œç®€å•æ¥è¯´å°±æ˜¯æ— ç¼“å†²çš„é€šé“å¿…é¡»æœ‰æ¥æ”¶æ‰èƒ½å‘é€ã€‚</p><p>ä¸Šé¢çš„ä»£ç ä¼šé˜»å¡åœ¨<code>ch &lt;- 10</code>è¿™ä¸€è¡Œä»£ç å½¢æˆæ­»é”ï¼Œé‚£å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ</p><p>ä¸€ç§æ–¹æ³•æ˜¯å¯ç”¨ä¸€ä¸ª<code>goroutine</code>å»æ¥æ”¶å€¼ï¼Œä¾‹å¦‚ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">recv</span><span class="token punctuation">(</span>c <span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>ret <span class="token operator">:=</span> <span class="token operator">&lt;-</span>cfmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"æ¥æ”¶æˆåŠŸ"</span><span class="token punctuation">,</span> ret<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>ch <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token keyword">go</span> <span class="token function">recv</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span> <span class="token comment">// å¯ç”¨goroutineä»é€šé“æ¥æ”¶å€¼</span>ch <span class="token operator">&lt;-</span> <span class="token number">10</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"å‘é€æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ— ç¼“å†²é€šé“ä¸Šçš„å‘é€æ“ä½œä¼šé˜»å¡ï¼Œç›´åˆ°å¦ä¸€ä¸ª<code>goroutine</code>åœ¨è¯¥é€šé“ä¸Šæ‰§è¡Œæ¥æ”¶æ“ä½œï¼Œè¿™æ—¶å€¼æ‰èƒ½å‘é€æˆåŠŸï¼Œä¸¤ä¸ª<code>goroutine</code>å°†ç»§ç»­æ‰§è¡Œã€‚ç›¸åï¼Œå¦‚æœæ¥æ”¶æ“ä½œå…ˆæ‰§è¡Œï¼Œæ¥æ”¶æ–¹çš„goroutineå°†é˜»å¡ï¼Œç›´åˆ°å¦ä¸€ä¸ª<code>goroutine</code>åœ¨è¯¥é€šé“ä¸Šå‘é€ä¸€ä¸ªå€¼ã€‚</p><p>ä½¿ç”¨æ— ç¼“å†²é€šé“è¿›è¡Œé€šä¿¡å°†å¯¼è‡´å‘é€å’Œæ¥æ”¶çš„<code>goroutine</code>åŒæ­¥åŒ–ã€‚å› æ­¤ï¼Œæ— ç¼“å†²é€šé“ä¹Ÿè¢«ç§°ä¸º<code>åŒæ­¥é€šé“</code>ã€‚</p><h3 id="æœ‰ç¼“å†²çš„é€šé“"><a href="#æœ‰ç¼“å†²çš„é€šé“" class="headerlink" title="æœ‰ç¼“å†²çš„é€šé“"></a>æœ‰ç¼“å†²çš„é€šé“</h3><p>è§£å†³ä¸Šé¢é—®é¢˜çš„æ–¹æ³•è¿˜æœ‰ä¸€ç§å°±æ˜¯ä½¿ç”¨æœ‰ç¼“å†²åŒºçš„é€šé“ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ä½¿ç”¨makeå‡½æ•°åˆå§‹åŒ–é€šé“çš„æ—¶å€™ä¸ºå…¶æŒ‡å®šé€šé“çš„å®¹é‡ï¼Œä¾‹å¦‚ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>ch <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// åˆ›å»ºä¸€ä¸ªå®¹é‡ä¸º1çš„æœ‰ç¼“å†²åŒºé€šé“</span>ch <span class="token operator">&lt;-</span> <span class="token number">10</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"å‘é€æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åªè¦é€šé“çš„å®¹é‡å¤§äºé›¶ï¼Œé‚£ä¹ˆè¯¥é€šé“å°±æ˜¯æœ‰ç¼“å†²çš„é€šé“ï¼Œé€šé“çš„å®¹é‡è¡¨ç¤ºé€šé“ä¸­èƒ½å­˜æ”¾å…ƒç´ çš„æ•°é‡ã€‚å°±åƒä½ å°åŒºçš„å¿«é€’æŸœåªæœ‰é‚£ä¹ˆä¸ªå¤šæ ¼å­ï¼Œæ ¼å­æ»¡äº†å°±è£…ä¸ä¸‹äº†ï¼Œå°±é˜»å¡äº†ï¼Œç­‰åˆ°åˆ«äººå–èµ°ä¸€ä¸ªå¿«é€’å‘˜å°±èƒ½å¾€é‡Œé¢æ”¾ä¸€ä¸ªã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†…ç½®çš„<code>len</code>å‡½æ•°è·å–é€šé“å†…å…ƒç´ çš„æ•°é‡ï¼Œä½¿ç”¨<code>cap</code>å‡½æ•°è·å–é€šé“çš„å®¹é‡ï¼Œè™½ç„¶æˆ‘ä»¬å¾ˆå°‘ä¼šè¿™ä¹ˆåšã€‚</p><h3 id="for-rangeä»é€šé“å¾ªç¯å–å€¼"><a href="#for-rangeä»é€šé“å¾ªç¯å–å€¼" class="headerlink" title="for rangeä»é€šé“å¾ªç¯å–å€¼"></a>for rangeä»é€šé“å¾ªç¯å–å€¼</h3><p>å½“å‘é€šé“ä¸­å‘é€å®Œæ•°æ®æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>close</code>å‡½æ•°æ¥å…³é—­é€šé“ã€‚</p><p>å½“é€šé“è¢«å…³é—­æ—¶ï¼Œå†å¾€è¯¥é€šé“å‘é€å€¼ä¼šå¼•å‘<code>panic</code>ï¼Œä»è¯¥é€šé“å–å€¼çš„æ“ä½œä¼šå…ˆå–å®Œé€šé“ä¸­çš„å€¼ï¼Œå†ç„¶åå–åˆ°çš„å€¼ä¸€ç›´éƒ½æ˜¯å¯¹åº”ç±»å‹çš„é›¶å€¼ã€‚é‚£å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªé€šé“æ˜¯å¦è¢«å…³é—­äº†å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬æ¥çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// channel ç»ƒä¹ </span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>ch1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span>ch2 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token comment">// å¼€å¯goroutineå°†0~100çš„æ•°å‘é€åˆ°ch1ä¸­</span><span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>ch1 <span class="token operator">&lt;-</span> i<span class="token punctuation">}</span><span class="token function">close</span><span class="token punctuation">(</span>ch1<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// å¼€å¯goroutineä»ch1ä¸­æ¥æ”¶å€¼ï¼Œå¹¶å°†è¯¥å€¼çš„å¹³æ–¹å‘é€åˆ°ch2ä¸­</span><span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">for</span> <span class="token punctuation">{</span>i<span class="token punctuation">,</span> ok <span class="token operator">:=</span> <span class="token operator">&lt;-</span>ch1 <span class="token comment">// é€šé“å…³é—­åå†å–å€¼ok=false</span><span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token punctuation">{</span><span class="token keyword">break</span><span class="token punctuation">}</span>ch2 <span class="token operator">&lt;-</span> i <span class="token operator">*</span> i<span class="token punctuation">}</span><span class="token function">close</span><span class="token punctuation">(</span>ch2<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// åœ¨ä¸»goroutineä¸­ä»ch2ä¸­æ¥æ”¶å€¼æ‰“å°</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token keyword">range</span> ch2 <span class="token punctuation">{</span> <span class="token comment">// é€šé“å…³é—­åä¼šé€€å‡ºfor rangeå¾ªç¯</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»ä¸Šé¢çš„ä¾‹å­ä¸­æˆ‘ä»¬çœ‹åˆ°æœ‰ä¸¤ç§æ–¹å¼åœ¨æ¥æ”¶å€¼çš„æ—¶å€™åˆ¤æ–­è¯¥é€šé“æ˜¯å¦è¢«å…³é—­ï¼Œä¸è¿‡æˆ‘ä»¬é€šå¸¸ä½¿ç”¨çš„æ˜¯<code>for range</code>çš„æ–¹å¼ã€‚ä½¿ç”¨<code>for range</code>éå†é€šé“ï¼Œå½“é€šé“è¢«å…³é—­çš„æ—¶å€™å°±ä¼šé€€å‡º<code>for range</code>ã€‚</p><h3 id="å•å‘é€šé“"><a href="#å•å‘é€šé“" class="headerlink" title="å•å‘é€šé“"></a>å•å‘é€šé“</h3><p>æœ‰çš„æ—¶å€™æˆ‘ä»¬ä¼šå°†é€šé“ä½œä¸ºå‚æ•°åœ¨å¤šä¸ªä»»åŠ¡å‡½æ•°é—´ä¼ é€’ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬åœ¨ä¸åŒçš„ä»»åŠ¡å‡½æ•°ä¸­ä½¿ç”¨é€šé“éƒ½ä¼šå¯¹å…¶è¿›è¡Œé™åˆ¶ï¼Œæ¯”å¦‚é™åˆ¶é€šé“åœ¨å‡½æ•°ä¸­åªèƒ½å‘é€æˆ–åªèƒ½æ¥æ”¶ã€‚</p><p>Goè¯­è¨€ä¸­æä¾›äº†<strong>å•å‘é€šé“</strong>æ¥å¤„ç†è¿™ç§æƒ…å†µã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æŠŠä¸Šé¢çš„ä¾‹å­æ”¹é€ å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">counter</span><span class="token punctuation">(</span>out <span class="token keyword">chan</span><span class="token operator">&lt;-</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>out <span class="token operator">&lt;-</span> i<span class="token punctuation">}</span><span class="token function">close</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">squarer</span><span class="token punctuation">(</span>out <span class="token keyword">chan</span><span class="token operator">&lt;-</span> <span class="token builtin">int</span><span class="token punctuation">,</span> in <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token keyword">range</span> in <span class="token punctuation">{</span>out <span class="token operator">&lt;-</span> i <span class="token operator">*</span> i<span class="token punctuation">}</span><span class="token function">close</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">printer</span><span class="token punctuation">(</span>in <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token keyword">range</span> in <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>ch1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span>ch2 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token keyword">go</span> <span class="token function">counter</span><span class="token punctuation">(</span>ch1<span class="token punctuation">)</span><span class="token keyword">go</span> <span class="token function">squarer</span><span class="token punctuation">(</span>ch2<span class="token punctuation">,</span> ch1<span class="token punctuation">)</span><span class="token function">printer</span><span class="token punctuation">(</span>ch2<span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶ä¸­ï¼Œ</p><ul><li><code>chan&lt;- int</code>æ˜¯ä¸€ä¸ªåªå†™å•å‘é€šé“ï¼ˆåªèƒ½å¯¹å…¶å†™å…¥intç±»å‹å€¼ï¼‰ï¼Œå¯ä»¥å¯¹å…¶æ‰§è¡Œå‘é€æ“ä½œä½†æ˜¯ä¸èƒ½æ‰§è¡Œæ¥æ”¶æ“ä½œï¼›</li><li><code>&lt;-chan int</code>æ˜¯ä¸€ä¸ªåªè¯»å•å‘é€šé“ï¼ˆåªèƒ½ä»å…¶è¯»å–intç±»å‹å€¼ï¼‰ï¼Œå¯ä»¥å¯¹å…¶æ‰§è¡Œæ¥æ”¶æ“ä½œä½†æ˜¯ä¸èƒ½æ‰§è¡Œå‘é€æ“ä½œã€‚</li></ul><p>åœ¨å‡½æ•°ä¼ å‚åŠä»»ä½•èµ‹å€¼æ“ä½œä¸­å¯ä»¥å°†åŒå‘é€šé“è½¬æ¢ä¸ºå•å‘é€šé“ï¼Œä½†åè¿‡æ¥æ˜¯ä¸å¯ä»¥çš„ã€‚</p><h3 id="é€šé“æ€»ç»“"><a href="#é€šé“æ€»ç»“" class="headerlink" title="é€šé“æ€»ç»“"></a>é€šé“æ€»ç»“</h3><p><code>channel</code>å¸¸è§çš„å¼‚å¸¸æ€»ç»“ï¼Œå¦‚ä¸‹å›¾ï¼š<img src="https://www.liwenzhou.com/images/Go/concurrence/channel01.png" alt="channelå¼‚å¸¸æ€»ç»“"></p><p>å…³é—­å·²ç»å…³é—­çš„<code>channel</code>ä¹Ÿä¼šå¼•å‘<code>panic</code>ã€‚</p><h2 id="worker-poolï¼ˆgoroutineæ± ï¼‰"><a href="#worker-poolï¼ˆgoroutineæ± ï¼‰" class="headerlink" title="worker poolï¼ˆgoroutineæ± ï¼‰"></a>worker poolï¼ˆgoroutineæ± ï¼‰</h2><p>åœ¨å·¥ä½œä¸­æˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨å¯ä»¥æŒ‡å®šå¯åŠ¨çš„goroutineæ•°é‡â€“<code>worker pool</code>æ¨¡å¼ï¼Œæ§åˆ¶<code>goroutine</code>çš„æ•°é‡ï¼Œé˜²æ­¢<code>goroutine</code>æ³„æ¼å’Œæš´æ¶¨ã€‚</p><p>ä¸€ä¸ªç®€æ˜“çš„<code>work pool</code>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">worker</span><span class="token punctuation">(</span>id <span class="token builtin">int</span><span class="token punctuation">,</span> jobs <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">,</span> results <span class="token keyword">chan</span><span class="token operator">&lt;-</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">for</span> j <span class="token operator">:=</span> <span class="token keyword">range</span> jobs <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"worker:%d start job:%d\n"</span><span class="token punctuation">,</span> id<span class="token punctuation">,</span> j<span class="token punctuation">)</span>time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"worker:%d end job:%d\n"</span><span class="token punctuation">,</span> id<span class="token punctuation">,</span> j<span class="token punctuation">)</span>results <span class="token operator">&lt;-</span> j <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>jobs <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>results <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token comment">// å¼€å¯3ä¸ªgoroutine</span><span class="token keyword">for</span> w <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> w <span class="token operator">&lt;=</span> <span class="token number">3</span><span class="token punctuation">;</span> w<span class="token operator">++</span> <span class="token punctuation">{</span><span class="token keyword">go</span> <span class="token function">worker</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> jobs<span class="token punctuation">,</span> results<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// 5ä¸ªä»»åŠ¡</span><span class="token keyword">for</span> j <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">{</span>jobs <span class="token operator">&lt;-</span> j<span class="token punctuation">}</span><span class="token function">close</span><span class="token punctuation">(</span>jobs<span class="token punctuation">)</span><span class="token comment">// è¾“å‡ºç»“æœ</span><span class="token keyword">for</span> a <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> a <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> a<span class="token operator">++</span> <span class="token punctuation">{</span><span class="token operator">&lt;-</span>results<span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="selectå¤šè·¯å¤ç”¨"><a href="#selectå¤šè·¯å¤ç”¨" class="headerlink" title="selectå¤šè·¯å¤ç”¨"></a>selectå¤šè·¯å¤ç”¨</h2><p>åœ¨æŸäº›åœºæ™¯ä¸‹æˆ‘ä»¬éœ€è¦åŒæ—¶ä»å¤šä¸ªé€šé“æ¥æ”¶æ•°æ®ã€‚é€šé“åœ¨æ¥æ”¶æ•°æ®æ—¶ï¼Œå¦‚æœæ²¡æœ‰æ•°æ®å¯ä»¥æ¥æ”¶å°†ä¼šå‘ç”Ÿé˜»å¡ã€‚ä½ ä¹Ÿè®¸ä¼šå†™å‡ºå¦‚ä¸‹ä»£ç ä½¿ç”¨éå†çš„æ–¹å¼æ¥å®ç°ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">for</span><span class="token punctuation">{</span>    <span class="token comment">// å°è¯•ä»ch1æ¥æ”¶å€¼</span>    data<span class="token punctuation">,</span> ok <span class="token operator">:=</span> <span class="token operator">&lt;-</span>ch1    <span class="token comment">// å°è¯•ä»ch2æ¥æ”¶å€¼</span>    data<span class="token punctuation">,</span> ok <span class="token operator">:=</span> <span class="token operator">&lt;-</span>ch2    â€¦<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ç§æ–¹å¼è™½ç„¶å¯ä»¥å®ç°ä»å¤šä¸ªé€šé“æ¥æ”¶å€¼çš„éœ€æ±‚ï¼Œä½†æ˜¯è¿è¡Œæ€§èƒ½ä¼šå·®å¾ˆå¤šã€‚ä¸ºäº†åº”å¯¹è¿™ç§åœºæ™¯ï¼ŒGoå†…ç½®äº†<code>select</code>å…³é”®å­—ï¼Œå¯ä»¥åŒæ—¶å“åº”å¤šä¸ªé€šé“çš„æ“ä½œã€‚</p><p><code>select</code>çš„ä½¿ç”¨ç±»ä¼¼äºswitchè¯­å¥ï¼Œå®ƒæœ‰ä¸€ç³»åˆ—caseåˆ†æ”¯å’Œä¸€ä¸ªé»˜è®¤çš„åˆ†æ”¯ã€‚æ¯ä¸ªcaseä¼šå¯¹åº”ä¸€ä¸ªé€šé“çš„é€šä¿¡ï¼ˆæ¥æ”¶æˆ–å‘é€ï¼‰è¿‡ç¨‹ã€‚<code>select</code>ä¼šä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ°æŸä¸ª<code>case</code>çš„é€šä¿¡æ“ä½œå®Œæˆæ—¶ï¼Œå°±ä¼šæ‰§è¡Œ<code>case</code>åˆ†æ”¯å¯¹åº”çš„è¯­å¥ã€‚å…·ä½“æ ¼å¼å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">select</span><span class="token punctuation">{</span>    <span class="token keyword">case</span> <span class="token operator">&lt;-</span>ch1<span class="token punctuation">:</span>        <span class="token operator">...</span>    <span class="token keyword">case</span> data <span class="token operator">:=</span> <span class="token operator">&lt;-</span>ch2<span class="token punctuation">:</span>        <span class="token operator">...</span>    <span class="token keyword">case</span> ch3<span class="token operator">&lt;-</span>data<span class="token punctuation">:</span>        <span class="token operator">...</span>    <span class="token keyword">default</span><span class="token punctuation">:</span>        é»˜è®¤æ“ä½œ<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸¾ä¸ªå°ä¾‹å­æ¥æ¼”ç¤ºä¸‹<code>select</code>çš„ä½¿ç”¨ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>ch <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span><span class="token keyword">select</span> <span class="token punctuation">{</span><span class="token keyword">case</span> x <span class="token operator">:=</span> <span class="token operator">&lt;-</span>ch<span class="token punctuation">:</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token keyword">case</span> ch <span class="token operator">&lt;-</span> i<span class="token punctuation">:</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨<code>select</code>è¯­å¥èƒ½æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚</p><ul><li>å¯å¤„ç†ä¸€ä¸ªæˆ–å¤šä¸ªchannelçš„å‘é€/æ¥æ”¶æ“ä½œã€‚</li><li>å¦‚æœå¤šä¸ª<code>case</code>åŒæ—¶æ»¡è¶³ï¼Œ<code>select</code>ä¼šéšæœºé€‰æ‹©ä¸€ä¸ªã€‚</li><li>å¯¹äºæ²¡æœ‰<code>case</code>çš„<code>select{}</code>ä¼šä¸€ç›´ç­‰å¾…ï¼Œå¯ç”¨äºé˜»å¡mainå‡½æ•°ã€‚</li></ul><h2 id="å¹¶å‘å®‰å…¨å’Œé”"><a href="#å¹¶å‘å®‰å…¨å’Œé”" class="headerlink" title="å¹¶å‘å®‰å…¨å’Œé”"></a>å¹¶å‘å®‰å…¨å’Œé”</h2><p>æœ‰æ—¶å€™åœ¨Goä»£ç ä¸­å¯èƒ½ä¼šå­˜åœ¨å¤šä¸ª<code>goroutine</code>åŒæ—¶æ“ä½œä¸€ä¸ªèµ„æºï¼ˆä¸´ç•ŒåŒºï¼‰ï¼Œè¿™ç§æƒ…å†µä¼šå‘ç”Ÿ<code>ç«æ€é—®é¢˜</code>ï¼ˆæ•°æ®ç«æ€ï¼‰ã€‚ç±»æ¯”ç°å®ç”Ÿæ´»ä¸­çš„ä¾‹å­æœ‰åå­—è·¯å£è¢«å„ä¸ªæ–¹å‘çš„çš„æ±½è½¦ç«äº‰ï¼›è¿˜æœ‰ç«è½¦ä¸Šçš„å«ç”Ÿé—´è¢«è½¦å¢é‡Œçš„äººç«äº‰ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> x <span class="token builtin">int64</span><span class="token keyword">var</span> wg sync<span class="token punctuation">.</span>WaitGroup<span class="token keyword">func</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5000</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>x <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span>wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token keyword">go</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">go</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span>wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬å¼€å¯äº†ä¸¤ä¸ª<code>goroutine</code>å»ç´¯åŠ å˜é‡xçš„å€¼ï¼Œè¿™ä¸¤ä¸ª<code>goroutine</code>åœ¨è®¿é—®å’Œä¿®æ”¹<code>x</code>å˜é‡çš„æ—¶å€™å°±ä¼šå­˜åœ¨æ•°æ®ç«äº‰ï¼Œå¯¼è‡´æœ€åçš„ç»“æœä¸æœŸå¾…çš„ä¸ç¬¦ã€‚</p><h3 id="äº’æ–¥é”"><a href="#äº’æ–¥é”" class="headerlink" title="äº’æ–¥é”"></a>äº’æ–¥é”</h3><p>äº’æ–¥é”æ˜¯ä¸€ç§å¸¸ç”¨çš„æ§åˆ¶å…±äº«èµ„æºè®¿é—®çš„æ–¹æ³•ï¼Œå®ƒèƒ½å¤Ÿä¿è¯åŒæ—¶åªæœ‰ä¸€ä¸ª<code>goroutine</code>å¯ä»¥è®¿é—®å…±äº«èµ„æºã€‚Goè¯­è¨€ä¸­ä½¿ç”¨<code>sync</code>åŒ…çš„<code>Mutex</code>ç±»å‹æ¥å®ç°äº’æ–¥é”ã€‚ ä½¿ç”¨äº’æ–¥é”æ¥ä¿®å¤ä¸Šé¢ä»£ç çš„é—®é¢˜ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> x <span class="token builtin">int64</span><span class="token keyword">var</span> wg sync<span class="token punctuation">.</span>WaitGroup<span class="token keyword">var</span> lock sync<span class="token punctuation">.</span>Mutex<span class="token keyword">func</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5000</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>lock<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// åŠ é”</span>x <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">1</span>lock<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è§£é”</span><span class="token punctuation">}</span>wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token keyword">go</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">go</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span>wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨äº’æ–¥é”èƒ½å¤Ÿä¿è¯åŒä¸€æ—¶é—´æœ‰ä¸”åªæœ‰ä¸€ä¸ª<code>goroutine</code>è¿›å…¥ä¸´ç•ŒåŒºï¼Œå…¶ä»–çš„<code>goroutine</code>åˆ™åœ¨ç­‰å¾…é”ï¼›å½“äº’æ–¥é”é‡Šæ”¾åï¼Œç­‰å¾…çš„<code>goroutine</code>æ‰å¯ä»¥è·å–é”è¿›å…¥ä¸´ç•ŒåŒºï¼Œå¤šä¸ª<code>goroutine</code>åŒæ—¶ç­‰å¾…ä¸€ä¸ªé”æ—¶ï¼Œå”¤é†’çš„ç­–ç•¥æ˜¯éšæœºçš„ã€‚</p><h3 id="è¯»å†™äº’æ–¥é”"><a href="#è¯»å†™äº’æ–¥é”" class="headerlink" title="è¯»å†™äº’æ–¥é”"></a>è¯»å†™äº’æ–¥é”</h3><p>äº’æ–¥é”æ˜¯å®Œå…¨äº’æ–¥çš„ï¼Œä½†æ˜¯æœ‰å¾ˆå¤šå®é™…çš„åœºæ™¯ä¸‹æ˜¯è¯»å¤šå†™å°‘çš„ï¼Œå½“æˆ‘ä»¬å¹¶å‘çš„å»è¯»å–ä¸€ä¸ªèµ„æºä¸æ¶‰åŠèµ„æºä¿®æ”¹çš„æ—¶å€™æ˜¯æ²¡æœ‰å¿…è¦åŠ é”çš„ï¼Œè¿™ç§åœºæ™¯ä¸‹ä½¿ç”¨è¯»å†™é”æ˜¯æ›´å¥½çš„ä¸€ç§é€‰æ‹©ã€‚è¯»å†™é”åœ¨Goè¯­è¨€ä¸­ä½¿ç”¨<code>sync</code>åŒ…ä¸­çš„<code>RWMutex</code>ç±»å‹ã€‚</p><p>è¯»å†™é”åˆ†ä¸ºä¸¤ç§ï¼šè¯»é”å’Œå†™é”ã€‚å½“ä¸€ä¸ªgoroutineè·å–è¯»é”ä¹‹åï¼Œå…¶ä»–çš„<code>goroutine</code>å¦‚æœæ˜¯è·å–è¯»é”ä¼šç»§ç»­è·å¾—é”ï¼Œå¦‚æœæ˜¯è·å–å†™é”å°±ä¼šç­‰å¾…ï¼›å½“ä¸€ä¸ª<code>goroutine</code>è·å–å†™é”ä¹‹åï¼Œå…¶ä»–çš„<code>goroutine</code>æ— è®ºæ˜¯è·å–è¯»é”è¿˜æ˜¯å†™é”éƒ½ä¼šç­‰å¾…ã€‚</p><p>è¯»å†™é”ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> <span class="token punctuation">(</span>x      <span class="token builtin">int64</span>wg     sync<span class="token punctuation">.</span>WaitGrouplock   sync<span class="token punctuation">.</span>Mutexrwlock sync<span class="token punctuation">.</span>RWMutex<span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// lock.Lock()   // åŠ äº’æ–¥é”</span>rwlock<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// åŠ å†™é”</span>x <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">1</span>time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Millisecond<span class="token punctuation">)</span> <span class="token comment">// å‡è®¾è¯»æ“ä½œè€—æ—¶10æ¯«ç§’</span>rwlock<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                   <span class="token comment">// è§£å†™é”</span><span class="token comment">// lock.Unlock()                     // è§£äº’æ–¥é”</span>wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// lock.Lock()                  // åŠ äº’æ–¥é”</span>rwlock<span class="token punctuation">.</span><span class="token function">RLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>               <span class="token comment">// åŠ è¯»é”</span>time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Millisecond<span class="token punctuation">)</span> <span class="token comment">// å‡è®¾è¯»æ“ä½œè€—æ—¶1æ¯«ç§’</span>rwlock<span class="token punctuation">.</span><span class="token function">RUnlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>             <span class="token comment">// è§£è¯»é”</span><span class="token comment">// lock.Unlock()                // è§£äº’æ–¥é”</span>wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>start <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">go</span> <span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">go</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>end <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>end<span class="token punctuation">.</span><span class="token function">Sub</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>éœ€è¦æ³¨æ„çš„æ˜¯è¯»å†™é”éå¸¸é€‚åˆè¯»å¤šå†™å°‘çš„åœºæ™¯ï¼Œå¦‚æœè¯»å’Œå†™çš„æ“ä½œå·®åˆ«ä¸å¤§ï¼Œè¯»å†™é”çš„ä¼˜åŠ¿å°±å‘æŒ¥ä¸å‡ºæ¥ã€‚</p><h3 id="sync-WaitGroup"><a href="#sync-WaitGroup" class="headerlink" title="sync.WaitGroup"></a>sync.WaitGroup</h3><p>åœ¨ä»£ç ä¸­ç”Ÿç¡¬çš„ä½¿ç”¨<code>time.Sleep</code>è‚¯å®šæ˜¯ä¸åˆé€‚çš„ï¼ŒGoè¯­è¨€ä¸­å¯ä»¥ä½¿ç”¨<code>sync.WaitGroup</code>æ¥å®ç°å¹¶å‘ä»»åŠ¡çš„åŒæ­¥ã€‚ <code>sync.WaitGroup</code>æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•ï¼š</p><table><thead><tr><th align="center">æ–¹æ³•å</th><th align="center">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="center">(wg * WaitGroup) Add(delta int)</td><td align="center">è®¡æ•°å™¨+delta</td></tr><tr><td align="center">(wg *WaitGroup) Done()</td><td align="center">è®¡æ•°å™¨-1</td></tr><tr><td align="center">(wg *WaitGroup) Wait()</td><td align="center">é˜»å¡ç›´åˆ°è®¡æ•°å™¨å˜ä¸º0</td></tr></tbody></table><p><code>sync.WaitGroup</code>å†…éƒ¨ç»´æŠ¤ç€ä¸€ä¸ªè®¡æ•°å™¨ï¼Œè®¡æ•°å™¨çš„å€¼å¯ä»¥å¢åŠ å’Œå‡å°‘ã€‚ä¾‹å¦‚å½“æˆ‘ä»¬å¯åŠ¨äº†N ä¸ªå¹¶å‘ä»»åŠ¡æ—¶ï¼Œå°±å°†è®¡æ•°å™¨å€¼å¢åŠ Nã€‚æ¯ä¸ªä»»åŠ¡å®Œæˆæ—¶é€šè¿‡è°ƒç”¨Done()æ–¹æ³•å°†è®¡æ•°å™¨å‡1ã€‚é€šè¿‡è°ƒç”¨Wait()æ¥ç­‰å¾…å¹¶å‘ä»»åŠ¡æ‰§è¡Œå®Œï¼Œå½“è®¡æ•°å™¨å€¼ä¸º0æ—¶ï¼Œè¡¨ç¤ºæ‰€æœ‰å¹¶å‘ä»»åŠ¡å·²ç»å®Œæˆã€‚</p><p>æˆ‘ä»¬åˆ©ç”¨<code>sync.WaitGroup</code>å°†ä¸Šé¢çš„ä»£ç ä¼˜åŒ–ä¸€ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> wg sync<span class="token punctuation">.</span>WaitGroup<span class="token keyword">func</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">defer</span> wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Hello Goroutine!"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">go</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å¯åŠ¨å¦å¤–ä¸€ä¸ªgoroutineå»æ‰§è¡Œhelloå‡½æ•°</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"main goroutine done!"</span><span class="token punctuation">)</span>wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>éœ€è¦æ³¨æ„<code>sync.WaitGroup</code>æ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œä¼ é€’çš„æ—¶å€™è¦ä¼ é€’æŒ‡é’ˆã€‚</p><h3 id="sync-Once"><a href="#sync-Once" class="headerlink" title="sync.Once"></a>sync.Once</h3><p>è¯´åœ¨å‰é¢çš„è¯ï¼šè¿™æ˜¯ä¸€ä¸ªè¿›é˜¶çŸ¥è¯†ç‚¹ã€‚</p><p>åœ¨ç¼–ç¨‹çš„å¾ˆå¤šåœºæ™¯ä¸‹æˆ‘ä»¬éœ€è¦ç¡®ä¿æŸäº›æ“ä½œåœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹åªæ‰§è¡Œä¸€æ¬¡ï¼Œä¾‹å¦‚åªåŠ è½½ä¸€æ¬¡é…ç½®æ–‡ä»¶ã€åªå…³é—­ä¸€æ¬¡é€šé“ç­‰ã€‚</p><p>Goè¯­è¨€ä¸­çš„<code>sync</code>åŒ…ä¸­æä¾›äº†ä¸€ä¸ªé’ˆå¯¹åªæ‰§è¡Œä¸€æ¬¡åœºæ™¯çš„è§£å†³æ–¹æ¡ˆâ€“<code>sync.Once</code>ã€‚</p><p><code>sync.Once</code>åªæœ‰ä¸€ä¸ª<code>Do</code>æ–¹æ³•ï¼Œå…¶ç­¾åå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token punctuation">(</span>o <span class="token operator">*</span>Once<span class="token punctuation">)</span> <span class="token function">Do</span><span class="token punctuation">(</span>f <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><em>å¤‡æ³¨ï¼šå¦‚æœè¦æ‰§è¡Œçš„å‡½æ•°<code>f</code>éœ€è¦ä¼ é€’å‚æ•°å°±éœ€è¦æ­é…é—­åŒ…æ¥ä½¿ç”¨ã€‚</em></p><h4 id="åŠ è½½é…ç½®æ–‡ä»¶ç¤ºä¾‹"><a href="#åŠ è½½é…ç½®æ–‡ä»¶ç¤ºä¾‹" class="headerlink" title="åŠ è½½é…ç½®æ–‡ä»¶ç¤ºä¾‹"></a>åŠ è½½é…ç½®æ–‡ä»¶ç¤ºä¾‹</h4><p>å»¶è¿Ÿä¸€ä¸ªå¼€é”€å¾ˆå¤§çš„åˆå§‹åŒ–æ“ä½œåˆ°çœŸæ­£ç”¨åˆ°å®ƒçš„æ—¶å€™å†æ‰§è¡Œæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å®è·µã€‚å› ä¸ºé¢„å…ˆåˆå§‹åŒ–ä¸€ä¸ªå˜é‡ï¼ˆæ¯”å¦‚åœ¨initå‡½æ•°ä¸­å®Œæˆåˆå§‹åŒ–ï¼‰ä¼šå¢åŠ ç¨‹åºçš„å¯åŠ¨è€—æ—¶ï¼Œè€Œä¸”æœ‰å¯èƒ½å®é™…æ‰§è¡Œè¿‡ç¨‹ä¸­è¿™ä¸ªå˜é‡æ²¡æœ‰ç”¨ä¸Šï¼Œé‚£ä¹ˆè¿™ä¸ªåˆå§‹åŒ–æ“ä½œå°±ä¸æ˜¯å¿…é¡»è¦åšçš„ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> icons <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span>image<span class="token punctuation">.</span>Image<span class="token keyword">func</span> <span class="token function">loadIcons</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>icons <span class="token operator">=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span>image<span class="token punctuation">.</span>Image<span class="token punctuation">{</span><span class="token string">"left"</span><span class="token punctuation">:</span>  <span class="token function">loadIcon</span><span class="token punctuation">(</span><span class="token string">"left.png"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"up"</span><span class="token punctuation">:</span>    <span class="token function">loadIcon</span><span class="token punctuation">(</span><span class="token string">"up.png"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"right"</span><span class="token punctuation">:</span> <span class="token function">loadIcon</span><span class="token punctuation">(</span><span class="token string">"right.png"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"down"</span><span class="token punctuation">:</span>  <span class="token function">loadIcon</span><span class="token punctuation">(</span><span class="token string">"down.png"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// Icon è¢«å¤šä¸ªgoroutineè°ƒç”¨æ—¶ä¸æ˜¯å¹¶å‘å®‰å…¨çš„</span><span class="token keyword">func</span> <span class="token function">Icon</span><span class="token punctuation">(</span>name <span class="token builtin">string</span><span class="token punctuation">)</span> image<span class="token punctuation">.</span>Image <span class="token punctuation">{</span><span class="token keyword">if</span> icons <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span><span class="token function">loadIcons</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">return</span> icons<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¤šä¸ª<code>goroutine</code>å¹¶å‘è°ƒç”¨Iconå‡½æ•°æ—¶ä¸æ˜¯å¹¶å‘å®‰å…¨çš„ï¼Œç°ä»£çš„ç¼–è¯‘å™¨å’ŒCPUå¯èƒ½ä¼šåœ¨ä¿è¯æ¯ä¸ª<code>goroutine</code>éƒ½æ»¡è¶³ä¸²è¡Œä¸€è‡´çš„åŸºç¡€ä¸Šè‡ªç”±åœ°é‡æ’è®¿é—®å†…å­˜çš„é¡ºåºã€‚loadIconså‡½æ•°å¯èƒ½ä¼šè¢«é‡æ’ä¸ºä»¥ä¸‹ç»“æœï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">loadIcons</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>icons <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span>image<span class="token punctuation">.</span>Image<span class="token punctuation">)</span>icons<span class="token punctuation">[</span><span class="token string">"left"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">loadIcon</span><span class="token punctuation">(</span><span class="token string">"left.png"</span><span class="token punctuation">)</span>icons<span class="token punctuation">[</span><span class="token string">"up"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">loadIcon</span><span class="token punctuation">(</span><span class="token string">"up.png"</span><span class="token punctuation">)</span>icons<span class="token punctuation">[</span><span class="token string">"right"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">loadIcon</span><span class="token punctuation">(</span><span class="token string">"right.png"</span><span class="token punctuation">)</span>icons<span class="token punctuation">[</span><span class="token string">"down"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">loadIcon</span><span class="token punctuation">(</span><span class="token string">"down.png"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ç§æƒ…å†µä¸‹å°±ä¼šå‡ºç°å³ä½¿åˆ¤æ–­äº†<code>icons</code>ä¸æ˜¯nilä¹Ÿä¸æ„å‘³ç€å˜é‡åˆå§‹åŒ–å®Œæˆäº†ã€‚è€ƒè™‘åˆ°è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬èƒ½æƒ³åˆ°çš„åŠæ³•å°±æ˜¯æ·»åŠ äº’æ–¥é”ï¼Œä¿è¯åˆå§‹åŒ–<code>icons</code>çš„æ—¶å€™ä¸ä¼šè¢«å…¶ä»–çš„<code>goroutine</code>æ“ä½œï¼Œä½†æ˜¯è¿™æ ·åšåˆä¼šå¼•å‘æ€§èƒ½é—®é¢˜ã€‚</p><p>ä½¿ç”¨<code>sync.Once</code>æ”¹é€ çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> icons <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span>image<span class="token punctuation">.</span>Image<span class="token keyword">var</span> loadIconsOnce sync<span class="token punctuation">.</span>Once<span class="token keyword">func</span> <span class="token function">loadIcons</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>icons <span class="token operator">=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span>image<span class="token punctuation">.</span>Image<span class="token punctuation">{</span><span class="token string">"left"</span><span class="token punctuation">:</span>  <span class="token function">loadIcon</span><span class="token punctuation">(</span><span class="token string">"left.png"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"up"</span><span class="token punctuation">:</span>    <span class="token function">loadIcon</span><span class="token punctuation">(</span><span class="token string">"up.png"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"right"</span><span class="token punctuation">:</span> <span class="token function">loadIcon</span><span class="token punctuation">(</span><span class="token string">"right.png"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"down"</span><span class="token punctuation">:</span>  <span class="token function">loadIcon</span><span class="token punctuation">(</span><span class="token string">"down.png"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// Icon æ˜¯å¹¶å‘å®‰å…¨çš„</span><span class="token keyword">func</span> <span class="token function">Icon</span><span class="token punctuation">(</span>name <span class="token builtin">string</span><span class="token punctuation">)</span> image<span class="token punctuation">.</span>Image <span class="token punctuation">{</span>loadIconsOnce<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span>loadIcons<span class="token punctuation">)</span><span class="token keyword">return</span> icons<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å¹¶å‘å®‰å…¨çš„å•ä¾‹æ¨¡å¼"><a href="#å¹¶å‘å®‰å…¨çš„å•ä¾‹æ¨¡å¼" class="headerlink" title="å¹¶å‘å®‰å…¨çš„å•ä¾‹æ¨¡å¼"></a>å¹¶å‘å®‰å…¨çš„å•ä¾‹æ¨¡å¼</h4><p>ä¸‹é¢æ˜¯å€ŸåŠ©<code>sync.Once</code>å®ç°çš„å¹¶å‘å®‰å…¨çš„å•ä¾‹æ¨¡å¼ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> singleton<span class="token keyword">import</span> <span class="token punctuation">(</span>    <span class="token string">"sync"</span><span class="token punctuation">)</span><span class="token keyword">type</span> singleton <span class="token keyword">struct</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">var</span> instance <span class="token operator">*</span>singleton<span class="token keyword">var</span> once sync<span class="token punctuation">.</span>Once<span class="token keyword">func</span> <span class="token function">GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>singleton <span class="token punctuation">{</span>    once<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        instance <span class="token operator">=</span> <span class="token operator">&amp;</span>singleton<span class="token punctuation">{</span><span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> instance<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>sync.Once</code>å…¶å®å†…éƒ¨åŒ…å«ä¸€ä¸ªäº’æ–¥é”å’Œä¸€ä¸ªå¸ƒå°”å€¼ï¼Œäº’æ–¥é”ä¿è¯å¸ƒå°”å€¼å’Œæ•°æ®çš„å®‰å…¨ï¼Œè€Œå¸ƒå°”å€¼ç”¨æ¥è®°å½•åˆå§‹åŒ–æ˜¯å¦å®Œæˆã€‚è¿™æ ·è®¾è®¡å°±èƒ½ä¿è¯åˆå§‹åŒ–æ“ä½œçš„æ—¶å€™æ˜¯å¹¶å‘å®‰å…¨çš„å¹¶ä¸”åˆå§‹åŒ–æ“ä½œä¹Ÿä¸ä¼šè¢«æ‰§è¡Œå¤šæ¬¡ã€‚</p><h3 id="sync-Map"><a href="#sync-Map" class="headerlink" title="sync.Map"></a>sync.Map</h3><p>Goè¯­è¨€ä¸­å†…ç½®çš„mapä¸æ˜¯å¹¶å‘å®‰å…¨çš„ã€‚è¯·çœ‹ä¸‹é¢çš„ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">get</span><span class="token punctuation">(</span>key <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span><span class="token keyword">return</span> m<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">set</span><span class="token punctuation">(</span>key <span class="token builtin">string</span><span class="token punctuation">,</span> value <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>m<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>wg <span class="token operator">:=</span> sync<span class="token punctuation">.</span>WaitGroup<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>key <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> n<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"k=:%v,v:=%v\n"</span><span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">}</span>wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šé¢çš„ä»£ç å¼€å¯å°‘é‡å‡ ä¸ª<code>goroutine</code>çš„æ—¶å€™å¯èƒ½æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œå½“å¹¶å‘å¤šäº†ä¹‹åæ‰§è¡Œä¸Šé¢çš„ä»£ç å°±ä¼šæŠ¥<code>fatal error: concurrent map writes</code>é”™è¯¯ã€‚</p><p>åƒè¿™ç§åœºæ™¯ä¸‹å°±éœ€è¦ä¸ºmapåŠ é”æ¥ä¿è¯å¹¶å‘çš„å®‰å…¨æ€§äº†ï¼ŒGoè¯­è¨€çš„<code>sync</code>åŒ…ä¸­æä¾›äº†ä¸€ä¸ªå¼€ç®±å³ç”¨çš„å¹¶å‘å®‰å…¨ç‰ˆmapâ€“<code>sync.Map</code>ã€‚å¼€ç®±å³ç”¨è¡¨ç¤ºä¸ç”¨åƒå†…ç½®çš„mapä¸€æ ·ä½¿ç”¨makeå‡½æ•°åˆå§‹åŒ–å°±èƒ½ç›´æ¥ä½¿ç”¨ã€‚åŒæ—¶<code>sync.Map</code>å†…ç½®äº†è¯¸å¦‚<code>Store</code>ã€<code>Load</code>ã€<code>LoadOrStore</code>ã€<code>Delete</code>ã€<code>Range</code>ç­‰æ“ä½œæ–¹æ³•ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> m <span class="token operator">=</span> sync<span class="token punctuation">.</span>Map<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>wg <span class="token operator">:=</span> sync<span class="token punctuation">.</span>WaitGroup<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>key <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>m<span class="token punctuation">.</span><span class="token function">Store</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> n<span class="token punctuation">)</span>value<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> m<span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"k=:%v,v:=%v\n"</span><span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">}</span>wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åŸå­æ“ä½œ"><a href="#åŸå­æ“ä½œ" class="headerlink" title="åŸå­æ“ä½œ"></a>åŸå­æ“ä½œ</h2><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­çš„æˆ‘ä»¬é€šè¿‡é”æ“ä½œæ¥å®ç°åŒæ­¥ã€‚è€Œé”æœºåˆ¶çš„åº•å±‚æ˜¯åŸºäºåŸå­æ“ä½œçš„ï¼Œå…¶ä¸€èˆ¬ç›´æ¥é€šè¿‡CPUæŒ‡ä»¤å®ç°ã€‚Goè¯­è¨€ä¸­åŸå­æ“ä½œç”±å†…ç½®çš„æ ‡å‡†åº“<code>sync/atomic</code>æä¾›ã€‚</p><h3 id="atomicåŒ…"><a href="#atomicåŒ…" class="headerlink" title="atomicåŒ…"></a>atomicåŒ…</h3><table><thead><tr><th align="center">æ–¹æ³•</th><th align="center">è§£é‡Š</th></tr></thead><tbody><tr><td align="center">func LoadInt32(addr *int32) (val int32) func LoadInt64(addr *int64) (val int64) func LoadUint32(addr *uint32) (val uint32) func LoadUint64(addr *uint64) (val uint64) func LoadUintptr(addr *uintptr) (val uintptr) func LoadPointer(addr *unsafe.Pointer) (val unsafe.Pointer)</td><td align="center">è¯»å–æ“ä½œ</td></tr><tr><td align="center">func StoreInt32(addr *int32, val int32) func StoreInt64(addr *int64, val int64) func StoreUint32(addr *uint32, val uint32) func StoreUint64(addr *uint64, val uint64) func StoreUintptr(addr *uintptr, val uintptr) func StorePointer(addr *unsafe.Pointer, val unsafe.Pointer)</td><td align="center">å†™å…¥æ“ä½œ</td></tr><tr><td align="center">func AddInt32(addr *int32, delta int32) (new int32) func AddInt64(addr *int64, delta int64) (new int64) func AddUint32(addr *uint32, delta uint32) (new uint32) func AddUint64(addr *uint64, delta uint64) (new uint64) func AddUintptr(addr *uintptr, delta uintptr) (new uintptr)</td><td align="center">ä¿®æ”¹æ“ä½œ</td></tr><tr><td align="center">func SwapInt32(addr *int32, new int32) (old int32) func SwapInt64(addr *int64, new int64) (old int64) func SwapUint32(addr *uint32, new uint32) (old uint32) func SwapUint64(addr *uint64, new uint64) (old uint64) func SwapUintptr(addr *uintptr, new uintptr) (old uintptr) func SwapPointer(addr *unsafe.Pointer, new unsafe.Pointer) (old unsafe.Pointer)</td><td align="center">äº¤æ¢æ“ä½œ</td></tr><tr><td align="center">func CompareAndSwapInt32(addr *int32, old, new int32) (swapped bool) func CompareAndSwapInt64(addr *int64, old, new int64) (swapped bool) func CompareAndSwapUint32(addr *uint32, old, new uint32) (swapped bool) func CompareAndSwapUint64(addr *uint64, old, new uint64) (swapped bool) func CompareAndSwapUintptr(addr *uintptr, old, new uintptr) (swapped bool) func CompareAndSwapPointer(addr *unsafe.Pointer, old, new unsafe.Pointer) (swapped bool)</td><td align="center">æ¯”è¾ƒå¹¶äº¤æ¢æ“ä½œ</td></tr></tbody></table><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><p>æˆ‘ä»¬å¡«å†™ä¸€ä¸ªç¤ºä¾‹æ¥æ¯”è¾ƒä¸‹äº’æ–¥é”å’ŒåŸå­æ“ä½œçš„æ€§èƒ½ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"fmt"</span><span class="token string">"sync"</span><span class="token string">"sync/atomic"</span><span class="token string">"time"</span><span class="token punctuation">)</span><span class="token keyword">type</span> Counter <span class="token keyword">interface</span> <span class="token punctuation">{</span><span class="token function">Inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">Load</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int64</span><span class="token punctuation">}</span><span class="token comment">// æ™®é€šç‰ˆ</span><span class="token keyword">type</span> CommonCounter <span class="token keyword">struct</span> <span class="token punctuation">{</span>counter <span class="token builtin">int64</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token punctuation">(</span>c CommonCounter<span class="token punctuation">)</span> <span class="token function">Inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>c<span class="token punctuation">.</span>counter<span class="token operator">++</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token punctuation">(</span>c CommonCounter<span class="token punctuation">)</span> <span class="token function">Load</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int64</span> <span class="token punctuation">{</span><span class="token keyword">return</span> c<span class="token punctuation">.</span>counter<span class="token punctuation">}</span><span class="token comment">// äº’æ–¥é”ç‰ˆ</span><span class="token keyword">type</span> MutexCounter <span class="token keyword">struct</span> <span class="token punctuation">{</span>counter <span class="token builtin">int64</span>lock    sync<span class="token punctuation">.</span>Mutex<span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>MutexCounter<span class="token punctuation">)</span> <span class="token function">Inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>m<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">defer</span> m<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>m<span class="token punctuation">.</span>counter<span class="token operator">++</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>MutexCounter<span class="token punctuation">)</span> <span class="token function">Load</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int64</span> <span class="token punctuation">{</span>m<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">defer</span> m<span class="token punctuation">.</span>lock<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">return</span> m<span class="token punctuation">.</span>counter<span class="token punctuation">}</span><span class="token comment">// åŸå­æ“ä½œç‰ˆ</span><span class="token keyword">type</span> AtomicCounter <span class="token keyword">struct</span> <span class="token punctuation">{</span>counter <span class="token builtin">int64</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token punctuation">(</span>a <span class="token operator">*</span>AtomicCounter<span class="token punctuation">)</span> <span class="token function">Inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>atomic<span class="token punctuation">.</span><span class="token function">AddInt64</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">.</span>counter<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token punctuation">(</span>a <span class="token operator">*</span>AtomicCounter<span class="token punctuation">)</span> <span class="token function">Load</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int64</span> <span class="token punctuation">{</span><span class="token keyword">return</span> atomic<span class="token punctuation">.</span><span class="token function">LoadInt64</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">.</span>counter<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span>c Counter<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">var</span> wg sync<span class="token punctuation">.</span>WaitGroupstart <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>c<span class="token punctuation">.</span><span class="token function">Inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>end <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token punctuation">.</span><span class="token function">Sub</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>c1 <span class="token operator">:=</span> CommonCounter<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// éå¹¶å‘å®‰å…¨</span><span class="token function">test</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span>c2 <span class="token operator">:=</span> MutexCounter<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// ä½¿ç”¨äº’æ–¥é”å®ç°å¹¶å‘å®‰å…¨</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>c2<span class="token punctuation">)</span>c3 <span class="token operator">:=</span> AtomicCounter<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// å¹¶å‘å®‰å…¨ä¸”æ¯”äº’æ–¥é”æ•ˆç‡æ›´é«˜</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>c3<span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>atomic</code>åŒ…æä¾›äº†åº•å±‚çš„åŸå­çº§å†…å­˜æ“ä½œï¼Œå¯¹äºåŒæ­¥ç®—æ³•çš„å®ç°å¾ˆæœ‰ç”¨ã€‚è¿™äº›å‡½æ•°å¿…é¡»è°¨æ…åœ°ä¿è¯æ­£ç¡®ä½¿ç”¨ã€‚é™¤äº†æŸäº›ç‰¹æ®Šçš„åº•å±‚åº”ç”¨ï¼Œä½¿ç”¨é€šé“æˆ–è€…syncåŒ…çš„å‡½æ•°/ç±»å‹å®ç°åŒæ­¥æ›´å¥½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è½¬è½½ </tag>
            
            <tag> Golang </tag>
            
            <tag> åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goè¯­è¨€åŸºç¡€â€”â€”ç½‘ç»œç¼–ç¨‹</title>
      <link href="/hypo-Z.github.io/2021/11/24/go-yu-yan-ji-chu-wang-luo-bian-cheng/"/>
      <url>/hypo-Z.github.io/2021/11/24/go-yu-yan-ji-chu-wang-luo-bian-cheng/</url>
      
        <content type="html"><![CDATA[<h1 id="Goè¯­è¨€åŸºç¡€â€”â€”ç½‘ç»œç¼–ç¨‹"><a href="#Goè¯­è¨€åŸºç¡€â€”â€”ç½‘ç»œç¼–ç¨‹" class="headerlink" title="Goè¯­è¨€åŸºç¡€â€”â€”ç½‘ç»œç¼–ç¨‹"></a>Goè¯­è¨€åŸºç¡€â€”â€”ç½‘ç»œç¼–ç¨‹</h1><h1 id="socketç¼–ç¨‹"><a href="#socketç¼–ç¨‹" class="headerlink" title="socketç¼–ç¨‹"></a>socketç¼–ç¨‹</h1><p>Socketæ˜¯BSD UNIXçš„è¿›ç¨‹é€šä¿¡æœºåˆ¶ï¼Œé€šå¸¸ä¹Ÿç§°ä½œâ€å¥—æ¥å­—â€ï¼Œç”¨äºæè¿°IPåœ°å€å’Œç«¯å£ï¼Œæ˜¯ä¸€ä¸ªé€šä¿¡é“¾çš„å¥æŸ„ã€‚Socketå¯ä»¥ç†è§£ä¸ºTCP/IPç½‘ç»œçš„APIï¼Œå®ƒå®šä¹‰äº†è®¸å¤šå‡½æ•°æˆ–ä¾‹ç¨‹ï¼Œç¨‹åºå‘˜å¯ä»¥ç”¨å®ƒä»¬æ¥å¼€å‘TCP/IPç½‘ç»œä¸Šçš„åº”ç”¨ç¨‹åºã€‚ç”µè„‘ä¸Šè¿è¡Œçš„åº”ç”¨ç¨‹åºé€šå¸¸é€šè¿‡â€å¥—æ¥å­—â€å‘ç½‘ç»œå‘å‡ºè¯·æ±‚æˆ–è€…åº”ç­”ç½‘ç»œè¯·æ±‚ã€‚</p><h2 id="socketå›¾è§£"><a href="#socketå›¾è§£" class="headerlink" title="socketå›¾è§£"></a>socketå›¾è§£</h2><p><code>Socket</code>æ˜¯åº”ç”¨å±‚ä¸TCP/IPåè®®æ—é€šä¿¡çš„ä¸­é—´è½¯ä»¶æŠ½è±¡å±‚ã€‚åœ¨è®¾è®¡æ¨¡å¼ä¸­ï¼Œ<code>Socket</code>å…¶å®å°±æ˜¯ä¸€ä¸ªé—¨é¢æ¨¡å¼ï¼Œå®ƒæŠŠå¤æ‚çš„TCP/IPåè®®æ—éšè—åœ¨<code>Socket</code>åé¢ï¼Œå¯¹ç”¨æˆ·æ¥è¯´åªéœ€è¦è°ƒç”¨Socketè§„å®šçš„ç›¸å…³å‡½æ•°ï¼Œè®©<code>Socket</code>å»ç»„ç»‡ç¬¦åˆæŒ‡å®šçš„åè®®æ•°æ®ç„¶åè¿›è¡Œé€šä¿¡ã€‚</p><p><img src="https://www.liwenzhou.com/images/Go/socket/socket.png" alt="socketå›¾è§£"></p><h2 id="Goè¯­è¨€å®ç°TCPé€šä¿¡"><a href="#Goè¯­è¨€å®ç°TCPé€šä¿¡" class="headerlink" title="Goè¯­è¨€å®ç°TCPé€šä¿¡"></a>Goè¯­è¨€å®ç°TCPé€šä¿¡</h2><h3 id="TCPåè®®"><a href="#TCPåè®®" class="headerlink" title="TCPåè®®"></a>TCPåè®®</h3><p>TCP/IP(Transmission Control Protocol/Internet Protocol) å³ä¼ è¾“æ§åˆ¶åè®®/ç½‘é—´åè®®ï¼Œæ˜¯ä¸€ç§é¢å‘è¿æ¥ï¼ˆè¿æ¥å¯¼å‘ï¼‰çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„ä¼ è¾“å±‚ï¼ˆTransport layerï¼‰é€šä¿¡åè®®ï¼Œå› ä¸ºæ˜¯é¢å‘è¿æ¥çš„åè®®ï¼Œæ•°æ®åƒæ°´æµä¸€æ ·ä¼ è¾“ï¼Œä¼šå­˜åœ¨é»åŒ…é—®é¢˜ã€‚</p><h3 id="TCPæœåŠ¡ç«¯"><a href="#TCPæœåŠ¡ç«¯" class="headerlink" title="TCPæœåŠ¡ç«¯"></a>TCPæœåŠ¡ç«¯</h3><p>ä¸€ä¸ªTCPæœåŠ¡ç«¯å¯ä»¥åŒæ—¶è¿æ¥å¾ˆå¤šä¸ªå®¢æˆ·ç«¯ï¼Œä¾‹å¦‚ä¸–ç•Œå„åœ°çš„ç”¨æˆ·ä½¿ç”¨è‡ªå·±ç”µè„‘ä¸Šçš„æµè§ˆå™¨è®¿é—®æ·˜å®ç½‘ã€‚å› ä¸ºGoè¯­è¨€ä¸­åˆ›å»ºå¤šä¸ªgoroutineå®ç°å¹¶å‘éå¸¸æ–¹ä¾¿å’Œé«˜æ•ˆï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ¯å»ºç«‹ä¸€æ¬¡é“¾æ¥å°±åˆ›å»ºä¸€ä¸ªgoroutineå»å¤„ç†ã€‚</p><p>TCPæœåŠ¡ç«¯ç¨‹åºçš„å¤„ç†æµç¨‹ï¼š</p><ol><li>ç›‘å¬ç«¯å£</li><li>æ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚å»ºç«‹é“¾æ¥</li><li>åˆ›å»ºgoroutineå¤„ç†é“¾æ¥ã€‚</li></ol><p>æˆ‘ä»¬ä½¿ç”¨Goè¯­è¨€çš„netåŒ…å®ç°çš„TCPæœåŠ¡ç«¯ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// tcp/server/main.go</span><span class="token comment">// TCP serverç«¯</span><span class="token comment">// å¤„ç†å‡½æ•°</span><span class="token keyword">func</span> <span class="token function">process</span><span class="token punctuation">(</span>conn net<span class="token punctuation">.</span>Conn<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">defer</span> conn<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å…³é—­è¿æ¥</span><span class="token keyword">for</span> <span class="token punctuation">{</span>reader <span class="token operator">:=</span> bufio<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span>conn<span class="token punctuation">)</span><span class="token keyword">var</span> buf <span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span><span class="token builtin">byte</span>n<span class="token punctuation">,</span> err <span class="token operator">:=</span> reader<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span>buf<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// è¯»å–æ•°æ®</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"read from client failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">}</span>recvStr <span class="token operator">:=</span> <span class="token function">string</span><span class="token punctuation">(</span>buf<span class="token punctuation">[</span><span class="token punctuation">:</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"æ”¶åˆ°clientç«¯å‘æ¥çš„æ•°æ®ï¼š"</span><span class="token punctuation">,</span> recvStr<span class="token punctuation">)</span>conn<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>recvStr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// å‘é€æ•°æ®</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>listen<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Listen</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">"127.0.0.1:20000"</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"listen failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token keyword">for</span> <span class="token punctuation">{</span>conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> listen<span class="token punctuation">.</span><span class="token function">Accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å»ºç«‹è¿æ¥</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"accept failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">continue</span><span class="token punctuation">}</span><span class="token keyword">go</span> <span class="token function">process</span><span class="token punctuation">(</span>conn<span class="token punctuation">)</span> <span class="token comment">// å¯åŠ¨ä¸€ä¸ªgoroutineå¤„ç†è¿æ¥</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å°†ä¸Šé¢çš„ä»£ç ä¿å­˜ä¹‹åç¼–è¯‘æˆ<code>server</code>æˆ–<code>server.exe</code>å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><h3 id="TCPå®¢æˆ·ç«¯"><a href="#TCPå®¢æˆ·ç«¯" class="headerlink" title="TCPå®¢æˆ·ç«¯"></a>TCPå®¢æˆ·ç«¯</h3><p>ä¸€ä¸ªTCPå®¢æˆ·ç«¯è¿›è¡ŒTCPé€šä¿¡çš„æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>å»ºç«‹ä¸æœåŠ¡ç«¯çš„é“¾æ¥</li><li>è¿›è¡Œæ•°æ®æ”¶å‘</li><li>å…³é—­é“¾æ¥</li></ol><p>ä½¿ç”¨Goè¯­è¨€çš„netåŒ…å®ç°çš„TCPå®¢æˆ·ç«¯ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// tcp/client/main.go</span><span class="token comment">// å®¢æˆ·ç«¯</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Dial</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">"127.0.0.1:20000"</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"err :"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token keyword">defer</span> conn<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å…³é—­è¿æ¥</span>inputReader <span class="token operator">:=</span> bufio<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Stdin<span class="token punctuation">)</span><span class="token keyword">for</span> <span class="token punctuation">{</span>input<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> inputReader<span class="token punctuation">.</span><span class="token function">ReadString</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span> <span class="token comment">// è¯»å–ç”¨æˆ·è¾“å…¥</span>inputInfo <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Trim</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token string">"\r\n"</span><span class="token punctuation">)</span><span class="token keyword">if</span> strings<span class="token punctuation">.</span><span class="token function">ToUpper</span><span class="token punctuation">(</span>inputInfo<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"Q"</span> <span class="token punctuation">{</span> <span class="token comment">// å¦‚æœè¾“å…¥qå°±é€€å‡º</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>inputInfo<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// å‘é€æ•°æ®</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">}</span>buf <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">512</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">{</span><span class="token punctuation">}</span>n<span class="token punctuation">,</span> err <span class="token operator">:=</span> conn<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span>buf<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"recv failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>buf<span class="token punctuation">[</span><span class="token punctuation">:</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å°†ä¸Šé¢çš„ä»£ç ç¼–è¯‘æˆ<code>client</code>æˆ–<code>client.exe</code>å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå…ˆå¯åŠ¨serverç«¯å†å¯åŠ¨clientç«¯ï¼Œåœ¨clientç«¯è¾“å…¥ä»»æ„å†…å®¹å›è½¦ä¹‹åå°±èƒ½å¤Ÿåœ¨serverç«¯çœ‹åˆ°clientç«¯å‘é€çš„æ•°æ®ï¼Œä»è€Œå®ç°TCPé€šä¿¡ã€‚</p><h2 id="TCPé»åŒ…"><a href="#TCPé»åŒ…" class="headerlink" title="TCPé»åŒ…"></a>TCPé»åŒ…</h2><h3 id="é»åŒ…ç¤ºä¾‹"><a href="#é»åŒ…ç¤ºä¾‹" class="headerlink" title="é»åŒ…ç¤ºä¾‹"></a>é»åŒ…ç¤ºä¾‹</h3><p>æœåŠ¡ç«¯ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// socket_stick/server/main.go</span><span class="token keyword">func</span> <span class="token function">process</span><span class="token punctuation">(</span>conn net<span class="token punctuation">.</span>Conn<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">defer</span> conn<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>reader <span class="token operator">:=</span> bufio<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span>conn<span class="token punctuation">)</span><span class="token keyword">var</span> buf <span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token keyword">for</span> <span class="token punctuation">{</span>n<span class="token punctuation">,</span> err <span class="token operator">:=</span> reader<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span>buf<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">==</span> io<span class="token punctuation">.</span>EOF <span class="token punctuation">{</span><span class="token keyword">break</span><span class="token punctuation">}</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"read from client failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">}</span>recvStr <span class="token operator">:=</span> <span class="token function">string</span><span class="token punctuation">(</span>buf<span class="token punctuation">[</span><span class="token punctuation">:</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"æ”¶åˆ°clientå‘æ¥çš„æ•°æ®ï¼š"</span><span class="token punctuation">,</span> recvStr<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>listen<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Listen</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">"127.0.0.1:30000"</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"listen failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token keyword">defer</span> listen<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">for</span> <span class="token punctuation">{</span>conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> listen<span class="token punctuation">.</span><span class="token function">Accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"accept failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">continue</span><span class="token punctuation">}</span><span class="token keyword">go</span> <span class="token function">process</span><span class="token punctuation">(</span>conn<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å®¢æˆ·ç«¯ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// socket_stick/client/main.go</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Dial</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">"127.0.0.1:30000"</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"dial failed, err"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token keyword">defer</span> conn<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>msg <span class="token operator">:=</span> <span class="token string">`Hello, Hello. How are you?`</span>conn<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å°†ä¸Šé¢çš„ä»£ç ä¿å­˜åï¼Œåˆ†åˆ«ç¼–è¯‘ã€‚å…ˆå¯åŠ¨æœåŠ¡ç«¯å†å¯åŠ¨å®¢æˆ·ç«¯ï¼Œå¯ä»¥çœ‹åˆ°æœåŠ¡ç«¯è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">æ”¶åˆ°clientå‘æ¥çš„æ•°æ®ï¼š Hello, Hello. How are you?Hello, Hello. How are you?Hello, Hello. How are you?Hello, Hello. How are you?Hello, Hello. How are you?æ”¶åˆ°clientå‘æ¥çš„æ•°æ®ï¼š Hello, Hello. How are you?Hello, Hello. How are you?Hello, Hello. How are you?Hello, Hello. How are you?Hello, Hello. How are you?Hello, Hello. How are you?Hello, Hello. How are you?Hello, Hello. How are you?æ”¶åˆ°clientå‘æ¥çš„æ•°æ®ï¼š Hello, Hello. How are you?Hello, Hello. How are you?æ”¶åˆ°clientå‘æ¥çš„æ•°æ®ï¼š Hello, Hello. How are you?Hello, Hello. How are you?Hello, Hello. How are you?æ”¶åˆ°clientå‘æ¥çš„æ•°æ®ï¼š Hello, Hello. How are you?Hello, Hello. How are you?<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å®¢æˆ·ç«¯åˆ†10æ¬¡å‘é€çš„æ•°æ®ï¼Œåœ¨æœåŠ¡ç«¯å¹¶æ²¡æœ‰æˆåŠŸçš„è¾“å‡º10æ¬¡ï¼Œè€Œæ˜¯å¤šæ¡æ•°æ®â€œç²˜â€åˆ°äº†ä¸€èµ·ã€‚</p><h3 id="ä¸ºä»€ä¹ˆä¼šå‡ºç°ç²˜åŒ…"><a href="#ä¸ºä»€ä¹ˆä¼šå‡ºç°ç²˜åŒ…" class="headerlink" title="ä¸ºä»€ä¹ˆä¼šå‡ºç°ç²˜åŒ…"></a>ä¸ºä»€ä¹ˆä¼šå‡ºç°ç²˜åŒ…</h3><p>ä¸»è¦åŸå› å°±æ˜¯tcpæ•°æ®ä¼ é€’æ¨¡å¼æ˜¯æµæ¨¡å¼ï¼Œåœ¨ä¿æŒé•¿è¿æ¥çš„æ—¶å€™å¯ä»¥è¿›è¡Œå¤šæ¬¡çš„æ”¶å’Œå‘ã€‚</p><p>â€œç²˜åŒ…â€å¯å‘ç”Ÿåœ¨å‘é€ç«¯ä¹Ÿå¯å‘ç”Ÿåœ¨æ¥æ”¶ç«¯ï¼š</p><ol><li>ç”±Nagleç®—æ³•é€ æˆçš„å‘é€ç«¯çš„ç²˜åŒ…ï¼šNagleç®—æ³•æ˜¯ä¸€ç§æ”¹å–„ç½‘ç»œä¼ è¾“æ•ˆç‡çš„ç®—æ³•ã€‚ç®€å•æ¥è¯´å°±æ˜¯å½“æˆ‘ä»¬æäº¤ä¸€æ®µæ•°æ®ç»™TCPå‘é€æ—¶ï¼ŒTCPå¹¶ä¸ç«‹åˆ»å‘é€æ­¤æ®µæ•°æ®ï¼Œè€Œæ˜¯ç­‰å¾…ä¸€å°æ®µæ—¶é—´çœ‹çœ‹åœ¨ç­‰å¾…æœŸé—´æ˜¯å¦è¿˜æœ‰è¦å‘é€çš„æ•°æ®ï¼Œè‹¥æœ‰åˆ™ä¼šä¸€æ¬¡æŠŠè¿™ä¸¤æ®µæ•°æ®å‘é€å‡ºå»ã€‚</li><li>æ¥æ”¶ç«¯æ¥æ”¶ä¸åŠæ—¶é€ æˆçš„æ¥æ”¶ç«¯ç²˜åŒ…ï¼šTCPä¼šæŠŠæ¥æ”¶åˆ°çš„æ•°æ®å­˜åœ¨è‡ªå·±çš„ç¼“å†²åŒºä¸­ï¼Œç„¶åé€šçŸ¥åº”ç”¨å±‚å–æ•°æ®ã€‚å½“åº”ç”¨å±‚ç”±äºæŸäº›åŸå› ä¸èƒ½åŠæ—¶çš„æŠŠTCPçš„æ•°æ®å–å‡ºæ¥ï¼Œå°±ä¼šé€ æˆTCPç¼“å†²åŒºä¸­å­˜æ”¾äº†å‡ æ®µæ•°æ®ã€‚</li></ol><h3 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h3><p>å‡ºç°â€ç²˜åŒ…â€çš„å…³é”®åœ¨äºæ¥æ”¶æ–¹ä¸ç¡®å®šå°†è¦ä¼ è¾“çš„æ•°æ®åŒ…çš„å¤§å°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å¯¹æ•°æ®åŒ…è¿›è¡Œå°åŒ…å’Œæ‹†åŒ…çš„æ“ä½œã€‚</p><p>å°åŒ…ï¼šå°åŒ…å°±æ˜¯ç»™ä¸€æ®µæ•°æ®åŠ ä¸ŠåŒ…å¤´ï¼Œè¿™æ ·ä¸€æ¥æ•°æ®åŒ…å°±åˆ†ä¸ºåŒ…å¤´å’ŒåŒ…ä½“ä¸¤éƒ¨åˆ†å†…å®¹äº†(è¿‡æ»¤éæ³•åŒ…æ—¶å°åŒ…ä¼šåŠ å…¥â€åŒ…å°¾â€å†…å®¹)ã€‚åŒ…å¤´éƒ¨åˆ†çš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œå¹¶ä¸”å®ƒå­˜å‚¨äº†åŒ…ä½“çš„é•¿åº¦ï¼Œæ ¹æ®åŒ…å¤´é•¿åº¦å›ºå®šä»¥åŠåŒ…å¤´ä¸­å«æœ‰åŒ…ä½“é•¿åº¦çš„å˜é‡å°±èƒ½æ­£ç¡®çš„æ‹†åˆ†å‡ºä¸€ä¸ªå®Œæ•´çš„æ•°æ®åŒ…ã€‚</p><p>æˆ‘ä»¬å¯ä»¥è‡ªå·±å®šä¹‰ä¸€ä¸ªåè®®ï¼Œæ¯”å¦‚æ•°æ®åŒ…çš„å‰4ä¸ªå­—èŠ‚ä¸ºåŒ…å¤´ï¼Œé‡Œé¢å­˜å‚¨çš„æ˜¯å‘é€çš„æ•°æ®çš„é•¿åº¦ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// socket_stick/proto/proto.go</span><span class="token keyword">package</span> proto<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"bufio"</span><span class="token string">"bytes"</span><span class="token string">"encoding/binary"</span><span class="token punctuation">)</span><span class="token comment">// Encode å°†æ¶ˆæ¯ç¼–ç </span><span class="token keyword">func</span> <span class="token function">Encode</span><span class="token punctuation">(</span>message <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// è¯»å–æ¶ˆæ¯çš„é•¿åº¦ï¼Œè½¬æ¢æˆint32ç±»å‹ï¼ˆå 4ä¸ªå­—èŠ‚ï¼‰</span><span class="token keyword">var</span> length <span class="token operator">=</span> <span class="token function">int32</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">var</span> pkg <span class="token operator">=</span> <span class="token function">new</span><span class="token punctuation">(</span>bytes<span class="token punctuation">.</span>Buffer<span class="token punctuation">)</span><span class="token comment">// å†™å…¥æ¶ˆæ¯å¤´</span>err <span class="token operator">:=</span> binary<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>pkg<span class="token punctuation">,</span> binary<span class="token punctuation">.</span>LittleEndian<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> err<span class="token punctuation">}</span><span class="token comment">// å†™å…¥æ¶ˆæ¯å®ä½“</span>err <span class="token operator">=</span> binary<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>pkg<span class="token punctuation">,</span> binary<span class="token punctuation">.</span>LittleEndian<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> err<span class="token punctuation">}</span><span class="token keyword">return</span> pkg<span class="token punctuation">.</span><span class="token function">Bytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">}</span><span class="token comment">// Decode è§£ç æ¶ˆæ¯</span><span class="token keyword">func</span> <span class="token function">Decode</span><span class="token punctuation">(</span>reader <span class="token operator">*</span>bufio<span class="token punctuation">.</span>Reader<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// è¯»å–æ¶ˆæ¯çš„é•¿åº¦</span>lengthByte<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> reader<span class="token punctuation">.</span><span class="token function">Peek</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// è¯»å–å‰4ä¸ªå­—èŠ‚çš„æ•°æ®</span>lengthBuff <span class="token operator">:=</span> bytes<span class="token punctuation">.</span><span class="token function">NewBuffer</span><span class="token punctuation">(</span>lengthByte<span class="token punctuation">)</span><span class="token keyword">var</span> length <span class="token builtin">int32</span>err <span class="token operator">:=</span> binary<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span>lengthBuff<span class="token punctuation">,</span> binary<span class="token punctuation">.</span>LittleEndian<span class="token punctuation">,</span> <span class="token operator">&amp;</span>length<span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">,</span> err<span class="token punctuation">}</span><span class="token comment">// Bufferedè¿”å›ç¼“å†²ä¸­ç°æœ‰çš„å¯è¯»å–çš„å­—èŠ‚æ•°ã€‚</span><span class="token keyword">if</span> <span class="token function">int32</span><span class="token punctuation">(</span>reader<span class="token punctuation">.</span><span class="token function">Buffered</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> length<span class="token operator">+</span><span class="token number">4</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">,</span> err<span class="token punctuation">}</span><span class="token comment">// è¯»å–çœŸæ­£çš„æ¶ˆæ¯æ•°æ®</span>pack <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> <span class="token function">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">+</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span>pack<span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">,</span> err<span class="token punctuation">}</span><span class="token keyword">return</span> <span class="token function">string</span><span class="token punctuation">(</span>pack<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¥ä¸‹æ¥åœ¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯åˆ†åˆ«ä½¿ç”¨ä¸Šé¢å®šä¹‰çš„<code>proto</code>åŒ…çš„<code>Decode</code>å’Œ<code>Encode</code>å‡½æ•°å¤„ç†æ•°æ®ã€‚</p><p>æœåŠ¡ç«¯ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// socket_stick/server2/main.go</span><span class="token keyword">func</span> <span class="token function">process</span><span class="token punctuation">(</span>conn net<span class="token punctuation">.</span>Conn<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">defer</span> conn<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>reader <span class="token operator">:=</span> bufio<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span>conn<span class="token punctuation">)</span><span class="token keyword">for</span> <span class="token punctuation">{</span>msg<span class="token punctuation">,</span> err <span class="token operator">:=</span> proto<span class="token punctuation">.</span><span class="token function">Decode</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">==</span> io<span class="token punctuation">.</span>EOF <span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"decode msg failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"æ”¶åˆ°clientå‘æ¥çš„æ•°æ®ï¼š"</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>listen<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Listen</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">"127.0.0.1:30000"</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"listen failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token keyword">defer</span> listen<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">for</span> <span class="token punctuation">{</span>conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> listen<span class="token punctuation">.</span><span class="token function">Accept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"accept failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">continue</span><span class="token punctuation">}</span><span class="token keyword">go</span> <span class="token function">process</span><span class="token punctuation">(</span>conn<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å®¢æˆ·ç«¯ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// socket_stick/client2/main.go</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">Dial</span><span class="token punctuation">(</span><span class="token string">"tcp"</span><span class="token punctuation">,</span> <span class="token string">"127.0.0.1:30000"</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"dial failed, err"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token keyword">defer</span> conn<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>msg <span class="token operator">:=</span> <span class="token string">`Hello, Hello. How are you?`</span>data<span class="token punctuation">,</span> err <span class="token operator">:=</span> proto<span class="token punctuation">.</span><span class="token function">Encode</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"encode msg failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span>conn<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Goè¯­è¨€å®ç°UDPé€šä¿¡"><a href="#Goè¯­è¨€å®ç°UDPé€šä¿¡" class="headerlink" title="Goè¯­è¨€å®ç°UDPé€šä¿¡"></a>Goè¯­è¨€å®ç°UDPé€šä¿¡</h2><h3 id="UDPåè®®"><a href="#UDPåè®®" class="headerlink" title="UDPåè®®"></a>UDPåè®®</h3><p>UDPåè®®ï¼ˆUser Datagram Protocolï¼‰ä¸­æ–‡åç§°æ˜¯ç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼Œæ˜¯OSIï¼ˆOpen System Interconnectionï¼Œå¼€æ”¾å¼ç³»ç»Ÿäº’è”ï¼‰å‚è€ƒæ¨¡å‹ä¸­ä¸€ç§<strong>æ— è¿æ¥</strong>çš„ä¼ è¾“å±‚åè®®ï¼Œä¸éœ€è¦å»ºç«‹è¿æ¥å°±èƒ½ç›´æ¥è¿›è¡Œæ•°æ®å‘é€å’Œæ¥æ”¶ï¼Œå±äºä¸å¯é çš„ã€æ²¡æœ‰æ—¶åºçš„é€šä¿¡ï¼Œä½†æ˜¯UDPåè®®çš„å®æ—¶æ€§æ¯”è¾ƒå¥½ï¼Œé€šå¸¸ç”¨äºè§†é¢‘ç›´æ’­ç›¸å…³é¢†åŸŸã€‚</p><h3 id="UDPæœåŠ¡ç«¯"><a href="#UDPæœåŠ¡ç«¯" class="headerlink" title="UDPæœåŠ¡ç«¯"></a>UDPæœåŠ¡ç«¯</h3><p>ä½¿ç”¨Goè¯­è¨€çš„<code>net</code>åŒ…å®ç°çš„UDPæœåŠ¡ç«¯ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// UDP/server/main.go</span><span class="token comment">// UDP serverç«¯</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>listen<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">ListenUDP</span><span class="token punctuation">(</span><span class="token string">"udp"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>net<span class="token punctuation">.</span>UDPAddr<span class="token punctuation">{</span>IP<span class="token punctuation">:</span>   net<span class="token punctuation">.</span><span class="token function">IPv4</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>Port<span class="token punctuation">:</span> <span class="token number">30000</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"listen failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token keyword">defer</span> listen<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">for</span> <span class="token punctuation">{</span><span class="token keyword">var</span> data <span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token builtin">byte</span>n<span class="token punctuation">,</span> addr<span class="token punctuation">,</span> err <span class="token operator">:=</span> listen<span class="token punctuation">.</span><span class="token function">ReadFromUDP</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// æ¥æ”¶æ•°æ®</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"read udp failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">continue</span><span class="token punctuation">}</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"data:%v addr:%v count:%v\n"</span><span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token punctuation">:</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> addr<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> listen<span class="token punctuation">.</span><span class="token function">WriteToUDP</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token punctuation">:</span>n<span class="token punctuation">]</span><span class="token punctuation">,</span> addr<span class="token punctuation">)</span> <span class="token comment">// å‘é€æ•°æ®</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"write to udp failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">continue</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="UDPå®¢æˆ·ç«¯"><a href="#UDPå®¢æˆ·ç«¯" class="headerlink" title="UDPå®¢æˆ·ç«¯"></a>UDPå®¢æˆ·ç«¯</h3><p>ä½¿ç”¨Goè¯­è¨€çš„<code>net</code>åŒ…å®ç°çš„UDPå®¢æˆ·ç«¯ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// UDP å®¢æˆ·ç«¯</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>socket<span class="token punctuation">,</span> err <span class="token operator">:=</span> net<span class="token punctuation">.</span><span class="token function">DialUDP</span><span class="token punctuation">(</span><span class="token string">"udp"</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>net<span class="token punctuation">.</span>UDPAddr<span class="token punctuation">{</span>IP<span class="token punctuation">:</span>   net<span class="token punctuation">.</span><span class="token function">IPv4</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>Port<span class="token punctuation">:</span> <span class="token number">30000</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"è¿æ¥æœåŠ¡ç«¯å¤±è´¥ï¼Œerr:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token keyword">defer</span> socket<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>sendData <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">"Hello server"</span><span class="token punctuation">)</span><span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> socket<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>sendData<span class="token punctuation">)</span> <span class="token comment">// å‘é€æ•°æ®</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"å‘é€æ•°æ®å¤±è´¥ï¼Œerr:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span>data <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> <span class="token number">4096</span><span class="token punctuation">)</span>n<span class="token punctuation">,</span> remoteAddr<span class="token punctuation">,</span> err <span class="token operator">:=</span> socket<span class="token punctuation">.</span><span class="token function">ReadFromUDP</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token comment">// æ¥æ”¶æ•°æ®</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"æ¥æ”¶æ•°æ®å¤±è´¥ï¼Œerr:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"recv:%v addr:%v count:%v\n"</span><span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token punctuation">:</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> remoteAddr<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è½¬è½½ </tag>
            
            <tag> Golang </tag>
            
            <tag> åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goè¯­è¨€åŸºç¡€â€”â€”æ•°ç»„ä¸åˆ‡ç‰‡</title>
      <link href="/hypo-Z.github.io/2021/11/24/go-yu-yan-ji-chu-shu-zu-yu-qie-pian/"/>
      <url>/hypo-Z.github.io/2021/11/24/go-yu-yan-ji-chu-shu-zu-yu-qie-pian/</url>
      
        <content type="html"><![CDATA[<h1 id="Goè¯­è¨€åŸºç¡€â€”â€”æ•°ç»„ä¸åˆ‡ç‰‡"><a href="#Goè¯­è¨€åŸºç¡€â€”â€”æ•°ç»„ä¸åˆ‡ç‰‡" class="headerlink" title="Goè¯­è¨€åŸºç¡€â€”â€”æ•°ç»„ä¸åˆ‡ç‰‡"></a>Goè¯­è¨€åŸºç¡€â€”â€”æ•°ç»„ä¸åˆ‡ç‰‡</h1><h1 id="Array-æ•°ç»„"><a href="#Array-æ•°ç»„" class="headerlink" title="Array(æ•°ç»„)"></a>Array(æ•°ç»„)</h1><p>æ•°ç»„æ˜¯åŒä¸€ç§æ•°æ®ç±»å‹å…ƒç´ çš„é›†åˆã€‚ åœ¨Goè¯­è¨€ä¸­ï¼Œæ•°ç»„ä»å£°æ˜æ—¶å°±ç¡®å®šï¼Œä½¿ç”¨æ—¶å¯ä»¥ä¿®æ”¹æ•°ç»„æˆå‘˜ï¼Œä½†æ˜¯æ•°ç»„å¤§å°ä¸å¯å˜åŒ–ã€‚ åŸºæœ¬è¯­æ³•ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// å®šä¹‰ä¸€ä¸ªé•¿åº¦ä¸º3å…ƒç´ ç±»å‹ä¸ºintçš„æ•°ç»„a</span><span class="token keyword">var</span> a <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="æ•°ç»„å®šä¹‰ï¼š"><a href="#æ•°ç»„å®šä¹‰ï¼š" class="headerlink" title="æ•°ç»„å®šä¹‰ï¼š"></a>æ•°ç»„å®šä¹‰ï¼š</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">var æ•°ç»„å˜é‡å <span class="token punctuation">[</span>å…ƒç´ æ•°é‡<span class="token punctuation">]</span>T<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¯”å¦‚ï¼š<code>var a [5]int</code>ï¼Œ æ•°ç»„çš„é•¿åº¦å¿…é¡»æ˜¯å¸¸é‡ï¼Œå¹¶ä¸”é•¿åº¦æ˜¯æ•°ç»„ç±»å‹çš„ä¸€éƒ¨åˆ†ã€‚ä¸€æ—¦å®šä¹‰ï¼Œé•¿åº¦ä¸èƒ½å˜ã€‚ <code>[5]int</code>å’Œ<code>[10]int</code>æ˜¯ä¸åŒçš„ç±»å‹ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> a <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token keyword">var</span> b <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token builtin">int</span>a <span class="token operator">=</span> b <span class="token comment">//ä¸å¯ä»¥è¿™æ ·åšï¼Œå› ä¸ºæ­¤æ—¶aå’Œbæ˜¯ä¸åŒçš„ç±»å‹</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ•°ç»„å¯ä»¥é€šè¿‡ä¸‹æ ‡è¿›è¡Œè®¿é—®ï¼Œä¸‹æ ‡æ˜¯ä»<code>0</code>å¼€å§‹ï¼Œæœ€åä¸€ä¸ªå…ƒç´ ä¸‹æ ‡æ˜¯ï¼š<code>len-1</code>ï¼Œè®¿é—®è¶Šç•Œï¼ˆä¸‹æ ‡åœ¨åˆæ³•èŒƒå›´ä¹‹å¤–ï¼‰ï¼Œåˆ™è§¦å‘è®¿é—®è¶Šç•Œï¼Œä¼španicã€‚</p><h2 id="æ•°ç»„çš„åˆå§‹åŒ–"><a href="#æ•°ç»„çš„åˆå§‹åŒ–" class="headerlink" title="æ•°ç»„çš„åˆå§‹åŒ–"></a>æ•°ç»„çš„åˆå§‹åŒ–</h2><p>æ•°ç»„çš„åˆå§‹åŒ–ä¹Ÿæœ‰å¾ˆå¤šæ–¹å¼ã€‚</p><h3 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3><p>åˆå§‹åŒ–æ•°ç»„æ—¶å¯ä»¥ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨æ¥è®¾ç½®æ•°ç»„å…ƒç´ çš„å€¼ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">var</span> testArray <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span>                        <span class="token comment">//æ•°ç»„ä¼šåˆå§‹åŒ–ä¸ºintç±»å‹çš„é›¶å€¼</span><span class="token keyword">var</span> numArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span>                 <span class="token comment">//ä½¿ç”¨æŒ‡å®šçš„åˆå§‹å€¼å®Œæˆåˆå§‹åŒ–</span><span class="token keyword">var</span> cityArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"åŒ—äº¬"</span><span class="token punctuation">,</span> <span class="token string">"ä¸Šæµ·"</span><span class="token punctuation">,</span> <span class="token string">"æ·±åœ³"</span><span class="token punctuation">}</span> <span class="token comment">//ä½¿ç”¨æŒ‡å®šçš„åˆå§‹å€¼å®Œæˆåˆå§‹åŒ–</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>testArray<span class="token punctuation">)</span>                      <span class="token comment">//[0 0 0]</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>numArray<span class="token punctuation">)</span>                       <span class="token comment">//[1 2 0]</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>cityArray<span class="token punctuation">)</span>                      <span class="token comment">//[åŒ—äº¬ ä¸Šæµ· æ·±åœ³]</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h3><p>æŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•æ¯æ¬¡éƒ½è¦ç¡®ä¿æä¾›çš„åˆå§‹å€¼å’Œæ•°ç»„é•¿åº¦ä¸€è‡´ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥è®©ç¼–è¯‘å™¨æ ¹æ®åˆå§‹å€¼çš„ä¸ªæ•°è‡ªè¡Œæ¨æ–­æ•°ç»„çš„é•¿åº¦ï¼Œä¾‹å¦‚ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">var</span> testArray <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token keyword">var</span> numArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token keyword">var</span> cityArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"åŒ—äº¬"</span><span class="token punctuation">,</span> <span class="token string">"ä¸Šæµ·"</span><span class="token punctuation">,</span> <span class="token string">"æ·±åœ³"</span><span class="token punctuation">}</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>testArray<span class="token punctuation">)</span>                          <span class="token comment">//[0 0 0]</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>numArray<span class="token punctuation">)</span>                           <span class="token comment">//[1 2]</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"type of numArray:%T\n"</span><span class="token punctuation">,</span> numArray<span class="token punctuation">)</span>   <span class="token comment">//type of numArray:[2]int</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>cityArray<span class="token punctuation">)</span>                          <span class="token comment">//[åŒ—äº¬ ä¸Šæµ· æ·±åœ³]</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"type of cityArray:%T\n"</span><span class="token punctuation">,</span> cityArray<span class="token punctuation">)</span> <span class="token comment">//type of cityArray:[3]string</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ–¹æ³•ä¸‰"><a href="#æ–¹æ³•ä¸‰" class="headerlink" title="æ–¹æ³•ä¸‰"></a>æ–¹æ³•ä¸‰</h3><p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨æŒ‡å®šç´¢å¼•å€¼çš„æ–¹å¼æ¥åˆå§‹åŒ–æ•°ç»„ï¼Œä¾‹å¦‚:</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">}</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>                  <span class="token comment">// [0 1 0 5]</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"type of a:%T\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span> <span class="token comment">//type of a:[4]int</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ•°ç»„çš„éå†"><a href="#æ•°ç»„çš„éå†" class="headerlink" title="æ•°ç»„çš„éå†"></a>æ•°ç»„çš„éå†</h2><p>éå†æ•°ç»„aæœ‰ä»¥ä¸‹ä¸¤ç§æ–¹æ³•ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"åŒ—äº¬"</span><span class="token punctuation">,</span> <span class="token string">"ä¸Šæµ·"</span><span class="token punctuation">,</span> <span class="token string">"æ·±åœ³"</span><span class="token punctuation">}</span><span class="token comment">// æ–¹æ³•1ï¼šforå¾ªç¯éå†</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// æ–¹æ³•2ï¼šfor rangeéå†</span><span class="token keyword">for</span> index<span class="token punctuation">,</span> value <span class="token operator">:=</span> <span class="token keyword">range</span> a <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å› ä¸ºæ•°ç»„çš„é•¿åº¦æ˜¯å›ºå®šçš„å¹¶ä¸”æ•°ç»„é•¿åº¦å±äºç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥æ•°ç»„æœ‰å¾ˆå¤šçš„å±€é™æ€§ã€‚ ä¾‹å¦‚ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">arraySum</span><span class="token punctuation">(</span>x <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token punctuation">{</span>    sum <span class="token operator">:=</span> <span class="token number">0</span>    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> x<span class="token punctuation">{</span>        sum <span class="token operator">=</span> sum <span class="token operator">+</span> v    <span class="token punctuation">}</span>    <span class="token keyword">return</span> sum<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸ªæ±‚å’Œå‡½æ•°åªèƒ½æ¥å—<code>[3]int</code>ç±»å‹ï¼Œå…¶ä»–çš„éƒ½ä¸æ”¯æŒã€‚ å†æ¯”å¦‚ï¼Œ</p><pre class="line-numbers language-go" data-language="go"><code class="language-go">a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ•°ç»„aä¸­å·²ç»æœ‰ä¸‰ä¸ªå…ƒç´ äº†ï¼Œæˆ‘ä»¬ä¸èƒ½å†ç»§ç»­å¾€æ•°ç»„aä¸­æ·»åŠ æ–°å…ƒç´ äº†ã€‚</p><h1 id="åˆ‡ç‰‡"><a href="#åˆ‡ç‰‡" class="headerlink" title="åˆ‡ç‰‡"></a>åˆ‡ç‰‡</h1><p>åˆ‡ç‰‡ï¼ˆSliceï¼‰æ˜¯ä¸€ä¸ªæ‹¥æœ‰ç›¸åŒç±»å‹å…ƒç´ çš„å¯å˜é•¿åº¦çš„åºåˆ—ã€‚å®ƒæ˜¯åŸºäºæ•°ç»„ç±»å‹åšçš„ä¸€å±‚å°è£…ã€‚å®ƒéå¸¸çµæ´»ï¼Œæ”¯æŒè‡ªåŠ¨æ‰©å®¹ã€‚</p><p>åˆ‡ç‰‡æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œå®ƒçš„å†…éƒ¨ç»“æ„åŒ…å«<code>åœ°å€</code>ã€<code>é•¿åº¦</code>å’Œ<code>å®¹é‡</code>ã€‚åˆ‡ç‰‡ä¸€èˆ¬ç”¨äºå¿«é€Ÿåœ°æ“ä½œä¸€å—æ•°æ®é›†åˆã€‚</p><h2 id="åˆ‡ç‰‡çš„å®šä¹‰"><a href="#åˆ‡ç‰‡çš„å®šä¹‰" class="headerlink" title="åˆ‡ç‰‡çš„å®šä¹‰"></a>åˆ‡ç‰‡çš„å®šä¹‰</h2><p>å£°æ˜åˆ‡ç‰‡ç±»å‹çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> name <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å…¶ä¸­ï¼Œ</p><ul><li>name:è¡¨ç¤ºå˜é‡å</li><li>T:è¡¨ç¤ºåˆ‡ç‰‡ä¸­çš„å…ƒç´ ç±»å‹</li></ul><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// å£°æ˜åˆ‡ç‰‡ç±»å‹</span><span class="token keyword">var</span> a <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>              <span class="token comment">//å£°æ˜ä¸€ä¸ªå­—ç¬¦ä¸²åˆ‡ç‰‡</span><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token punctuation">}</span>             <span class="token comment">//å£°æ˜ä¸€ä¸ªæ•´å‹åˆ‡ç‰‡å¹¶åˆå§‹åŒ–</span><span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token comment">//å£°æ˜ä¸€ä¸ªå¸ƒå°”åˆ‡ç‰‡å¹¶åˆå§‹åŒ–</span><span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token comment">//å£°æ˜ä¸€ä¸ªå¸ƒå°”åˆ‡ç‰‡å¹¶åˆå§‹åŒ–</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>              <span class="token comment">//[]</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>              <span class="token comment">//[]</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>              <span class="token comment">//[false true]</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>       <span class="token comment">//true</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>b <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>       <span class="token comment">//false</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>       <span class="token comment">//false</span><span class="token comment">// fmt.Println(c == d)   //åˆ‡ç‰‡æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¸æ”¯æŒç›´æ¥æ¯”è¾ƒï¼Œåªèƒ½å’Œnilæ¯”è¾ƒ</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡"><a href="#åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡" class="headerlink" title="åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡"></a>åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡</h3><p>åˆ‡ç‰‡æ‹¥æœ‰è‡ªå·±çš„é•¿åº¦å’Œå®¹é‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨å†…ç½®çš„<code>len()</code>å‡½æ•°æ±‚é•¿åº¦ï¼Œä½¿ç”¨å†…ç½®çš„<code>cap()</code>å‡½æ•°æ±‚åˆ‡ç‰‡çš„å®¹é‡ã€‚</p><h3 id="åˆ‡ç‰‡è¡¨è¾¾å¼"><a href="#åˆ‡ç‰‡è¡¨è¾¾å¼" class="headerlink" title="åˆ‡ç‰‡è¡¨è¾¾å¼"></a>åˆ‡ç‰‡è¡¨è¾¾å¼</h3><p>åˆ‡ç‰‡è¡¨è¾¾å¼ä»å­—ç¬¦ä¸²ã€æ•°ç»„ã€æŒ‡å‘æ•°ç»„æˆ–åˆ‡ç‰‡çš„æŒ‡é’ˆæ„é€ å­å­—ç¬¦ä¸²æˆ–åˆ‡ç‰‡ã€‚å®ƒæœ‰ä¸¤ç§å˜ä½“ï¼šä¸€ç§æŒ‡å®šlowå’Œhighä¸¤ä¸ªç´¢å¼•ç•Œé™å€¼çš„ç®€å•çš„å½¢å¼ï¼Œå¦ä¸€ç§æ˜¯é™¤äº†lowå’Œhighç´¢å¼•ç•Œé™å€¼å¤–è¿˜æŒ‡å®šå®¹é‡çš„å®Œæ•´çš„å½¢å¼ã€‚</p><h4 id="ç®€å•åˆ‡ç‰‡è¡¨è¾¾å¼"><a href="#ç®€å•åˆ‡ç‰‡è¡¨è¾¾å¼" class="headerlink" title="ç®€å•åˆ‡ç‰‡è¡¨è¾¾å¼"></a>ç®€å•åˆ‡ç‰‡è¡¨è¾¾å¼</h4><p>åˆ‡ç‰‡çš„åº•å±‚å°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åŸºäºæ•°ç»„é€šè¿‡åˆ‡ç‰‡è¡¨è¾¾å¼å¾—åˆ°åˆ‡ç‰‡ã€‚ åˆ‡ç‰‡è¡¨è¾¾å¼ä¸­çš„<code>low</code>å’Œ<code>high</code>è¡¨ç¤ºä¸€ä¸ªç´¢å¼•èŒƒå›´ï¼ˆå·¦åŒ…å«ï¼Œå³ä¸åŒ…å«ï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢ä»£ç ä¸­ä»æ•°ç»„aä¸­é€‰å‡º<code>1&lt;=ç´¢å¼•å€¼&lt;4</code>çš„å…ƒç´ ç»„æˆåˆ‡ç‰‡sï¼Œå¾—åˆ°çš„åˆ‡ç‰‡<code>é•¿åº¦=high-low</code>ï¼Œå®¹é‡ç­‰äºå¾—åˆ°çš„åˆ‡ç‰‡çš„åº•å±‚æ•°ç»„çš„å®¹é‡ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>s <span class="token operator">:=</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span>  <span class="token comment">// s := a[low:high]</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"s:%v len(s):%v cap(s):%v\n"</span><span class="token punctuation">,</span> s<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">s:<span class="token punctuation">[</span><span class="token number">2</span> <span class="token number">3</span><span class="token punctuation">]</span> len<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:2 cap<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:4<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œå¯ä»¥çœç•¥åˆ‡ç‰‡è¡¨è¾¾å¼ä¸­çš„ä»»ä½•ç´¢å¼•ã€‚çœç•¥äº†<code>low</code>åˆ™é»˜è®¤ä¸º0ï¼›çœç•¥äº†<code>high</code>åˆ™é»˜è®¤ä¸ºåˆ‡ç‰‡æ“ä½œæ•°çš„é•¿åº¦:</p><pre class="line-numbers language-go" data-language="go"><code class="language-go">a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span>  <span class="token comment">// ç­‰åŒäº a[2:len(a)]</span>a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span>  <span class="token comment">// ç­‰åŒäº a[0:3]</span>a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span>   <span class="token comment">// ç­‰åŒäº a[0:len(a)]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>æ³¨æ„ï¼š</strong></p><p>å¯¹äºæ•°ç»„æˆ–å­—ç¬¦ä¸²ï¼Œå¦‚æœ<code>0 &lt;= low &lt;= high &lt;= len(a)</code>ï¼Œåˆ™ç´¢å¼•åˆæ³•ï¼Œå¦åˆ™å°±ä¼šç´¢å¼•è¶Šç•Œï¼ˆout of rangeï¼‰ã€‚</p><p>å¯¹åˆ‡ç‰‡å†æ‰§è¡Œåˆ‡ç‰‡è¡¨è¾¾å¼æ—¶ï¼ˆåˆ‡ç‰‡å†åˆ‡ç‰‡ï¼‰ï¼Œ<code>high</code>çš„ä¸Šé™è¾¹ç•Œæ˜¯åˆ‡ç‰‡çš„å®¹é‡<code>cap(a)</code>ï¼Œè€Œä¸æ˜¯é•¿åº¦ã€‚<strong>å¸¸é‡ç´¢å¼•</strong>å¿…é¡»æ˜¯éè´Ÿçš„ï¼Œå¹¶ä¸”å¯ä»¥ç”¨intç±»å‹çš„å€¼è¡¨ç¤º;å¯¹äºæ•°ç»„æˆ–å¸¸é‡å­—ç¬¦ä¸²ï¼Œå¸¸é‡ç´¢å¼•ä¹Ÿå¿…é¡»åœ¨æœ‰æ•ˆèŒƒå›´å†…ã€‚å¦‚æœ<code>low</code>å’Œ<code>high</code>ä¸¤ä¸ªæŒ‡æ ‡éƒ½æ˜¯å¸¸æ•°ï¼Œå®ƒä»¬å¿…é¡»æ»¡è¶³<code>low &lt;= high</code>ã€‚å¦‚æœç´¢å¼•åœ¨è¿è¡Œæ—¶è¶…å‡ºèŒƒå›´ï¼Œå°±ä¼šå‘ç”Ÿè¿è¡Œæ—¶<code>panic</code>ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>s <span class="token operator">:=</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span>  <span class="token comment">// s := a[low:high]</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"s:%v len(s):%v cap(s):%v\n"</span><span class="token punctuation">,</span> s<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>s2 <span class="token operator">:=</span> s<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span>  <span class="token comment">// ç´¢å¼•çš„ä¸Šé™æ˜¯cap(s)è€Œä¸æ˜¯len(s)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"s2:%v len(s2):%v cap(s2):%v\n"</span><span class="token punctuation">,</span> s2<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">s:<span class="token punctuation">[</span><span class="token number">2</span> <span class="token number">3</span><span class="token punctuation">]</span> len<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:2 cap<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:4s2:<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> len<span class="token punctuation">(</span>s2<span class="token punctuation">)</span>:1 cap<span class="token punctuation">(</span>s2<span class="token punctuation">)</span>:1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="å®Œæ•´åˆ‡ç‰‡è¡¨è¾¾å¼"><a href="#å®Œæ•´åˆ‡ç‰‡è¡¨è¾¾å¼" class="headerlink" title="å®Œæ•´åˆ‡ç‰‡è¡¨è¾¾å¼"></a>å®Œæ•´åˆ‡ç‰‡è¡¨è¾¾å¼</h4><p>å¯¹äºæ•°ç»„ï¼ŒæŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆï¼Œæˆ–åˆ‡ç‰‡a(<strong>æ³¨æ„ä¸èƒ½æ˜¯å­—ç¬¦ä¸²</strong>)æ”¯æŒå®Œæ•´åˆ‡ç‰‡è¡¨è¾¾å¼ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go">a<span class="token punctuation">[</span>low <span class="token punctuation">:</span> high <span class="token punctuation">:</span> max<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸Šé¢çš„ä»£ç ä¼šæ„é€ ä¸ç®€å•åˆ‡ç‰‡è¡¨è¾¾å¼<code>a[low: high]</code>ç›¸åŒç±»å‹ã€ç›¸åŒé•¿åº¦å’Œå…ƒç´ çš„åˆ‡ç‰‡ã€‚å¦å¤–ï¼Œå®ƒä¼šå°†å¾—åˆ°çš„ç»“æœåˆ‡ç‰‡çš„å®¹é‡è®¾ç½®ä¸º<code>max-low</code>ã€‚åœ¨å®Œæ•´åˆ‡ç‰‡è¡¨è¾¾å¼ä¸­åªæœ‰ç¬¬ä¸€ä¸ªç´¢å¼•å€¼ï¼ˆlowï¼‰å¯ä»¥çœç•¥ï¼›å®ƒé»˜è®¤ä¸º0ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>t <span class="token operator">:=</span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"t:%v len(t):%v cap(t):%v\n"</span><span class="token punctuation">,</span> t<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">t:<span class="token punctuation">[</span><span class="token number">2</span> <span class="token number">3</span><span class="token punctuation">]</span> len<span class="token punctuation">(</span>t<span class="token punctuation">)</span>:2 cap<span class="token punctuation">(</span>t<span class="token punctuation">)</span>:4<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å®Œæ•´åˆ‡ç‰‡è¡¨è¾¾å¼éœ€è¦æ»¡è¶³çš„æ¡ä»¶æ˜¯<code>0 &lt;= low &lt;= high &lt;= max &lt;= cap(a)</code>ï¼Œå…¶ä»–æ¡ä»¶å’Œç®€å•åˆ‡ç‰‡è¡¨è¾¾å¼ç›¸åŒã€‚</p><h3 id="ä½¿ç”¨make-å‡½æ•°æ„é€ åˆ‡ç‰‡"><a href="#ä½¿ç”¨make-å‡½æ•°æ„é€ åˆ‡ç‰‡" class="headerlink" title="ä½¿ç”¨make()å‡½æ•°æ„é€ åˆ‡ç‰‡"></a>ä½¿ç”¨make()å‡½æ•°æ„é€ åˆ‡ç‰‡</h3><p>æˆ‘ä»¬ä¸Šé¢éƒ½æ˜¯åŸºäºæ•°ç»„æ¥åˆ›å»ºçš„åˆ‡ç‰‡ï¼Œå¦‚æœéœ€è¦åŠ¨æ€çš„åˆ›å»ºä¸€ä¸ªåˆ‡ç‰‡ï¼Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨å†…ç½®çš„<code>make()</code>å‡½æ•°ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">make<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span>T, size, cap<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å…¶ä¸­ï¼š</p><ul><li>T:åˆ‡ç‰‡çš„å…ƒç´ ç±»å‹</li><li>size:åˆ‡ç‰‡ä¸­å…ƒç´ çš„æ•°é‡</li><li>cap:åˆ‡ç‰‡çš„å®¹é‡</li></ul><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>a <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>      <span class="token comment">//[0 0]</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//2</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">cap</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//10</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šé¢ä»£ç ä¸­<code>a</code>çš„å†…éƒ¨å­˜å‚¨ç©ºé—´å·²ç»åˆ†é…äº†10ä¸ªï¼Œä½†å®é™…ä¸Šåªç”¨äº†2ä¸ªã€‚ å®¹é‡å¹¶ä¸ä¼šå½±å“å½“å‰å…ƒç´ çš„ä¸ªæ•°ï¼Œæ‰€ä»¥<code>len(a)</code>è¿”å›2ï¼Œ<code>cap(a)</code>åˆ™è¿”å›è¯¥åˆ‡ç‰‡çš„å®¹é‡ã€‚</p><h3 id="åˆ‡ç‰‡çš„æœ¬è´¨"><a href="#åˆ‡ç‰‡çš„æœ¬è´¨" class="headerlink" title="åˆ‡ç‰‡çš„æœ¬è´¨"></a>åˆ‡ç‰‡çš„æœ¬è´¨</h3><p>åˆ‡ç‰‡çš„æœ¬è´¨å°±æ˜¯å¯¹åº•å±‚æ•°ç»„çš„å°è£…ï¼Œå®ƒåŒ…å«äº†ä¸‰ä¸ªä¿¡æ¯ï¼šåº•å±‚æ•°ç»„çš„æŒ‡é’ˆã€åˆ‡ç‰‡çš„é•¿åº¦ï¼ˆlenï¼‰å’Œåˆ‡ç‰‡çš„å®¹é‡ï¼ˆcapï¼‰ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œç°åœ¨æœ‰ä¸€ä¸ªæ•°ç»„<code>a := [8]int{0, 1, 2, 3, 4, 5, 6, 7}</code>ï¼Œåˆ‡ç‰‡<code>s1 := a[:5]</code>ï¼Œç›¸åº”ç¤ºæ„å›¾å¦‚ä¸‹ã€‚<img src="https://www.liwenzhou.com/images/Go/slice/slice_01.png" alt="slice_01">åˆ‡ç‰‡<code>s2 := a[3:6]</code>ï¼Œç›¸åº”ç¤ºæ„å›¾å¦‚ä¸‹ï¼š<img src="https://www.liwenzhou.com/images/Go/slice/slice_02.png" alt="slice_02"></p><h3 id="åˆ¤æ–­åˆ‡ç‰‡æ˜¯å¦ä¸ºç©º"><a href="#åˆ¤æ–­åˆ‡ç‰‡æ˜¯å¦ä¸ºç©º" class="headerlink" title="åˆ¤æ–­åˆ‡ç‰‡æ˜¯å¦ä¸ºç©º"></a>åˆ¤æ–­åˆ‡ç‰‡æ˜¯å¦ä¸ºç©º</h3><p>è¦æ£€æŸ¥åˆ‡ç‰‡æ˜¯å¦ä¸ºç©ºï¼Œè¯·å§‹ç»ˆä½¿ç”¨<code>len(s) == 0</code>æ¥åˆ¤æ–­ï¼Œè€Œä¸åº”è¯¥ä½¿ç”¨<code>s == nil</code>æ¥åˆ¤æ–­ã€‚</p><h2 id="åˆ‡ç‰‡ä¸èƒ½ç›´æ¥æ¯”è¾ƒ"><a href="#åˆ‡ç‰‡ä¸èƒ½ç›´æ¥æ¯”è¾ƒ" class="headerlink" title="åˆ‡ç‰‡ä¸èƒ½ç›´æ¥æ¯”è¾ƒ"></a>åˆ‡ç‰‡ä¸èƒ½ç›´æ¥æ¯”è¾ƒ</h2><p>åˆ‡ç‰‡ä¹‹é—´æ˜¯ä¸èƒ½æ¯”è¾ƒçš„ï¼Œæˆ‘ä»¬ä¸èƒ½ä½¿ç”¨<code>==</code>æ“ä½œç¬¦æ¥åˆ¤æ–­ä¸¤ä¸ªåˆ‡ç‰‡æ˜¯å¦å«æœ‰å…¨éƒ¨ç›¸ç­‰å…ƒç´ ã€‚ åˆ‡ç‰‡å”¯ä¸€åˆæ³•çš„æ¯”è¾ƒæ“ä½œæ˜¯å’Œ<code>nil</code>æ¯”è¾ƒã€‚ ä¸€ä¸ª<code>nil</code>å€¼çš„åˆ‡ç‰‡å¹¶æ²¡æœ‰åº•å±‚æ•°ç»„ï¼Œä¸€ä¸ª<code>nil</code>å€¼çš„åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡éƒ½æ˜¯0ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸èƒ½è¯´ä¸€ä¸ªé•¿åº¦å’Œå®¹é‡éƒ½æ˜¯0çš„åˆ‡ç‰‡ä¸€å®šæ˜¯<code>nil</code>ï¼Œä¾‹å¦‚ä¸‹é¢çš„ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> s1 <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>         <span class="token comment">//len(s1)=0;cap(s1)=0;s1==nil</span>s2 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token punctuation">}</span>        <span class="token comment">//len(s2)=0;cap(s2)=0;s2!=nil</span>s3 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">//len(s3)=0;cap(s3)=0;s3!=nil</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ‰€ä»¥è¦åˆ¤æ–­ä¸€ä¸ªåˆ‡ç‰‡æ˜¯å¦æ˜¯ç©ºçš„ï¼Œè¦æ˜¯ç”¨<code>len(s) == 0</code>æ¥åˆ¤æ–­ï¼Œä¸åº”è¯¥ä½¿ç”¨<code>s == nil</code>æ¥åˆ¤æ–­ã€‚</p><h2 id="åˆ‡ç‰‡çš„èµ‹å€¼æ‹·è´"><a href="#åˆ‡ç‰‡çš„èµ‹å€¼æ‹·è´" class="headerlink" title="åˆ‡ç‰‡çš„èµ‹å€¼æ‹·è´"></a>åˆ‡ç‰‡çš„èµ‹å€¼æ‹·è´</h2><p>ä¸‹é¢çš„ä»£ç ä¸­æ¼”ç¤ºäº†æ‹·è´å‰åä¸¤ä¸ªå˜é‡å…±äº«åº•å±‚æ•°ç»„ï¼Œå¯¹ä¸€ä¸ªåˆ‡ç‰‡çš„ä¿®æ”¹ä¼šå½±å“å¦ä¸€ä¸ªåˆ‡ç‰‡çš„å†…å®¹ï¼Œè¿™ç‚¹éœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>s1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">//[0 0 0]</span>s2 <span class="token operator">:=</span> s1             <span class="token comment">//å°†s1ç›´æ¥èµ‹å€¼ç»™s2ï¼Œs1å’Œs2å…±ç”¨ä¸€ä¸ªåº•å±‚æ•°ç»„</span>s2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token comment">//[100 0 0]</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token comment">//[100 0 0]</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åˆ‡ç‰‡éå†"><a href="#åˆ‡ç‰‡éå†" class="headerlink" title="åˆ‡ç‰‡éå†"></a>åˆ‡ç‰‡éå†</h2><p>åˆ‡ç‰‡çš„éå†æ–¹å¼å’Œæ•°ç»„æ˜¯ä¸€è‡´çš„ï¼Œæ”¯æŒç´¢å¼•éå†å’Œ<code>for range</code>éå†ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>s <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">for</span> index<span class="token punctuation">,</span> value <span class="token operator">:=</span> <span class="token keyword">range</span> s <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="append-æ–¹æ³•ä¸ºåˆ‡ç‰‡æ·»åŠ å…ƒç´ "><a href="#append-æ–¹æ³•ä¸ºåˆ‡ç‰‡æ·»åŠ å…ƒç´ " class="headerlink" title="append()æ–¹æ³•ä¸ºåˆ‡ç‰‡æ·»åŠ å…ƒç´ "></a>append()æ–¹æ³•ä¸ºåˆ‡ç‰‡æ·»åŠ å…ƒç´ </h2><p>Goè¯­è¨€çš„å†…å»ºå‡½æ•°<code>append()</code>å¯ä»¥ä¸ºåˆ‡ç‰‡åŠ¨æ€æ·»åŠ å…ƒç´ ã€‚ å¯ä»¥ä¸€æ¬¡æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªå…ƒç´ ï¼Œä¹Ÿå¯ä»¥æ·»åŠ å¦ä¸€ä¸ªåˆ‡ç‰‡ä¸­çš„å…ƒç´ ï¼ˆåé¢åŠ â€¦ï¼‰ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> s <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>s <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token comment">// [1]</span>s <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>  <span class="token comment">// [1 2 3 4]</span>s2 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">}</span>  s <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> s2<span class="token operator">...</span><span class="token punctuation">)</span>    <span class="token comment">// [1 2 3 4 5 6 7]</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ³¨æ„ï¼š</strong>é€šè¿‡varå£°æ˜çš„é›¶å€¼åˆ‡ç‰‡å¯ä»¥åœ¨<code>append()</code>å‡½æ•°ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€åˆå§‹åŒ–ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> s <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>s <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ²¡æœ‰å¿…è¦åƒä¸‹é¢çš„ä»£ç ä¸€æ ·åˆå§‹åŒ–ä¸€ä¸ªåˆ‡ç‰‡å†ä¼ å…¥<code>append()</code>å‡½æ•°ä½¿ç”¨ï¼Œ</p><pre class="line-numbers language-go" data-language="go"><code class="language-go">s <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// æ²¡æœ‰å¿…è¦åˆå§‹åŒ–</span>s <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span>  <span class="token comment">// æ²¡æœ‰å¿…è¦åˆå§‹åŒ–</span>s <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¯ä¸ªåˆ‡ç‰‡ä¼šæŒ‡å‘ä¸€ä¸ªåº•å±‚æ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„çš„å®¹é‡å¤Ÿç”¨å°±æ·»åŠ æ–°å¢å…ƒç´ ã€‚å½“åº•å±‚æ•°ç»„ä¸èƒ½å®¹çº³æ–°å¢çš„å…ƒç´ æ—¶ï¼Œåˆ‡ç‰‡å°±ä¼šè‡ªåŠ¨æŒ‰ç…§ä¸€å®šçš„ç­–ç•¥è¿›è¡Œâ€œæ‰©å®¹â€ï¼Œæ­¤æ—¶è¯¥åˆ‡ç‰‡æŒ‡å‘çš„åº•å±‚æ•°ç»„å°±ä¼šæ›´æ¢ã€‚â€œæ‰©å®¹â€æ“ä½œå¾€å¾€å‘ç”Ÿåœ¨<code>append()</code>å‡½æ•°è°ƒç”¨æ—¶ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šå¸¸éƒ½éœ€è¦ç”¨åŸå˜é‡æ¥æ”¶appendå‡½æ•°çš„è¿”å›å€¼ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//append()æ·»åŠ å…ƒç´ å’Œåˆ‡ç‰‡æ‰©å®¹</span><span class="token keyword">var</span> numSlice <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>numSlice <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>numSlice<span class="token punctuation">,</span> i<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"%v  len:%d  cap:%d  ptr:%p\n"</span><span class="token punctuation">,</span> numSlice<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>numSlice<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>numSlice<span class="token punctuation">)</span><span class="token punctuation">,</span> numSlice<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>  len:1  cap:1  ptr:0xc0000a8000<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">1</span><span class="token punctuation">]</span>  len:2  cap:2  ptr:0xc0000a8040<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">2</span><span class="token punctuation">]</span>  len:3  cap:4  ptr:0xc0000b2020<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span><span class="token punctuation">]</span>  len:4  cap:4  ptr:0xc0000b2020<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span><span class="token punctuation">]</span>  len:5  cap:8  ptr:0xc0000b6000<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span><span class="token punctuation">]</span>  len:6  cap:8  ptr:0xc0000b6000<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span><span class="token punctuation">]</span>  len:7  cap:8  ptr:0xc0000b6000<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span><span class="token punctuation">]</span>  len:8  cap:8  ptr:0xc0000b6000<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span> <span class="token number">8</span><span class="token punctuation">]</span>  len:9  cap:16  ptr:0xc0000b8000<span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span><span class="token punctuation">]</span>  len:10  cap:16  ptr:0xc0000b8000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»ä¸Šé¢çš„ç»“æœå¯ä»¥çœ‹å‡ºï¼š</p><ol><li><code>append()</code>å‡½æ•°å°†å…ƒç´ è¿½åŠ åˆ°åˆ‡ç‰‡çš„æœ€åå¹¶è¿”å›è¯¥åˆ‡ç‰‡ã€‚</li><li>åˆ‡ç‰‡numSliceçš„å®¹é‡æŒ‰ç…§1ï¼Œ2ï¼Œ4ï¼Œ8ï¼Œ16è¿™æ ·çš„è§„åˆ™è‡ªåŠ¨è¿›è¡Œæ‰©å®¹ï¼Œæ¯æ¬¡æ‰©å®¹åéƒ½æ˜¯æ‰©å®¹å‰çš„2å€ã€‚</li></ol><p>append()å‡½æ•°è¿˜æ”¯æŒä¸€æ¬¡æ€§è¿½åŠ å¤šä¸ªå…ƒç´ ã€‚ ä¾‹å¦‚ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">var</span> citySlice <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token comment">// è¿½åŠ ä¸€ä¸ªå…ƒç´ </span>citySlice <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>citySlice<span class="token punctuation">,</span> <span class="token string">"åŒ—äº¬"</span><span class="token punctuation">)</span><span class="token comment">// è¿½åŠ å¤šä¸ªå…ƒç´ </span>citySlice <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>citySlice<span class="token punctuation">,</span> <span class="token string">"ä¸Šæµ·"</span><span class="token punctuation">,</span> <span class="token string">"å¹¿å·"</span><span class="token punctuation">,</span> <span class="token string">"æ·±åœ³"</span><span class="token punctuation">)</span><span class="token comment">// è¿½åŠ åˆ‡ç‰‡</span>a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"æˆéƒ½"</span><span class="token punctuation">,</span> <span class="token string">"é‡åº†"</span><span class="token punctuation">}</span>citySlice <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>citySlice<span class="token punctuation">,</span> a<span class="token operator">...</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>citySlice<span class="token punctuation">)</span> <span class="token comment">//[åŒ—äº¬ ä¸Šæµ· å¹¿å· æ·±åœ³ æˆéƒ½ é‡åº†]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åˆ‡ç‰‡çš„æ‰©å®¹ç­–ç•¥"><a href="#åˆ‡ç‰‡çš„æ‰©å®¹ç­–ç•¥" class="headerlink" title="åˆ‡ç‰‡çš„æ‰©å®¹ç­–ç•¥"></a>åˆ‡ç‰‡çš„æ‰©å®¹ç­–ç•¥</h2><p>å¯ä»¥é€šè¿‡æŸ¥çœ‹<code>$GOROOT/src/runtime/slice.go</code>æºç ï¼Œå…¶ä¸­æ‰©å®¹ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go">newcap <span class="token operator">:=</span> old<span class="token punctuation">.</span><span class="token builtin">cap</span>doublecap <span class="token operator">:=</span> newcap <span class="token operator">+</span> newcap<span class="token keyword">if</span> <span class="token builtin">cap</span> <span class="token operator">&gt;</span> doublecap <span class="token punctuation">{</span>newcap <span class="token operator">=</span> <span class="token builtin">cap</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token keyword">if</span> old<span class="token punctuation">.</span><span class="token builtin">len</span> <span class="token operator">&lt;</span> <span class="token number">1024</span> <span class="token punctuation">{</span>newcap <span class="token operator">=</span> doublecap<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token comment">// Check 0 &lt; newcap to detect overflow</span><span class="token comment">// and prevent an infinite loop.</span><span class="token keyword">for</span> <span class="token number">0</span> <span class="token operator">&lt;</span> newcap <span class="token operator">&amp;&amp;</span> newcap <span class="token operator">&lt;</span> <span class="token builtin">cap</span> <span class="token punctuation">{</span>newcap <span class="token operator">+=</span> newcap <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token comment">// Set newcap to the requested cap when</span><span class="token comment">// the newcap calculation overflowed.</span><span class="token keyword">if</span> newcap <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token punctuation">{</span>newcap <span class="token operator">=</span> <span class="token builtin">cap</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹å‡ºä»¥ä¸‹å†…å®¹ï¼š</p><ul><li>é¦–å…ˆåˆ¤æ–­ï¼Œå¦‚æœæ–°ç”³è¯·å®¹é‡ï¼ˆcapï¼‰å¤§äº2å€çš„æ—§å®¹é‡ï¼ˆold.capï¼‰ï¼Œæœ€ç»ˆå®¹é‡ï¼ˆnewcapï¼‰å°±æ˜¯æ–°ç”³è¯·çš„å®¹é‡ï¼ˆcapï¼‰ã€‚</li><li>å¦åˆ™åˆ¤æ–­ï¼Œå¦‚æœæ—§åˆ‡ç‰‡çš„é•¿åº¦å°äº1024ï¼Œåˆ™æœ€ç»ˆå®¹é‡(newcap)å°±æ˜¯æ—§å®¹é‡(old.cap)çš„ä¸¤å€ï¼Œå³ï¼ˆnewcap=doublecapï¼‰ï¼Œ</li><li>å¦åˆ™åˆ¤æ–­ï¼Œå¦‚æœæ—§åˆ‡ç‰‡é•¿åº¦å¤§äºç­‰äº1024ï¼Œåˆ™æœ€ç»ˆå®¹é‡ï¼ˆnewcapï¼‰ä»æ—§å®¹é‡ï¼ˆold.capï¼‰å¼€å§‹å¾ªç¯å¢åŠ åŸæ¥çš„1/4ï¼Œå³ï¼ˆnewcap=old.cap,for {newcap += newcap/4}ï¼‰ç›´åˆ°æœ€ç»ˆå®¹é‡ï¼ˆnewcapï¼‰å¤§äºç­‰äºæ–°ç”³è¯·çš„å®¹é‡(cap)ï¼Œå³ï¼ˆnewcap &gt;= capï¼‰</li><li>å¦‚æœæœ€ç»ˆå®¹é‡ï¼ˆcapï¼‰è®¡ç®—å€¼æº¢å‡ºï¼Œåˆ™æœ€ç»ˆå®¹é‡ï¼ˆcapï¼‰å°±æ˜¯æ–°ç”³è¯·å®¹é‡ï¼ˆcapï¼‰ã€‚</li></ul><p><strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåˆ‡ç‰‡æ‰©å®¹è¿˜ä¼šæ ¹æ®åˆ‡ç‰‡ä¸­å…ƒç´ çš„ç±»å‹ä¸åŒè€Œåšä¸åŒçš„å¤„ç†ï¼Œæ¯”å¦‚<code>int</code>å’Œ<code>string</code>ç±»å‹çš„å¤„ç†æ–¹å¼å°±ä¸ä¸€æ ·ã€‚</strong></p><h2 id="ä½¿ç”¨copy-å‡½æ•°å¤åˆ¶åˆ‡ç‰‡"><a href="#ä½¿ç”¨copy-å‡½æ•°å¤åˆ¶åˆ‡ç‰‡" class="headerlink" title="ä½¿ç”¨copy()å‡½æ•°å¤åˆ¶åˆ‡ç‰‡"></a>ä½¿ç”¨copy()å‡½æ•°å¤åˆ¶åˆ‡ç‰‡</h2><p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªé—®é¢˜ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>b <span class="token operator">:=</span> afmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">//[1 2 3 4 5]</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">//[1 2 3 4 5]</span>b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1000</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">//[1000 2 3 4 5]</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">//[1000 2 3 4 5]</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ç”±äºåˆ‡ç‰‡æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‰€ä»¥aå’Œbå…¶å®éƒ½æŒ‡å‘äº†åŒä¸€å—å†…å­˜åœ°å€ã€‚ä¿®æ”¹bçš„åŒæ—¶açš„å€¼ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ã€‚</strong></p><p>Goè¯­è¨€å†…å»ºçš„<code>copy()</code>å‡½æ•°å¯ä»¥è¿…é€Ÿåœ°å°†ä¸€ä¸ªåˆ‡ç‰‡çš„æ•°æ®å¤åˆ¶åˆ°å¦å¤–ä¸€ä¸ªåˆ‡ç‰‡ç©ºé—´ä¸­ï¼Œ<code>copy()</code>å‡½æ•°çš„ä½¿ç”¨æ ¼å¼å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">copy<span class="token punctuation">(</span>destSlice, srcSlice <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å…¶ä¸­ï¼š</p><ul><li>srcSlice: æ•°æ®æ¥æºåˆ‡ç‰‡</li><li>destSlice: ç›®æ ‡åˆ‡ç‰‡</li></ul><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// copy()å¤åˆ¶åˆ‡ç‰‡</span>a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>c <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token function">copy</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> a<span class="token punctuation">)</span>     <span class="token comment">//ä½¿ç”¨copy()å‡½æ•°å°†åˆ‡ç‰‡aä¸­çš„å…ƒç´ å¤åˆ¶åˆ°åˆ‡ç‰‡c</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">//[1 2 3 4 5]</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment">//[1 2 3 4 5]</span>c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1000</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">//[1 2 3 4 5]</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment">//[1000 2 3 4 5]</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä»åˆ‡ç‰‡ä¸­åˆ é™¤å…ƒç´ "><a href="#ä»åˆ‡ç‰‡ä¸­åˆ é™¤å…ƒç´ " class="headerlink" title="ä»åˆ‡ç‰‡ä¸­åˆ é™¤å…ƒç´ "></a>ä»åˆ‡ç‰‡ä¸­åˆ é™¤å…ƒç´ </h2><p>Goè¯­è¨€ä¸­å¹¶æ²¡æœ‰åˆ é™¤åˆ‡ç‰‡å…ƒç´ çš„ä¸“ç”¨æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ‡ç‰‡æœ¬èº«çš„ç‰¹æ€§æ¥åˆ é™¤å…ƒç´ ã€‚ ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// ä»åˆ‡ç‰‡ä¸­åˆ é™¤å…ƒç´ </span>a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">37</span><span class="token punctuation">}</span><span class="token comment">// è¦åˆ é™¤ç´¢å¼•ä¸º2çš„å…ƒç´ </span>a <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token operator">...</span><span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">//[30 31 33 34 35 36 37]</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼šè¦ä»åˆ‡ç‰‡aä¸­åˆ é™¤ç´¢å¼•ä¸º<code>index</code>çš„å…ƒç´ ï¼Œæ“ä½œæ–¹æ³•æ˜¯<code>a = append(a[:index], a[index+1:]...)</code></p>]]></content>
      
      
      <categories>
          
          <category> Golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è½¬è½½ </tag>
            
            <tag> Golang </tag>
            
            <tag> åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Goè¯­è¨€åŸºç¡€â€”â€”æ–‡ä»¶æ“ä½œ</title>
      <link href="/hypo-Z.github.io/2021/11/24/go-yu-yan-ji-chu-wen-jian-cao-zuo/"/>
      <url>/hypo-Z.github.io/2021/11/24/go-yu-yan-ji-chu-wen-jian-cao-zuo/</url>
      
        <content type="html"><![CDATA[<h1 id="Goè¯­è¨€åŸºç¡€â€”â€”æ–‡ä»¶æ“ä½œ"><a href="#Goè¯­è¨€åŸºç¡€â€”â€”æ–‡ä»¶æ“ä½œ" class="headerlink" title="Goè¯­è¨€åŸºç¡€â€”â€”æ–‡ä»¶æ“ä½œ"></a>Goè¯­è¨€åŸºç¡€â€”â€”æ–‡ä»¶æ“ä½œ</h1><h1 id="æ‰“å¼€å’Œå…³é—­æ–‡ä»¶"><a href="#æ‰“å¼€å’Œå…³é—­æ–‡ä»¶" class="headerlink" title="æ‰“å¼€å’Œå…³é—­æ–‡ä»¶"></a>æ‰“å¼€å’Œå…³é—­æ–‡ä»¶</h1><p><code>os.Open()</code>å‡½æ•°èƒ½å¤Ÿæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œè¿”å›ä¸€ä¸ª<code>*File</code>å’Œä¸€ä¸ª<code>err</code>ã€‚å¯¹å¾—åˆ°çš„æ–‡ä»¶å®ä¾‹è°ƒç”¨<code>close()</code>æ–¹æ³•èƒ½å¤Ÿå…³é—­æ–‡ä»¶ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"fmt"</span><span class="token string">"os"</span><span class="token punctuation">)</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// åªè¯»æ–¹å¼æ‰“å¼€å½“å‰ç›®å½•ä¸‹çš„main.goæ–‡ä»¶</span>file<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token string">"./main.go"</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"open file failed!, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token comment">// å…³é—­æ–‡ä»¶</span><span class="token keyword">defer</span> file<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸ºäº†é˜²æ­¢æ–‡ä»¶å¿˜è®°å…³é—­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨deferæ³¨å†Œæ–‡ä»¶å…³é—­è¯­å¥ã€‚</p><h1 id="è¯»å–æ–‡ä»¶"><a href="#è¯»å–æ–‡ä»¶" class="headerlink" title="è¯»å–æ–‡ä»¶"></a>è¯»å–æ–‡ä»¶</h1><h2 id="file-Read"><a href="#file-Read" class="headerlink" title="file.Read()"></a>file.Read()</h2><h3 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><p>Readæ–¹æ³•å®šä¹‰å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token punctuation">(</span>f <span class="token operator">*</span>File<span class="token punctuation">)</span> <span class="token function">Read</span><span class="token punctuation">(</span>b <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å®ƒæ¥æ”¶ä¸€ä¸ªå­—èŠ‚åˆ‡ç‰‡ï¼Œè¿”å›è¯»å–çš„å­—èŠ‚æ•°å’Œå¯èƒ½çš„å…·ä½“é”™è¯¯ï¼Œè¯»åˆ°æ–‡ä»¶æœ«å°¾æ—¶ä¼šè¿”å›<code>0</code>å’Œ<code>io.EOF</code>ã€‚ ä¸¾ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// åªè¯»æ–¹å¼æ‰“å¼€å½“å‰ç›®å½•ä¸‹çš„main.goæ–‡ä»¶</span>file<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token string">"./main.go"</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"open file failed!, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token keyword">defer</span> file<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// ä½¿ç”¨Readæ–¹æ³•è¯»å–æ•°æ®</span><span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span>n<span class="token punctuation">,</span> err <span class="token operator">:=</span> file<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">==</span> io<span class="token punctuation">.</span>EOF <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"æ–‡ä»¶è¯»å®Œäº†"</span><span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"read file failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"è¯»å–äº†%då­—èŠ‚æ•°æ®\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>tmp<span class="token punctuation">[</span><span class="token punctuation">:</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¾ªç¯è¯»å–"><a href="#å¾ªç¯è¯»å–" class="headerlink" title="å¾ªç¯è¯»å–"></a>å¾ªç¯è¯»å–</h3><p>ä½¿ç”¨forå¾ªç¯è¯»å–æ–‡ä»¶ä¸­çš„æ‰€æœ‰æ•°æ®ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// åªè¯»æ–¹å¼æ‰“å¼€å½“å‰ç›®å½•ä¸‹çš„main.goæ–‡ä»¶</span>file<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token string">"./main.go"</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"open file failed!, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token keyword">defer</span> file<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// å¾ªç¯è¯»å–æ–‡ä»¶</span><span class="token keyword">var</span> content <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span><span class="token keyword">for</span> <span class="token punctuation">{</span>n<span class="token punctuation">,</span> err <span class="token operator">:=</span> file<span class="token punctuation">.</span><span class="token function">Read</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">==</span> io<span class="token punctuation">.</span>EOF <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"æ–‡ä»¶è¯»å®Œäº†"</span><span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">}</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"read file failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span>content <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> tmp<span class="token punctuation">[</span><span class="token punctuation">:</span>n<span class="token punctuation">]</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">}</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="bufioè¯»å–æ–‡ä»¶"><a href="#bufioè¯»å–æ–‡ä»¶" class="headerlink" title="bufioè¯»å–æ–‡ä»¶"></a>bufioè¯»å–æ–‡ä»¶</h2><p>bufioæ˜¯åœ¨fileçš„åŸºç¡€ä¸Šå°è£…äº†ä¸€å±‚APIï¼Œæ”¯æŒæ›´å¤šçš„åŠŸèƒ½ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"bufio"</span><span class="token string">"fmt"</span><span class="token string">"io"</span><span class="token string">"os"</span><span class="token punctuation">)</span><span class="token comment">// bufioæŒ‰è¡Œè¯»å–ç¤ºä¾‹</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>file<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token string">"./xx.txt"</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"open file failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token keyword">defer</span> file<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>reader <span class="token operator">:=</span> bufio<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token keyword">for</span> <span class="token punctuation">{</span>line<span class="token punctuation">,</span> err <span class="token operator">:=</span> reader<span class="token punctuation">.</span><span class="token function">ReadString</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span> <span class="token comment">//æ³¨æ„æ˜¯å­—ç¬¦</span><span class="token keyword">if</span> err <span class="token operator">==</span> io<span class="token punctuation">.</span>EOF <span class="token punctuation">{</span><span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">}</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"æ–‡ä»¶è¯»å®Œäº†"</span><span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">}</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"read file failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span>fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ioutilè¯»å–æ•´ä¸ªæ–‡ä»¶"><a href="#ioutilè¯»å–æ•´ä¸ªæ–‡ä»¶" class="headerlink" title="ioutilè¯»å–æ•´ä¸ªæ–‡ä»¶"></a>ioutilè¯»å–æ•´ä¸ªæ–‡ä»¶</h2><p><code>io/ioutil</code>åŒ…çš„<code>ReadFile</code>æ–¹æ³•èƒ½å¤Ÿè¯»å–å®Œæ•´çš„æ–‡ä»¶ï¼Œåªéœ€è¦å°†æ–‡ä»¶åä½œä¸ºå‚æ•°ä¼ å…¥ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"fmt"</span><span class="token string">"io/ioutil"</span><span class="token punctuation">)</span><span class="token comment">// ioutil.ReadFileè¯»å–æ•´ä¸ªæ–‡ä»¶</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>content<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadFile</span><span class="token punctuation">(</span><span class="token string">"./main.go"</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"read file failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="æ–‡ä»¶å†™å…¥æ“ä½œ"><a href="#æ–‡ä»¶å†™å…¥æ“ä½œ" class="headerlink" title="æ–‡ä»¶å†™å…¥æ“ä½œ"></a>æ–‡ä»¶å†™å…¥æ“ä½œ</h1><p><code>os.OpenFile()</code>å‡½æ•°èƒ½å¤Ÿä»¥æŒ‡å®šæ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼Œä»è€Œå®ç°æ–‡ä»¶å†™å…¥ç›¸å…³åŠŸèƒ½ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">OpenFile</span><span class="token punctuation">(</span>name <span class="token builtin">string</span><span class="token punctuation">,</span> flag <span class="token builtin">int</span><span class="token punctuation">,</span> perm FileMode<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token operator">*</span>File<span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å…¶ä¸­ï¼š</p><p><code>name</code>ï¼šè¦æ‰“å¼€çš„æ–‡ä»¶å <code>flag</code>ï¼šæ‰“å¼€æ–‡ä»¶çš„æ¨¡å¼ã€‚ æ¨¡å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><table><thead><tr><th align="center">æ¨¡å¼</th><th align="center">å«ä¹‰</th></tr></thead><tbody><tr><td align="center"><code>os.O_WRONLY</code></td><td align="center">åªå†™</td></tr><tr><td align="center"><code>os.O_CREATE</code></td><td align="center">åˆ›å»ºæ–‡ä»¶</td></tr><tr><td align="center"><code>os.O_RDONLY</code></td><td align="center">åªè¯»</td></tr><tr><td align="center"><code>os.O_RDWR</code></td><td align="center">è¯»å†™</td></tr><tr><td align="center"><code>os.O_TRUNC</code></td><td align="center">æ¸…ç©º</td></tr><tr><td align="center"><code>os.O_APPEND</code></td><td align="center">è¿½åŠ </td></tr></tbody></table><p><code>perm</code>ï¼šæ–‡ä»¶æƒé™ï¼Œä¸€ä¸ªå…«è¿›åˆ¶æ•°ã€‚rï¼ˆè¯»ï¼‰04ï¼Œwï¼ˆå†™ï¼‰02ï¼Œxï¼ˆæ‰§è¡Œï¼‰01ã€‚</p><h2 id="Writeå’ŒWriteString"><a href="#Writeå’ŒWriteString" class="headerlink" title="Writeå’ŒWriteString"></a>Writeå’ŒWriteString</h2><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>file<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">OpenFile</span><span class="token punctuation">(</span><span class="token string">"xx.txt"</span><span class="token punctuation">,</span> os<span class="token punctuation">.</span>O_CREATE<span class="token operator">|</span>os<span class="token punctuation">.</span>O_TRUNC<span class="token operator">|</span>os<span class="token punctuation">.</span>O_WRONLY<span class="token punctuation">,</span> <span class="token number">0666</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"open file failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token keyword">defer</span> file<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>str <span class="token operator">:=</span> <span class="token string">"hello æ²™æ²³"</span>file<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span>       <span class="token comment">//å†™å…¥å­—èŠ‚åˆ‡ç‰‡æ•°æ®</span>file<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span><span class="token string">"hello å°ç‹å­"</span><span class="token punctuation">)</span> <span class="token comment">//ç›´æ¥å†™å…¥å­—ç¬¦ä¸²æ•°æ®</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="bufio-NewWriter"><a href="#bufio-NewWriter" class="headerlink" title="bufio.NewWriter"></a>bufio.NewWriter</h2><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>file<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">OpenFile</span><span class="token punctuation">(</span><span class="token string">"xx.txt"</span><span class="token punctuation">,</span> os<span class="token punctuation">.</span>O_CREATE<span class="token operator">|</span>os<span class="token punctuation">.</span>O_TRUNC<span class="token operator">|</span>os<span class="token punctuation">.</span>O_WRONLY<span class="token punctuation">,</span> <span class="token number">0666</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"open file failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token keyword">defer</span> file<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>writer <span class="token operator">:=</span> bufio<span class="token punctuation">.</span><span class="token function">NewWriter</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>writer<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span><span class="token string">"helloæ²™æ²³\n"</span><span class="token punctuation">)</span> <span class="token comment">//å°†æ•°æ®å…ˆå†™å…¥ç¼“å­˜</span><span class="token punctuation">}</span>writer<span class="token punctuation">.</span><span class="token function">Flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//å°†ç¼“å­˜ä¸­çš„å†…å®¹å†™å…¥æ–‡ä»¶</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ioutil-WriteFile"><a href="#ioutil-WriteFile" class="headerlink" title="ioutil.WriteFile"></a>ioutil.WriteFile</h2><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>str <span class="token operator">:=</span> <span class="token string">"hello æ²™æ²³"</span>err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">WriteFile</span><span class="token punctuation">(</span><span class="token string">"./xx.txt"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0666</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"write file failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="ç»ƒä¹ "><a href="#ç»ƒä¹ " class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h1><h2 id="copyFile"><a href="#copyFile" class="headerlink" title="copyFile"></a>copyFile</h2><p>å€ŸåŠ©<code>io.Copy()</code>å®ç°ä¸€ä¸ªæ‹·è´æ–‡ä»¶å‡½æ•°ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token comment">// CopyFile æ‹·è´æ–‡ä»¶å‡½æ•°</span><span class="token keyword">func</span> <span class="token function">CopyFile</span><span class="token punctuation">(</span>dstName<span class="token punctuation">,</span> srcName <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>written <span class="token builtin">int64</span><span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// ä»¥è¯»æ–¹å¼æ‰“å¼€æºæ–‡ä»¶</span>src<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span>srcName<span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"open %s failed, err:%v.\n"</span><span class="token punctuation">,</span> srcName<span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token keyword">defer</span> src<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// ä»¥å†™|åˆ›å»ºçš„æ–¹å¼æ‰“å¼€ç›®æ ‡æ–‡ä»¶</span>dst<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">OpenFile</span><span class="token punctuation">(</span>dstName<span class="token punctuation">,</span> os<span class="token punctuation">.</span>O_WRONLY<span class="token operator">|</span>os<span class="token punctuation">.</span>O_CREATE<span class="token punctuation">,</span> <span class="token number">0644</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"open %s failed, err:%v.\n"</span><span class="token punctuation">,</span> dstName<span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token keyword">defer</span> dst<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">return</span> io<span class="token punctuation">.</span><span class="token function">Copy</span><span class="token punctuation">(</span>dst<span class="token punctuation">,</span> src<span class="token punctuation">)</span> <span class="token comment">//è°ƒç”¨io.Copy()æ‹·è´å†…å®¹</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">:=</span> <span class="token function">CopyFile</span><span class="token punctuation">(</span><span class="token string">"dst.txt"</span><span class="token punctuation">,</span> <span class="token string">"src.txt"</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"copy file failed, err:"</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">return</span><span class="token punctuation">}</span>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"copy done!"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å®ç°ä¸€ä¸ªcatå‘½ä»¤"><a href="#å®ç°ä¸€ä¸ªcatå‘½ä»¤" class="headerlink" title="å®ç°ä¸€ä¸ªcatå‘½ä»¤"></a>å®ç°ä¸€ä¸ªcatå‘½ä»¤</h2><p>ä½¿ç”¨æ–‡ä»¶æ“ä½œç›¸å…³çŸ¥è¯†ï¼Œæ¨¡æ‹Ÿå®ç°linuxå¹³å°<code>cat</code>å‘½ä»¤çš„åŠŸèƒ½ã€‚</p><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token punctuation">(</span><span class="token string">"bufio"</span><span class="token string">"flag"</span><span class="token string">"fmt"</span><span class="token string">"io"</span><span class="token string">"os"</span><span class="token punctuation">)</span><span class="token comment">// catå‘½ä»¤å®ç°</span><span class="token keyword">func</span> <span class="token function">cat</span><span class="token punctuation">(</span>r <span class="token operator">*</span>bufio<span class="token punctuation">.</span>Reader<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">for</span> <span class="token punctuation">{</span>buf<span class="token punctuation">,</span> err <span class="token operator">:=</span> r<span class="token punctuation">.</span><span class="token function">ReadBytes</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span> <span class="token comment">//æ³¨æ„æ˜¯å­—ç¬¦</span><span class="token keyword">if</span> err <span class="token operator">==</span> io<span class="token punctuation">.</span>EOF <span class="token punctuation">{</span><span class="token comment">// é€€å‡ºä¹‹å‰å°†å·²è¯»åˆ°çš„å†…å®¹è¾“å‡º</span>fmt<span class="token punctuation">.</span><span class="token function">Fprintf</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Stdout<span class="token punctuation">,</span> <span class="token string">"%s"</span><span class="token punctuation">,</span> buf<span class="token punctuation">)</span><span class="token keyword">break</span><span class="token punctuation">}</span>fmt<span class="token punctuation">.</span><span class="token function">Fprintf</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Stdout<span class="token punctuation">,</span> <span class="token string">"%s"</span><span class="token punctuation">,</span> buf<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>flag<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è§£æå‘½ä»¤è¡Œå‚æ•°</span><span class="token keyword">if</span> flag<span class="token punctuation">.</span><span class="token function">NArg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span><span class="token comment">// å¦‚æœæ²¡æœ‰å‚æ•°é»˜è®¤ä»æ ‡å‡†è¾“å…¥è¯»å–å†…å®¹</span><span class="token function">cat</span><span class="token punctuation">(</span>bufio<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Stdin<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// ä¾æ¬¡è¯»å–æ¯ä¸ªæŒ‡å®šæ–‡ä»¶çš„å†…å®¹å¹¶æ‰“å°åˆ°ç»ˆç«¯</span><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> flag<span class="token punctuation">.</span><span class="token function">NArg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>f<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span>flag<span class="token punctuation">.</span><span class="token function">Arg</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>fmt<span class="token punctuation">.</span><span class="token function">Fprintf</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Stdout<span class="token punctuation">,</span> <span class="token string">"reading from %s failed, err:%v\n"</span><span class="token punctuation">,</span> flag<span class="token punctuation">.</span><span class="token function">Arg</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token keyword">continue</span><span class="token punctuation">}</span><span class="token function">cat</span><span class="token punctuation">(</span>bufio<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Golang </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è½¬è½½ </tag>
            
            <tag> Golang </tag>
            
            <tag> åŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¯å¤©å¿…é€›ä¸”å¯ä»¥æå‡æŠ€æœ¯èƒ½åŠ›çš„ç½‘å€</title>
      <link href="/hypo-Z.github.io/2021/11/23/12-mei-tian-bi-guang-qie-ke-yi-ti-sheng-ji-zhu-neng-li-de-wang-zhi/"/>
      <url>/hypo-Z.github.io/2021/11/23/12-mei-tian-bi-guang-qie-ke-yi-ti-sheng-ji-zhu-neng-li-de-wang-zhi/</url>
      
        <content type="html"><![CDATA[<p>1.<a href="https://www.ruanyifeng.com/blog/">é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—</a> ä¸€ä¸ªæŠ€æœ¯å¤§ä½¬åˆ›å»ºçš„åšå®¢ï¼Œé‡Œé¢æœ‰ä»–æ¯å‘¨å‘¨åˆŠï¼Œå¯æœ€æ–°çš„æŠ€æœ¯å’Œæ¨èæ–‡ç« </p><p>2.<a href="https://www.liwenzhou.com/">ææ–‡å‘¨çš„åšå®¢</a> åˆšå…¥goè¯­è¨€å°±ä¼šæœçš„åšä¸»ï¼Œé‡Œé¢æœ‰ä»–æ•´ç†çš„æœ‰å…³goè¯­è¨€çš„ç³»åˆ—æ•™ç¨‹ï¼Œè·Ÿç€å­¦ä¸è¿·è·¯</p><p>3.<a href="https://github.com/avelino/awesome-go">awsome-go</a> githubä¸Šæ˜Ÿæ ‡æœ€å¤šçš„é¡¹ç›®ï¼Œä¸Šé¢æœ‰æœ€å…¨çš„goé¡¹ç›®åˆ—è¡¨ï¼Œç«™åœ¨å·¨äººä»¬çš„è‚©è†€ä¸Šï¼Œå­¦ä¹ é¡¹ç›®ç»éªŒ</p><p>4.<a href="https://roadmap.sh/roadmaps">å¼€å‘è€…è·¯çº¿å›¾</a> å¯ä»¥äº†è§£ä¸€æƒ³è¦å‘å±•çš„å­¦ä¹ è·¯çº¿ï¼Œä¸ºä½ çš„å¼€å‘å‰ç¨‹æŒ‡æ˜é“è·¯<br>ä»¥ä¸‹æ˜¯golangçš„å­¦ä¹ è·¯çº¿å›¾:<br><img src="https://roadmap.sh/roadmaps/golang.png" alt="golangçš„å­¦ä¹ è·¯çº¿å›¾" title="golang"><br>5.<a href="https://news.ycombinator.com/news">Hacker News</a> ä¸€ä¸ªå›½å¤–ITæŠ€æœ¯æ–‡ç« å‘å¸ƒå¹³å°ï¼Œå¯äº†è§£ä¸€äº›æŠ€æœ¯çŸ¥è¯†</p><p>6.<a href="https://gobyexample.com/">GoByExample</a> ä¸€ä¸ªé€šè¿‡goç¤ºä¾‹å­¦ä¹ çš„ç½‘ç«™</p><p>7.<a href="https://zh-style-guide.readthedocs.io/zh_CN/latest/index.html">ä¸­æ–‡æŠ€æœ¯æ–‡æ¡£å†™ä½œé£æ ¼æŒ‡å—</a> ä¸€ä¸ªæŒ‡å¯¼å¦‚ä½•ä¹¦å†™ä¸­æ–‡æ–‡æ¡£çš„æŠ€æœ¯ç½‘ç«™ï¼Œä¸ºæ ‡å‡†åŒ–çš„å†™ä½œé£æ ¼åŸ¹å…»ä¹ æƒ¯</p><p>8.<a href="https://www.runoob.com/">èœé¸Ÿæ•™ç¨‹</a> ä¸€ä¸ªå¼ºçƒˆæ¨èçš„è½¯ä»¶å¼€å‘åˆå­¦è€…æ•™å­¦ç½‘ç«™ï¼Œç½‘ç«™å…¨å…è´¹å¹¶ä¸”æ•™å­¦ä¸“ä¸šï¼Œé€šä¿—æ˜“æ‡‚ï¼ŒæŠ€æœ¯æ ˆå…¨è¦†ç›–</p><p>9.<a href="https://leetcode-cn.com/">Leetcode</a> ä¸€ä¸ªå­¦è½¯ä»¶ç¼–ç¨‹å¿…é¡»è¦æ¥çš„ç½‘ç«™ï¼Œä¸Šé¢å¯ä»¥çœ‹åˆ°è®¸å¤šå¤§å‚çš„é¢è¯•é¢˜å¹¶ä¸”å¯ä»¥ä¸€è¾¹å­¦ä¹ ä¸€è¾¹åˆ·é¢˜ï¼Œå¯ä»¥å­¦ä¹ æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œä»åŸºç¡€å¼€å§‹æ‰“ç‰¢ï¼Œç»å¸¸é€›é€›å»å¤§å‚æœºä¼šå¤§å¤§å¢åŠ </p><p>10.<a href="https://www.digitalocean.com/community">digitalocean</a> ä¸€ä¸ªæŠ€æœ¯å¼€å‘è®ºå›ï¼Œä¸Šé¢æœ‰è®¸å¤šè¯­è¨€æ•™ç¨‹ï¼Œéå¸¸ä¸“ä¸š</p><p>11.<a href="https://www.jianshu.com/techareas/backend">ç®€ä¹¦</a> ä¸€ä¸ªå°å‹çš„æŠ€æœ¯åšå®¢å‘å¸ƒå¹³å°</p><p>12.<a href="https://juejin.cn/">ç¨€åœŸæ˜é‡‘</a> ä¸€ä¸ªå’Œç®€ä¹¦ç›¸ä¼¼çš„å‘å¸ƒå¹³å°ï¼Œæ¯”ç®€ä¹¦ç¨å¤§</p><p>13.<a href="https://segmentfault.com/">segmentfault</a> ä¸€ä¸ªå¼€å‘è€…ç¤¾åŒº</p><p>14.<a href="https://www.cnblogs.com/">åšå®¢å›­</a> å±äºä¸­å›½æ—©æœŸçš„æŠ€æœ¯åšå®¢å¹³å°ï¼ŒæŠ€æœ¯åšå®¢ä¸»çš„èµ„å†ä¹Ÿæœ€è€ï¼Œä¸Šé¢æœ‰è®¸å¤šç»éªŒèµ„æ·±çš„åšå®¢å‘å¸ƒçš„æ–‡ç« </p><p>15.<a href="https://www.yuque.com/">è¯­é›€</a> åŒæ ·æ˜¯åšå®¢å‘å¸ƒå¹³å°</p><p>16.<a href="https://free-for.dev/#/?id=free-fordev">free-for.dev</a> ä¸€ä¸ªå¼€å‘è€…å…è´¹çš„é¡¹ç›®æ”¯æŒï¼Œå‰æœŸå¯åœ¨ä¸Šé¢å¯»æ‰¾é¡¹ç›®æ”¯æŒ</p><p>17.<a href="https://www.sina.com.cn/">æ–°æµªç½‘</a> äº†è§£æ–°é—»ã€èµ„è®¯ã€ç§‘æŠ€ç­‰åŠ¨å‘</p><p>18.<a href="https://www.yii3.cn/">æ˜“ä¸‰æ–‡æ¡£</a> ä¸€ä¸ªæœ‰å‡ ä¸ªä½¿ç”¨çš„å¼€å‘ä½¿ç”¨ä¾¿æ·æ‰‹å†Œ</p><p>19.<a href="http://www.cyc2018.xyz/">CS-Notes</a> æŠ€æœ¯é¢è¯•å¿…å¤‡åŸºç¡€çŸ¥è¯†ã€Leetcodeã€è®¡ç®—æœºæ“ä½œç³»ç»Ÿã€è®¡ç®—æœºç½‘ç»œã€ç³»ç»Ÿè®¾è®¡</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¬”è®° </tag>
            
            <tag> æ•™ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å€¼å¾—æ”¶è—çš„ç½‘ç«™</title>
      <link href="/hypo-Z.github.io/2021/11/23/11-zhi-de-shou-cang-de-wang-zhan/"/>
      <url>/hypo-Z.github.io/2021/11/23/11-zhi-de-shou-cang-de-wang-zhan/</url>
      
        <content type="html"><![CDATA[<h1 id="å€¼å¾—æ”¶è—çš„ç½‘ç«™ï¼ˆæŒç»­æ›´æ–°ï¼‰"><a href="#å€¼å¾—æ”¶è—çš„ç½‘ç«™ï¼ˆæŒç»­æ›´æ–°ï¼‰" class="headerlink" title="å€¼å¾—æ”¶è—çš„ç½‘ç«™ï¼ˆæŒç»­æ›´æ–°ï¼‰"></a>å€¼å¾—æ”¶è—çš„ç½‘ç«™ï¼ˆæŒç»­æ›´æ–°ï¼‰</h1><p>###ä¸ªäººæ¨èæŒ‡æ•°</p><ol><li><p>**** <a href="https://mixkit.co/">Mixkit æ˜¯ä¸€ä¸ªå…è´¹å›¾åº“ï¼ŒåŒ…å«å¾ˆæ£’çš„è§†é¢‘å‰ªè¾‘ã€éŸ³ä¹æ›²ç›®ã€éŸ³æ•ˆå’Œè§†é¢‘æ¨¡æ¿ã€‚</a></p></li><li><p>*** <a href="https://pic.netbian.com/">å½¼å²¸å›¾ç½‘æ˜¯ä¸€ä¸ª4Kå›¾çº¸ä¸‹è½½ç½‘ç«™ï¼Œæ¯å¤©èƒ½ä¸‹è½½ä¸€å¼ å…è´¹4Kå£çº¸</a></p></li><li><p>*** <a href="https://www.lofi.cafe/">lofi.cafeæ˜¯ä¸€ä¸ªå¾ˆæ£’å›½å¤–ç”µå°ç½‘ç«™ï¼Œèƒ½åœ¨å·¥ä½œå­¦ä¹ ä¹‹ä½™å¬å¬éŸ³ä¹ï¼Œè½»éŸ³ä¹ä¸ºä¸»</a></p></li><li><p>***<a href="https://sample-videos.com/index.php#sample-mp4-video">simple.videoä¸€ä¸ªå…è´¹ç¤ºä¾‹è§†é¢‘ç½‘ç«™ï¼Œå„ç§æ ¼å¼éƒ½æœ‰</a></p></li><li><p>** <a href="http://oskarstalberg.com/game/house/index.html">ä¸€ä¸ªæ²™ç›’è§£å‹å°æ¸¸æˆ</a></p></li><li><p>** <a href="https://fuun.fun/">fun.siteä¸€ä¸ªè¶£å‘³ç½‘ç«™å¤§é›†åˆçš„ç½‘å€</a></p></li><li><p>** <a href="https://www.flickr.com/photos/biodivlibrary/">ä¸€ä¸ªå¯ä»¥è§‚çœ‹åŠ¨ç‰©æ’å›¾çš„ç½‘ç«™</a></p></li><li><p>** <a href="https://bruno-simon.com/">ä¸€ä¸ªæœ‰è¶£çš„3Dæ¨¡å‹çš„ç½‘ç«™</a></p></li><li><p>*** <a href="https://www.nocsdegree.com/">ä¸€ä¸ªæ”¶é›†å…¶ä»–èŒä¸šçš„äººè‡ªå­¦æˆä¸ºè½¯ä»¶å·¥ç¨‹å¸ˆé‡‡è®¿çš„ç½‘ç«™ï¼Œå­¦ä¹ å…¶ä»–äººçš„ç»éªŒ</a></p></li></ol><p>10.* <a href="https://gifcities.org/">GifCities æ˜¯äº’è”ç½‘æ¡£æ¡ˆé¦†çš„ä¸€ä¸ªç‰¹æ®Šé¡¹ç›®ï¼Œæ—¨åœ¨åº†ç¥ç½‘ç»œä¿å­˜ 20 å‘¨å¹´ã€‚Internet Archive æ˜¯ä¸€ä¸ªéè¥åˆ©æ€§æ•°å­—å›¾ä¹¦é¦†ï¼Œå…¶ä¸­åŒ…å«æ•°ç™¾ä¸‡æœ¬å…è´¹ä¹¦ç±ã€ç”µå½±ã€è½¯ä»¶ã€éŸ³ä¹ã€ç½‘ç«™ç­‰ã€‚</a></p><p>11.***  <a href="https://ptable.com/#%E6%80%A7%E8%B4%A8">ä¸€ä¸ªåŒ–å­¦å‘¨æœŸè¡¨çš„äº’åŠ¨ç½‘ç«™ï¼Œæœ‰åŠ©ç†è§£åŒ–å­¦å…ƒç´ </a></p><p>12.*** <a href="https://typlog.com/podlist/">æ”¶é›†é«˜è´¨é‡çš„ä¸­æ–‡æ’­å®¢çš„ç½‘ç«™</a></p><p>13.*** <a href="https://www.indiehackers.com/">ä¸€ä¸ªå¾ˆæ£’çš„ITäº¤æµç½‘ç«™ï¼Œä¸Šé¢æœ‰å„ç§æŠ€æœ¯äººå‘˜åœ¨ä¸Šé¢å‘è¡¨æ–‡ç« </a></p><p>14.* <a href="https://blog.usepastel.com/post/33-beautiful-free-icon-sets">33 ä¸ªå…·æœ‰æ¼‚äº®å…è´¹å›¾æ ‡é›†çš„ç½‘ç«™</a></p><p>15.** <a href="https://www.veer.com/?utm_source=biantuwang&amp;chid=600">veer.comæ˜¯ä¸€ä¸ªæä¾›å…è´¹æ’å›¾çš„ç½‘ç«™</a></p><p>16.* <a href="https://colorfu.art/editor">ä¸€ä¸ªå¯ä»¥ä¾¿æ·åˆ¶ä½œå¤§å¤´æŠ¥å›¾çš„ç½‘ç«™</a></p><p>17.** <a href="https://vididoo.vercel.app/">ä¸€ä¸ªåœ¨çº¿å¿«æ·å¤„ç†éŸ³è§†é¢‘çš„ç½‘ç«™</a></p><p>18.*** <a href="https://landgreen.github.io/physics/index.html">ä¸€ä¸ªåœ¨çº¿é«˜ä¸­ç‰©ç†è¦ç‚¹è®²è§£ï¼Œé…æœ‰æ’å›¾å’ŒåŠ¨ç”»ã€‚</a></p><p>19.*** <a href="http://www.progressfocused.com/">ä¸€ä¸ªå¤§å­¦å¿ƒç†å­¦æ•™æˆçš„åšå®¢ï¼Œå¯ä»¥å­¦ä¹ æœ‰ç”¨çš„å¿ƒç†å­¦å°çŸ¥è¯†</a></p><p>20.***** <a href="https://www.pinterest.com/">pinterestä¸€ä¸ªå›½å¤–å…è´¹çš„é«˜è´¨é‡å›¾ç‰‡ç½‘ç«™ï¼Œè®¸å¤šå›¾ç‰‡éƒ½å¯ä»¥ç›´æ¥å½“å£çº¸ï¼Œä½†éœ€è¦ç¿»å¢™</a></p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¬”è®° </tag>
            
            <tag> æ•™ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆåŠŸæ‰€éœ€çš„ 5 ç§æ–‡æ¡ˆå†™ä½œæŠ€å·§</title>
      <link href="/hypo-Z.github.io/2021/11/23/10-cheng-gong-suo-xu-de-5-chong-wen-an-xie-zuo-ji-qiao/"/>
      <url>/hypo-Z.github.io/2021/11/23/10-cheng-gong-suo-xu-de-5-chong-wen-an-xie-zuo-ji-qiao/</url>
      
        <content type="html"><![CDATA[<h1 id="æˆåŠŸæ‰€éœ€çš„-5-ç§æ–‡æ¡ˆå†™ä½œæŠ€å·§"><a href="#æˆåŠŸæ‰€éœ€çš„-5-ç§æ–‡æ¡ˆå†™ä½œæŠ€å·§" class="headerlink" title="æˆåŠŸæ‰€éœ€çš„ 5 ç§æ–‡æ¡ˆå†™ä½œæŠ€å·§"></a>æˆåŠŸæ‰€éœ€çš„ 5 ç§æ–‡æ¡ˆå†™ä½œæŠ€å·§</h1><h2 id="æ–‡æ¡ˆæ’°ç¨¿äººéœ€è¦ä»€ä¹ˆæŠ€èƒ½ï¼Ÿ"><a href="#æ–‡æ¡ˆæ’°ç¨¿äººéœ€è¦ä»€ä¹ˆæŠ€èƒ½ï¼Ÿ" class="headerlink" title="æ–‡æ¡ˆæ’°ç¨¿äººéœ€è¦ä»€ä¹ˆæŠ€èƒ½ï¼Ÿ"></a>æ–‡æ¡ˆæ’°ç¨¿äººéœ€è¦ä»€ä¹ˆæŠ€èƒ½ï¼Ÿ</h2><p><a href="https://matgillard.com/?source=post_page-----a7be60065eb4-----------------------------------"><img src="https://miro.medium.com/fit/c/96/96/1*VP5ZfM9aHJL7d7x3_ITVTQ.jpeg" alt="é©¬ç‰¹å‰æ‹‰å¾·"></a></p><p><a href="https://matgillard.com/?source=post_page-----a7be60065eb4-----------------------------------">é©¬ç‰¹å‰æ‹‰å¾·</a><a href="https://medium.com/m/signin?actionUrl=https://medium.com/_/subscribe/user/9ef1cfb5557/a7be60065eb4&amp;operation=register&amp;redirect=https://goodcopywriting.com/5-copywriting-skills-you-need-to-succeed-a7be60065eb4&amp;user=Mat+Gillard&amp;userId=9ef1cfb5557&amp;source=post_page-9ef1cfb5557----a7be60065eb4---------------------follow_byline--------------">è·Ÿéš</a></p><p><a href="https://goodcopywriting.com/5-copywriting-skills-you-need-to-succeed-a7be60065eb4?source=post_page-----a7be60065eb4-----------------------------------">11 æœˆ 23 æ—¥</a> Â· 2åˆ†é’Ÿé˜…è¯»</p><p><img src="https://miro.medium.com/max/1400/1*iAg35spPJaEcUtsCcLA9kg.jpeg" alt="img"></p><p>æ‚¨æ˜¯å¦éœ€è¦ä»»ä½•ç‰¹æ®Šçš„èµ„æ ¼æˆ–æŠ€èƒ½æ‰èƒ½æˆä¸ºä¸€åæ’°ç¨¿äººï¼Ÿ</p><p>ç»å¯¹ä¸ï¼</p><p>æˆä¸ºä¸€åæˆåŠŸçš„æ’°ç¨¿äººä¸éœ€è¦æ­£å¼çš„èµ„æ ¼ã€‚è¦æˆä¸ºä¸€åå‡ºè‰²çš„æ–‡æ¡ˆæ’°ç¨¿äººï¼Œæ‚¨éœ€è¦å…·æœ‰åˆ›é€ åŠ›ã€ç‹¬ç«‹æ€§ä»¥åŠè‰¯å¥½çš„æ²Ÿé€šæŠ€å·§å’ŒçŸ¥è¯†ï¼Œæˆ–è€…å¯¹é”€å”®å’Œè¥é”€æœ‰ä¸ªäººå…´è¶£ã€‚</p><p>å°½ç®¡å¦‚æ­¤ï¼Œä»¥ä¸‹äº”é¡¹æŠ€èƒ½å°†ä½¿æ‚¨æ›´è½»æ¾åœ°ç”ŸæˆæˆåŠŸå’Œæœ‰æ•ˆçš„å‰¯æœ¬ã€‚</p><h1 id="è‹±è¯­è¯­è¨€æŠ€èƒ½"><a href="#è‹±è¯­è¯­è¨€æŠ€èƒ½" class="headerlink" title="è‹±è¯­è¯­è¨€æŠ€èƒ½"></a>è‹±è¯­è¯­è¨€æŠ€èƒ½</h1><p>é«˜æ°´å¹³çš„è‹±è¯­è¯­è¨€æŠ€èƒ½æ˜¯å¿…é¡»çš„ã€‚è¯»è€…ç»å¸¸å¯»æ‰¾ä½¿ç”¨æ­£ç¡®å¥å­ç»“æ„ã€å•è¯é€‰æ‹©ã€è¯­æ³•å’Œæ‹¼å†™çš„å‰¯æœ¬ã€‚</p><p>ä½œä¸ºæ–‡æ¡ˆï¼Œæ‚¨è¿˜åº”è¯¥å¯†åˆ‡æ³¨æ„æ ‡ç‚¹ç¬¦å·ã€‚</p><p>æœ‰å¤§é‡å…è´¹ç½‘ç«™å¯ä»¥å¸®åŠ©æ‚¨åœ¨éœ€è¦æ—¶æé«˜è‹±è¯­æŠ€èƒ½ã€‚å¹¿æ³›é˜…è¯»å¯¹å»ºç«‹è¯æ±‡é‡ä¹Ÿå¾ˆæœ‰å¸®åŠ©ã€‚</p><h1 id="æ³¨é‡ç»†èŠ‚"><a href="#æ³¨é‡ç»†èŠ‚" class="headerlink" title="æ³¨é‡ç»†èŠ‚"></a>æ³¨é‡ç»†èŠ‚</h1><p>è€Œä¸”ï¼Œé™¤äº†è‹±è¯­è¯­è¨€æŠ€èƒ½å¤–ï¼Œæ‚¨è¿˜éœ€è¦èƒ½å¤Ÿå‘ç°å·¥ä½œä¸­çš„é”™è¯¯ã€‚</p><p>åœ¨å‘é€ç»™å®¢æˆ·æˆ–ä¸Šä¼ ç»™è¯»è€…ä¹‹å‰ï¼Œæ‚¨çš„å‰¯æœ¬åº”å°½å¯èƒ½æ— é”™è¯¯ã€‚</p><p>å¾ˆå¤šæ—¶å€™ï¼Œä½œä¸ºä¸€åè‡ªç”±æ’°ç¨¿äººï¼Œæ‚¨å°†æˆä¸ºè‡ªå·±çš„æ ¡å¯¹å‘˜å’Œæ–‡æ¡ˆç¼–è¾‘ï¼Œå› æ­¤éœ€è¦å¯¹ç»†èŠ‚æœ‰æ•é”çš„æ´å¯ŸåŠ›ã€‚</p><h1 id="ç ”ç©¶èƒ½åŠ›"><a href="#ç ”ç©¶èƒ½åŠ›" class="headerlink" title="ç ”ç©¶èƒ½åŠ›"></a>ç ”ç©¶èƒ½åŠ›</h1><p>çŸ¥é“å¦‚ä½•å¯¹æ‚¨æƒ³å†™çš„ä¸»é¢˜è¿›è¡Œå½»åº•çš„ç ”ç©¶ã€è°ƒæŸ¥å’Œæ‰¹åˆ¤æ€§åˆ†æã€‚</p><p>å½“ç„¶ï¼Œäº’è”ç½‘å’Œç°ä»£æŠ€æœ¯é€šè¿‡ä½¿å…¶æ›´å¿«ã€æ›´å®¹æ˜“æ¥ç®€åŒ–æµç¨‹ã€‚</p><p>å½“æ‚¨æƒ³äº†è§£æ‚¨çš„å®¢æˆ·å’Œç›®æ ‡å—ä¼—æ—¶ï¼Œå‡ºè‰²çš„ç ”ç©¶æŠ€èƒ½ä¹Ÿé€‚ç”¨ã€‚</p><p>å¦‚æœæ‚¨çŸ¥é“å¦‚ä½•ä»¥åŠåœ¨å“ªé‡Œæ‰¾åˆ°å®ƒï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥åœ¨äº’è”ç½‘å’Œä¹¦ç±ä¸Šæ‰¾åˆ°çš„å†…å®¹æ˜¯æ— é™çš„ã€‚</p><h1 id="å¤§è¯æ±‡"><a href="#å¤§è¯æ±‡" class="headerlink" title="å¤§è¯æ±‡"></a>å¤§è¯æ±‡</h1><p>å¹¿æ³›çš„è¯æ±‡æ˜¯æœ‰å¸®åŠ©çš„ã€‚é‡è¦çš„æ˜¯åœ¨ä½ çš„æ–‡æ¡ˆä¸­ä½¿ç”¨å„ç§å„æ ·çš„è¯ï¼Œè€Œä¸æ˜¯ç›¸åŒçš„é™ˆè¯æ»¥è°ƒã€‚</p><p>ä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ‚¨å¯èƒ½å¿…é¡»åšæŒä½¿ç”¨å¸¸è§çš„å’Œç»è¿‡æµ‹è¯•çš„è¯ï¼Œå°¤å…¶æ˜¯åœ¨æƒ³è¦è·å¾—å¼ºæœ‰åŠ›çš„æ ‡é¢˜æ—¶ã€‚</p><p>ä¸è¦é‡å¤ç›¸åŒçš„è¯ï¼Œå°¤å…¶æ˜¯åœ¨åŒä¸€æ®µè½ä¸­ã€‚</p><p>ä½œä¸ºåˆå­¦è€…ï¼ŒåŒä¹‰è¯åº“æ˜¯å¼€å§‹å¯»æ‰¾æ›¿ä»£è¯çš„å¥½åœ°æ–¹ã€‚</p><h1 id="èƒ½å¤Ÿçœ‹åˆ°ä¸åŒçš„è§‚ç‚¹"><a href="#èƒ½å¤Ÿçœ‹åˆ°ä¸åŒçš„è§‚ç‚¹" class="headerlink" title="èƒ½å¤Ÿçœ‹åˆ°ä¸åŒçš„è§‚ç‚¹"></a>èƒ½å¤Ÿçœ‹åˆ°ä¸åŒçš„è§‚ç‚¹</h1><p>ä½œä¸ºä¸€åæ–‡æ¡ˆæ’°ç¨¿äººï¼Œæ²‰æµ¸åœ¨åˆ«äººçš„æ•…äº‹æˆ–ç»å†ä¸­ï¼Œå‘æŒ¥ä¸¤å…¨å…¶ç¾çš„ä½œç”¨ã€‚</p><p>ä½ çš„æ„è§å’Œä»–ä»¬çš„æ„è§ã€‚</p><p>æ‚¨å¿…é¡»èƒ½å¤Ÿä»”ç»†è†å¬å¹¶äº†è§£ä»–äººçš„è§‚ç‚¹ã€‚</p><p>å½“æ‚¨å°†è‡ªå·±ç½®äºè¯»è€…å’Œå®¢æˆ·çš„è§’åº¦æ—¶ï¼Œå®ƒä¼šè®©æ‚¨æ›´æœ‰åŒç†å¿ƒï¼Œå¹¶å°Šé‡åœ°åˆ†äº«ä¸åŒçš„è§‚ç‚¹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è½¬è½½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ–‡ç«  </tag>
            
            <tag> è½¬è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€äº›å¼€å‘é—®é¢˜å¿«é€Ÿè§£å†³æ–¹æ¡ˆ</title>
      <link href="/hypo-Z.github.io/2021/11/23/9-yi-xie-kai-fa-wen-ti-kuai-su-jie-jue-fang-an-lian-jie-chi-xu-geng-xin-zhong/"/>
      <url>/hypo-Z.github.io/2021/11/23/9-yi-xie-kai-fa-wen-ti-kuai-su-jie-jue-fang-an-lian-jie-chi-xu-geng-xin-zhong/</url>
      
        <content type="html"><![CDATA[<h4 id="1-æ€æ ·å†™Markdownæ–‡ä»¶ï¼Ÿ"><a href="#1-æ€æ ·å†™Markdownæ–‡ä»¶ï¼Ÿ" class="headerlink" title="1.æ€æ ·å†™Markdownæ–‡ä»¶ï¼Ÿ"></a>1.æ€æ ·å†™Markdownæ–‡ä»¶ï¼Ÿ</h4><p><a href="https://www.runoob.com/markdown/md-tutorial.html">Markdownè¯­æ³•å›¾æ–‡å…¨é¢æ•™ç¨‹(10åˆ†é’Ÿå­¦ä¼š)</a></p><h4 id="2-å¸¸ç”¨çš„gitå‘½ä»¤"><a href="#2-å¸¸ç”¨çš„gitå‘½ä»¤" class="headerlink" title="2.å¸¸ç”¨çš„gitå‘½ä»¤"></a>2.å¸¸ç”¨çš„gitå‘½ä»¤</h4><p><a href="https://blog.csdn.net/halaoda/article/details/78661334?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522163764899316780357255501%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=163764899316780357255501&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-4-78661334.pc_search_all_es&amp;utm_term=%E5%B8%B8%E7%94%A8%E7%9A%84git%E5%91%BD%E4%BB%A4&amp;spm=1018.2226.3001.4187">Git å¸¸ç”¨å‘½ä»¤å¤§å…¨</a></p><h4 id="3-Linuxå¸¸ç”¨å‘½ä»¤"><a href="#3-Linuxå¸¸ç”¨å‘½ä»¤" class="headerlink" title="3.Linuxå¸¸ç”¨å‘½ä»¤"></a>3.Linuxå¸¸ç”¨å‘½ä»¤</h4><p><a href="https://blog.csdn.net/m0_47890251/article/details/106747543?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522163764919116780271972292%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=163764919116780271972292&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-5-106747543.pc_search_all_es&amp;utm_term=linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4&amp;spm=1018.2226.3001.4187">Linuxå¸¸ç”¨å‘½ä»¤å¤§å…¨ï¼ˆéå¸¸è¯¦ç»†ï¼ï¼‰</a></p><h4 id="4-SSHç®€ä»‹åŠä¸¤ç§è¿œç¨‹ç™»å½•çš„æ–¹æ³•"><a href="#4-SSHç®€ä»‹åŠä¸¤ç§è¿œç¨‹ç™»å½•çš„æ–¹æ³•" class="headerlink" title="4.SSHç®€ä»‹åŠä¸¤ç§è¿œç¨‹ç™»å½•çš„æ–¹æ³•"></a>4.SSHç®€ä»‹åŠä¸¤ç§è¿œç¨‹ç™»å½•çš„æ–¹æ³•</h4><p><a href="https://blog.csdn.net/li528405176/article/details/82810342?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522163764956316780269858066%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=163764956316780269858066&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-82810342.pc_search_all_es&amp;utm_term=ssh&amp;spm=1018.2226.3001.4187">SSHç®€ä»‹åŠä¸¤ç§è¿œç¨‹ç™»å½•çš„æ–¹æ³•</a></p><h4 id="5-gpgä½¿ç”¨æ–¹æ³•"><a href="#5-gpgä½¿ç”¨æ–¹æ³•" class="headerlink" title="5.gpgä½¿ç”¨æ–¹æ³•"></a>5.gpgä½¿ç”¨æ–¹æ³•</h4><p><a href="https://blog.csdn.net/arv002/article/details/114322941?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522163764968516780271533854%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=163764968516780271533854&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-3-114322941.pc_search_all_es&amp;utm_term=gpg&amp;spm=1018.2226.3001.4187">gpgä½¿ç”¨æ–¹æ³•</a></p><h4 id="6-dockerå¸¸ç”¨å‘½ä»¤æ€»ç»“"><a href="#6-dockerå¸¸ç”¨å‘½ä»¤æ€»ç»“" class="headerlink" title="6.dockerå¸¸ç”¨å‘½ä»¤æ€»ç»“"></a>6.dockerå¸¸ç”¨å‘½ä»¤æ€»ç»“</h4><p><a href="https://blog.csdn.net/u013378306/article/details/86668313?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-86668313.nonecase&amp;spm=1018.2226.3001.4187">dockerå¸¸ç”¨å‘½ä»¤æ€»ç»“</a></p><h4 id="7-å®˜æ–¹dockerç®€ä»‹å’Œæ„å»ºdockeré•œåƒ"><a href="#7-å®˜æ–¹dockerç®€ä»‹å’Œæ„å»ºdockeré•œåƒ" class="headerlink" title="7.å®˜æ–¹dockerç®€ä»‹å’Œæ„å»ºdockeré•œåƒ"></a>7.å®˜æ–¹dockerç®€ä»‹å’Œæ„å»ºdockeré•œåƒ</h4><p><a href="docker%E7%AE%80%E4%BB%8B%E5%92%8C%E6%9E%84%E5%BB%BAdocker%E9%95%9C%E5%83%8F">dockerç®€ä»‹å’Œæ„å»ºdockeré•œåƒ</a></p><h4 id="8-5-ä¸ªå¯ç”¨äºæ”¹è¿›å¼€å‘è¿‡ç¨‹çš„-Git-å·¥ä½œæµç¨‹å’Œåˆ†æ”¯ç­–ç•¥"><a href="#8-5-ä¸ªå¯ç”¨äºæ”¹è¿›å¼€å‘è¿‡ç¨‹çš„-Git-å·¥ä½œæµç¨‹å’Œåˆ†æ”¯ç­–ç•¥" class="headerlink" title="8. 5 ä¸ªå¯ç”¨äºæ”¹è¿›å¼€å‘è¿‡ç¨‹çš„ Git å·¥ä½œæµç¨‹å’Œåˆ†æ”¯ç­–ç•¥"></a>8. 5 ä¸ªå¯ç”¨äºæ”¹è¿›å¼€å‘è¿‡ç¨‹çš„ Git å·¥ä½œæµç¨‹å’Œåˆ†æ”¯ç­–ç•¥</h4><p><a href="https://zepel.io/blog/5-git-workflows-to-improve-development/">5 ä¸ªå¯ç”¨äºæ”¹è¿›å¼€å‘è¿‡ç¨‹çš„ Git å·¥ä½œæµç¨‹å’Œåˆ†æ”¯ç­–ç•¥</a></p><h4 id="9-ç†è§£Dockerçš„å¤šé˜¶æ®µé•œåƒæ„å»º"><a href="#9-ç†è§£Dockerçš„å¤šé˜¶æ®µé•œåƒæ„å»º" class="headerlink" title="9.ç†è§£Dockerçš„å¤šé˜¶æ®µé•œåƒæ„å»º"></a>9.ç†è§£Dockerçš„å¤šé˜¶æ®µé•œåƒæ„å»º</h4><p><a href="https://juejin.cn/post/6844903510874521608">ç†è§£Dockerçš„å¤šé˜¶æ®µé•œåƒæ„å»º</a></p><h4 id="10-ç†è§£-gitignoreæ–‡ä»¶å’ŒDockerfileä¹¦å†™å‚è€ƒ"><a href="#10-ç†è§£-gitignoreæ–‡ä»¶å’ŒDockerfileä¹¦å†™å‚è€ƒ" class="headerlink" title="10.ç†è§£.gitignoreæ–‡ä»¶å’ŒDockerfileä¹¦å†™å‚è€ƒ"></a>10.ç†è§£.gitignoreæ–‡ä»¶å’ŒDockerfileä¹¦å†™å‚è€ƒ</h4><p><a href="https://git-scm.com/docs/gitignore">.gitignoreç†è§£</a></p><p><a href="https://docs.docker.com/engine/reference/builder/">Dockerfileå‚è€ƒ</a></p><h4 id="11-Docker-æ—¶åŒºè°ƒæ•´æ–¹æ¡ˆ"><a href="#11-Docker-æ—¶åŒºè°ƒæ•´æ–¹æ¡ˆ" class="headerlink" title="11.Docker æ—¶åŒºè°ƒæ•´æ–¹æ¡ˆ"></a>11.Docker æ—¶åŒºè°ƒæ•´æ–¹æ¡ˆ</h4><p><a href="https://cloud.tencent.com/developer/article/1626811">Docker æ—¶åŒºè°ƒæ•´æ–¹æ¡ˆ</a></p><h4 id="12-ä»€ä¹ˆæ˜¯HASHï¼Ÿ"><a href="#12-ä»€ä¹ˆæ˜¯HASHï¼Ÿ" class="headerlink" title="12.ä»€ä¹ˆæ˜¯HASHï¼Ÿ"></a>12.ä»€ä¹ˆæ˜¯HASHï¼Ÿ</h4><p><a href="https://blog.csdn.net/asdzheng/article/details/70226007">Hashç®—æ³•æ€»ç»“</a></p><h4 id="13-curlçš„ç”¨æ³•æŒ‡å—"><a href="#13-curlçš„ç”¨æ³•æŒ‡å—" class="headerlink" title="13.curlçš„ç”¨æ³•æŒ‡å—"></a>13.curlçš„ç”¨æ³•æŒ‡å—</h4><p><a href="https://www.ruanyifeng.com/blog/2019/09/curl-reference.html">curlçš„ç”¨æ³•æŒ‡å—</a></p><p>æŒç»­æ›´æ–°â€¦</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¬”è®° </tag>
            
            <tag> æ•™ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntuå¼€å‘ç¯å¢ƒå¿«é€Ÿå®‰è£…æ•™ç¨‹</title>
      <link href="/hypo-Z.github.io/2021/11/23/8-ubuntu-kai-fa-huan-jing-kuai-su-an-zhuang-jiao-cheng/"/>
      <url>/hypo-Z.github.io/2021/11/23/8-ubuntu-kai-fa-huan-jing-kuai-su-an-zhuang-jiao-cheng/</url>
      
        <content type="html"><![CDATA[<h1 id="Ubuntuå¼€å‘ç¯å¢ƒå¿«é€Ÿå®‰è£…æ•™ç¨‹ï¼š"><a href="#Ubuntuå¼€å‘ç¯å¢ƒå¿«é€Ÿå®‰è£…æ•™ç¨‹ï¼š" class="headerlink" title="Ubuntuå¼€å‘ç¯å¢ƒå¿«é€Ÿå®‰è£…æ•™ç¨‹ï¼š"></a>Ubuntuå¼€å‘ç¯å¢ƒå¿«é€Ÿå®‰è£…æ•™ç¨‹ï¼š</h1><h3 id="ubuntuå®‰è£…goï¼š"><a href="#ubuntuå®‰è£…goï¼š" class="headerlink" title="ubuntuå®‰è£…goï¼š"></a>ubuntuå®‰è£…goï¼š</h3><p>1ã€ä¸‹è½½äºŒè¿›åˆ¶åŒ…ï¼šgo1.4.linux-amd64.tar.gzã€‚</p><p>2ã€å°†ä¸‹è½½çš„äºŒè¿›åˆ¶åŒ…è§£å‹è‡³ /usr/localç›®å½•ã€‚</p><pre class="line-numbers language-none"><code class="language-none">tar -C /usr/local -xzf go1.4.linux-amd64.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>3ã€å°† /usr/local/go/bin ç›®å½•æ·»åŠ è‡³PATHç¯å¢ƒå˜é‡ï¼š</p><pre class="line-numbers language-none"><code class="language-none">export PATH=$PATH:/usr/local/go/bin<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ubuntuå®‰è£…dockerï¼š"><a href="#ubuntuå®‰è£…dockerï¼š" class="headerlink" title="ubuntuå®‰è£…dockerï¼š"></a>ubuntuå®‰è£…dockerï¼š</h3><p>åœ¨ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo apt-get update<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ²¡æœ‰é”™è¯¯åˆ™æˆåŠŸäº†ã€‚</p><p>äºŒã€å®‰è£…éœ€è¦çš„åŒ…</p><p>åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤</p><pre class="line-numbers language-none"><code class="language-none">sudo apt-get install apt-transport-https ca-certificates software-properties-common curl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ²¡æœ‰é”™è¯¯åˆ™æˆåŠŸã€‚<br>ä¸‰ã€æ·»åŠ  GPG å¯†é’¥ï¼Œå¹¶æ·»åŠ  Docker-ce è½¯ä»¶æº</p><p>å®˜æ–¹çš„è½¯ä»¶æºï¼ˆä¸æ¨èï¼Œå¾ˆæ…¢ï¼‰ï¼š</p><pre class="line-numbers language-none"><code class="language-none">curl -fsSL https://download.docker.com/linux/ubuntu/gpg|sudo apt-key add -<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸­å›½ç§‘æŠ€å¤§å­¦çš„ Docker-ce æºï¼ˆå…¶ä»–æºç±»ä¼¼ï¼‰ï¼š</p><pre class="line-numbers language-none"><code class="language-none">curl -fsSL https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/gpg | sudo apt-key add -<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">sudo add-apt-repository "deb [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu \$(lsb_release -cs) stable"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="æ³¨æ„ï¼šæ·»åŠ é”™äº†å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤åˆ é™¤"><a href="#æ³¨æ„ï¼šæ·»åŠ é”™äº†å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤åˆ é™¤" class="headerlink" title="æ³¨æ„ï¼šæ·»åŠ é”™äº†å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤åˆ é™¤"></a>æ³¨æ„ï¼šæ·»åŠ é”™äº†å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤åˆ é™¤</h5><h5 id="æŸ¥è¯¢keyid-ä¸‹å›¾"><a href="#æŸ¥è¯¢keyid-ä¸‹å›¾" class="headerlink" title="æŸ¥è¯¢keyid,ä¸‹å›¾"></a>æŸ¥è¯¢keyid,ä¸‹å›¾</h5><pre class="line-numbers language-none"><code class="language-none">sudo apt-key list<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="keyid-å°±æ˜¯90é‚£ä¸€ä¸²"><a href="#keyid-å°±æ˜¯90é‚£ä¸€ä¸²" class="headerlink" title="keyid å°±æ˜¯90é‚£ä¸€ä¸²"></a>keyid å°±æ˜¯90é‚£ä¸€ä¸²</h5><pre class="line-numbers language-none"><code class="language-none">sudo apt-key del &lt;keyid&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="åŠ å‚æ•°-rå¯ä»¥ç§»é™¤"><a href="#åŠ å‚æ•°-rå¯ä»¥ç§»é™¤" class="headerlink" title="åŠ å‚æ•°-rå¯ä»¥ç§»é™¤"></a>åŠ å‚æ•°-rå¯ä»¥ç§»é™¤</h5><pre class="line-numbers language-none"><code class="language-none">sudo add-apt-repository -r "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ›´æ–°è½¯ä»¶åŒ…ç¼“å­˜</p><pre class="line-numbers language-none"><code class="language-none">sudo apt-get update<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å››ã€å®‰è£… Docker-ce</p><pre class="line-numbers language-none"><code class="language-none">sudo apt-get install docker-ce<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>äº”ã€æµ‹è¯•è¿è¡Œ</p><pre class="line-numbers language-none"><code class="language-none">sudo docker run hello-world<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å…­ã€æ·»åŠ å½“å‰ç”¨æˆ·åˆ° docker ç”¨æˆ·ç»„ï¼Œå¯ä»¥ä¸ç”¨ sudo è¿è¡Œ docker</p><p>å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ° docker ç»„</p><pre class="line-numbers language-none"><code class="language-none">sudo gpasswd -a ${USER} docker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é‡æ–°ç™»å½•æˆ–è€…ç”¨ä»¥ä¸‹å‘½ä»¤åˆ‡æ¢åˆ°dockerç»„</p><pre class="line-numbers language-none"><code class="language-none">newgrp - docker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é‡å¯dockeræœåŠ¡</p><pre class="line-numbers language-none"><code class="language-none">sudo service docker restart<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸åŠ sudoç›´æ¥æ‰§è¡Œdockerå‘½ä»¤æ£€æŸ¥æ•ˆæœ</p><pre class="line-numbers language-none"><code class="language-none">docker ps<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ubuntuå®‰è£…gitï¼š"><a href="#ubuntuå®‰è£…gitï¼š" class="headerlink" title="ubuntuå®‰è£…gitï¼š"></a>ubuntuå®‰è£…gitï¼š</h3><h5 id="Linux-å¹³å°ä¸Šå®‰è£…"><a href="#Linux-å¹³å°ä¸Šå®‰è£…" class="headerlink" title="Linux å¹³å°ä¸Šå®‰è£…"></a>Linux å¹³å°ä¸Šå®‰è£…</h5><p>Git çš„å·¥ä½œéœ€è¦è°ƒç”¨ curlï¼Œzlibï¼Œopensslï¼Œexpatï¼Œlibiconv ç­‰åº“çš„ä»£ç ï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£…è¿™äº›ä¾èµ–å·¥å…·ã€‚</p><p>åœ¨æœ‰ yum çš„ç³»ç»Ÿä¸Šï¼ˆæ¯”å¦‚ Fedoraï¼‰æˆ–è€…æœ‰ apt-get çš„ç³»ç»Ÿä¸Šï¼ˆæ¯”å¦‚ Debian ä½“ç³»ï¼‰ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤å®‰è£…ï¼š</p><p>å„ Linux ç³»ç»Ÿå¯ä»¥ä½¿ç”¨å…¶å®‰è£…åŒ…ç®¡ç†å·¥å…·ï¼ˆapt-getã€yum ç­‰ï¼‰è¿›è¡Œå®‰è£…ï¼š</p><h5 id="Debian-Ubuntu"><a href="#Debian-Ubuntu" class="headerlink" title="Debian/Ubuntu"></a>Debian/Ubuntu</h5><p>Debian/Ubuntu Git å®‰è£…å‘½ä»¤ä¸ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">$ apt-get install libcurl4-gnutls-dev libexpat1-dev gettext \  libz-dev libssl-dev$ apt-get install git$ git --versiongit version 1.8.1.2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ubuntuå®‰è£…golandï¼š"><a href="#ubuntuå®‰è£…golandï¼š" class="headerlink" title="ubuntuå®‰è£…golandï¼š"></a>ubuntuå®‰è£…golandï¼š</h3><h5 id="golandå®‰è£…"><a href="#golandå®‰è£…" class="headerlink" title="golandå®‰è£…"></a>golandå®‰è£…</h5><ol><li>ä¸‹è½½goland<br><a href="https://www.jetbrains.com/go/download/#section=linux">Golandä¸‹è½½é“¾æ¥</a></li><li>cdåˆ°å®‰è£…åŒ…ç›®å½•ï¼Œç§»åŠ¨å¹¶è§£å‹</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">tar</span> -zxvf goland-2020.3.4.tar.gz -C /usr/local/ <span class="token comment">#åŒ…çš„åå­—è‡ªè¡Œä¿®æ”¹</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol><li>å¯åŠ¨Goland</li></ol><p><img src="https://img-blog.csdnimg.cn/20210320104439418.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="ubuntuå®‰è£…google-chormeï¼š"><a href="#ubuntuå®‰è£…google-chormeï¼š" class="headerlink" title="ubuntuå®‰è£…google chormeï¼š"></a>ubuntuå®‰è£…google chormeï¼š</h3><p>ä¸‹è½½Chrome</p><pre class="line-numbers language-none"><code class="language-none">$ wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å®‰è£…</p><pre class="line-numbers language-none"><code class="language-none">$ sudo dpkg -i google-chrome-stable_current_amd64.deb<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŠ¥é”™</p><pre class="line-numbers language-none"><code class="language-none">$ sudo dpkg -i google-chrome-stable_current_amd64.deb(Reading database ... 155736 files and directories currently installed.)Preparing to unpack google-chrome-stable_current_amd64.deb ...Unpacking google-chrome-stable (88.0.4324.96-1) ...dpkg: dependency problems prevent configuration of google-chrome-stable: google-chrome-stable depends on fonts-liberation; however:  Package fonts-liberation is not installed. google-chrome-stable depends on libatk-bridge2.0-0 (&gt;= 2.5.3); however:  Package libatk-bridge2.0-0 is not installed. google-chrome-stable depends on libatk1.0-0 (&gt;= 2.2.0); however:  Package libatk1.0-0 is not installed. google-chrome-stable depends on libatspi2.0-0 (&gt;= 2.9.90); however:  Package libatspi2.0-0 is not installed. google-chrome-stable depends on libcairo2 (&gt;= 1.6.0); however:  Package libcairo2 is not installed. google-chrome-stable depends on libcups2 (&gt;= 1.4.0); however:  Package libcups2 is not installed. google-chrome-stable depends on libgbm1 (&gt;= 8.1~0); however:  Package libgbm1 is not installed. google-chrome-stable depends on libgdk-pixbuf2.0-0 (&gt;= 2.22.0); however:  Package libgdk-pixbuf2.0-0 is not installed. google-chrome-stable depends on libgtk-3-0 (&gt;= 3.9.10); however:  Package libgtk-3-0 is not installed. google-chrome-stable depends on libnspr4 (&gt;= 2:4.9-2~); however:  Package libnspr4 is not installed. google-chrome-stable depends on libnss3 (&gt;= 2:3.22); however:  Package libnss3 is not installed. google-chrome-stable depends on libpango-1.0-0 (&gt;= 1.14.0); however:  Package libpango-1.0-0 is not installed. google-chrome-stable depends on libxkbcommon0 (&gt;= 0.4.1); however:  Package libxkbcommon0 is not installed. google-chrome-stable depends on xdg-utils (&gt;= 1.0.2); however:  Package xdg-utils is not installed.dpkg: error processing package google-chrome-stable (--install): dependency problems - leaving unconfiguredProcessing triggers for mime-support (3.64ubuntu1) ...Processing triggers for man-db (2.9.1-1) ...Errors were encountered while processing: google-chrome-stable<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æŠ¥é”™åŸå› ï¼šç¼ºå°‘ä¾èµ–è½¯ä»¶åŒ…</p><pre class="line-numbers language-none"><code class="language-none">dpkg: error processing package google-chrome-stable (--install): dependency problems - leaving unconfigured<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è§£å†³åŠæ³•ï¼šä¿®å¤ä¾èµ–å…³ç³»</p><pre class="line-numbers language-none"><code class="language-none">$ sudo apt-get install -f<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœç³»ç»Ÿä¸­æœ‰æŸä¸ªè½¯ä»¶åŒ…ä¸æ»¡è¶³ä¾èµ–æ¡ä»¶,è¿™ä¸ªå‘½ä»¤å°±ä¼šè‡ªåŠ¨ä¿®å¤,å°†è¦å®‰è£…é‚£ä¸ªè½¯ä»¶åŒ…ä¾èµ–çš„è½¯ä»¶åŒ…ã€‚</p><p>æŸ¥çœ‹Chromeç‰ˆæœ¬ä¿¡æ¯</p><pre class="line-numbers language-none"><code class="language-none">$ google-chrome --version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ubuntuå®‰è£…teamsï¼š"><a href="#ubuntuå®‰è£…teamsï¼š" class="headerlink" title="ubuntuå®‰è£…teamsï¼š"></a>ubuntuå®‰è£…teamsï¼š</h3><p>1ã€å»å®˜ç½‘ä¸‹è½½äºŒè¿›åˆ¶åŒ…teams.tar.gzã€‚</p><p>2ã€å°†ä¸‹è½½çš„äºŒè¿›åˆ¶åŒ…è§£å‹è‡³ /usr/localç›®å½•ã€‚</p><pre class="line-numbers language-none"><code class="language-none">tar -C /usr/local -xzf teams.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="Ubuntuå®‰è£…typora"><a href="#Ubuntuå®‰è£…typora" class="headerlink" title="Ubuntuå®‰è£…typora:"></a>Ubuntuå®‰è£…typora:</h3><p>åœ¨ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><pre class="line-numbers language-none"><code class="language-none"># sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys BA300B7755AFCFAEwget -qO - https://typora.io/linux/public-key.asc | sudo apt-key add -# add Typora's repositorysudo add-apt-repository 'deb https://typora.io/linux ./'sudo apt-get update# install typorasudo apt-get install typora<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ubuntuå®‰è£…cloudmusicï¼š"><a href="#ubuntuå®‰è£…cloudmusicï¼š" class="headerlink" title="ubuntuå®‰è£…cloudmusicï¼š"></a>ubuntuå®‰è£…cloudmusicï¼š</h3><p>å…ˆåˆ°ç½‘ç«™ä¸‹è½½å®‰è£…åŒ…ï¼Œç½‘å€ï¼š<a href="https://music.163.com/#/download">https://music.163.com/#/download</a> , ç„¶åä¸‹è½½å®¢æˆ·ç«¯ï¼Œç‚¹å‡»ä¸‹è½½å…¨éƒ¨å®¢æˆ·ç«¯ï¼Œé€‰æ‹©Linuxç‰ˆï¼Œé€‰æ‹©Ubuntu18.04ï¼Œå…¶å®æˆ‘çš„20.04 ç‰ˆçš„æ²¡æ‰¾åˆ°ï¼Œä¸è¿‡è¿™ä¸ªç”¨èµ·æ¥è¿˜ä¸é”™ã€‚è‡³äºæ˜¯32è¿˜æ˜¯64ï¼Œè‡ªå·±çœ‹å§ã€‚<br>ç„¶åå°†å®‰è£…åŒ…ä¸‹è½½åˆ°ï¼š~/ä¸‹è½½ ç›®å½•ä¸‹ï¼Œç„¶ååœ¨è¿™ä¸ªç›®å½•ä¸‹é¢æ‰“å¼€ç»ˆç«¯ã€‚<br>åœ¨ç»ˆç«¯é‡Œé¢è¾“å…¥ï¼šsudo dpkg -i netease-cloud-music_1.2.1_amd64_ubuntu_20190428.deb å°±è¡Œäº†</p><h3 id="ubuntuå®‰è£…vimï¼š"><a href="#ubuntuå®‰è£…vimï¼š" class="headerlink" title="ubuntuå®‰è£…vimï¼š"></a>ubuntuå®‰è£…vimï¼š</h3><p>è‡ªå¸¦çš„viä¸å¥½ç”¨ï¼Œæ‰€ä»¥è‡ªå·±é‡æ–°ä¸‹äº†ä¸€ä¸‹</p><pre class="line-numbers language-none"><code class="language-none">sudo apt-get install vim<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å®‰è£…å®Œæˆåè¿›å…¥/etc/vimç›®å½•ä¸‹é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨ä¼šèˆ’æœä¸€ç‚¹</p><pre class="line-numbers language-none"><code class="language-none">sudo vim vimrc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨æœ«å°¾æ·»åŠ ä»£ç </p><pre><code>set number   set history=1000   set autoindentset smartindent set tabstop=4 set shiftwidth=4 set showmatch</code></pre><h3 id="ubuntu-å®‰è£…PostMan"><a href="#ubuntu-å®‰è£…PostMan" class="headerlink" title="ubuntu å®‰è£…PostMan:"></a>ubuntu å®‰è£…PostMan:</h3><pre class="line-numbers language-test" data-language="test"><code class="language-test">sudo snap install postman<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ubuntu-å®‰è£…nodejså’Œnpm"><a href="#ubuntu-å®‰è£…nodejså’Œnpm" class="headerlink" title="ubuntu å®‰è£…nodejså’Œnpm:"></a>ubuntu å®‰è£…nodejså’Œnpm:</h3><p>å¿«é€Ÿå®‰è£…ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo rm -rf /usr/local/bin/npm /usr/local/share/man/man1/node* ~/.npmsudo rm -rf /usr/local/lib/node*sudo rm -rf /usr/local/bin/node*sudo rm -rf /usr/local/include/node*sudo apt-get purge nodejs npmsudo apt autoremovesudo apt-get install nodejs npmzhb@zhb-pc:~$ npm -v6.14.4zhb@zhb-pc:~$ node -vv10.19.0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨ï¼šä»¥ä¸Šåªèƒ½å®‰è£…è€ç‰ˆæœ¬çš„nodejså’Œnpm,æ–°ç‰ˆæœ¬å¯åœ¨å®˜ç½‘ä¸‹è½½ï¼Œä½†æ˜¯å¯èƒ½å‡ºç°é—®é¢˜ã€‚</p><p>ä¸€.ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„nodejsåŒ…ï¼ˆæœ€æ–°ç‰ˆæœ¬çš„nodejsåŒ…é‡Œé»˜è®¤å«æœ‰npmï¼‰<br>å¯ä»¥å»nodejså®˜ç½‘å»æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬çš„nodejs<br>ç½‘å€å¦‚ä¸‹ï¼š<a href="https://nodejs.org/en/download/current/">https://nodejs.org/en/download/current/</a><br>ç›®å‰æœ€æ–°ç‰ˆæœ¬ä¸ºï¼šv17.1.0</p><pre class="line-numbers language-none"><code class="language-none">wget https://nodejs.org/dist/v17.1.0/node-v17.1.0-linux-x64.tar.xz    tar xf  node-v17.1.0-linux-x64.tar.xz       // è§£å‹cd node-v17.1.0-linux-x64/                  // è¿›å…¥è§£å‹ç›®å½• ./bin/node -v                               // æ‰§è¡Œnodeå‘½ä»¤ æŸ¥çœ‹ç‰ˆæœ¬// binç›®å½•ä¸‹æœ‰æ‰§è¡Œæ–‡ä»¶npmå’Œnode åšè½¯é“¾æ¥<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸‹è½½åˆ°ä½ å½“å‰çš„ç›®å½•,å‡å¦‚æ˜¯ï¼š/home/root/</p><p>ç¬¬äºŒæ­¥ åˆ›å»ºè½¯è¿æ¥ å¯ä»¥åœ¨ä»»æ„è·¯å¾„ä¸‹æ‰§è¡Œnpm node<br>æ³¨æ„ï¼šåœ¨åˆ›å»ºè½¯è¿æ¥çš„æ—¶å€™è¦å†™ ç»å¯¹è·¯å¾„,è½¯è¿æ¥åˆ°/usr/local/bin/</p><pre class="line-numbers language-none"><code class="language-none">ln -s  /home/root/node-v17.1.0-linux-x64/bin/node  /usr/local/bin/ln -s /home/root/node-v17.1.0-linux-x64/bin/npm  /usr/local/bin/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>// æ³¨æ„è¦å†™æ–‡ä»¶çš„ç»å¯¹è·¯å¾„</p><p>å¦‚æœä½ åœ¨åˆ›å»ºè½¯è¿çš„æ—¶å€™ï¼Œå‡ºç°npmå·²ç»å­˜åœ¨,node å·²ç»å­˜åœ¨<br>è§£å†³æ–¹æ¡ˆï¼š<br>åˆ é™¤ /usr/local/bin/ç›®å½•ä¸‹çš„nodeï¼Œnpm</p><p>rt@ubuntu:<del>$ sudo rm -rf /usr/local/bin/node<br>rt@ubuntu:</del>$ sudo rm -rf /usr/local/bin/npm</p><p>ä¹‹åå†åˆ›å»ºè½¯è¿æ¥ï¼Œå®Œæˆã€‚</p><pre class="line-numbers language-none"><code class="language-none">rbt@ubuntu:~$ node -vv17.1.0rt@ubuntu:~$ npm -v8.4.1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ ·nodeå’Œnpmå°±åŒæ—¶å®‰è£…æˆåŠŸäº†ï¼</p><h3 id="ubuntuå®‰è£…python3ï¼š"><a href="#ubuntuå®‰è£…python3ï¼š" class="headerlink" title="ubuntuå®‰è£…python3ï¼š"></a>ubuntuå®‰è£…python3ï¼š</h3><p>ubuntuæœ¬èº«æ˜¯æœ‰Python2.7ç‰ˆæœ¬çš„ï¼Œä½†æ˜¯ä¸åŒç‰ˆæœ¬çš„ubuntuä¸­çš„Python3çš„ç‰ˆæœ¬æ˜¯ä¸åŒçš„ï¼Œæˆ‘ç°åœ¨ç”¨çš„æ˜¯14ç‰ˆæœ¬å°±æ˜¯python3.4ï¼Œæˆ‘æƒ³æŠŠå®ƒå‡çº§ä¸º3.6ç‰ˆæœ¬ã€‚å½“ç„¶ï¼Œå¦‚æœéœ€è¦ï¼Œä½ å¯ä»¥æ”¹ä¸ºä»»æ„ç‰ˆæœ¬ã€‚</p><ol><li>å®‰è£…python3.6(éå¿…éœ€)<br>åœ¨ç»ˆç«¯ä¸­è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼ˆä¸è¦æ€€ç–‘ï¼Œæ¯è¡Œéƒ½æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼‰</li></ol><pre class="line-numbers language-none"><code class="language-none">wget http://www.python.org/ftp/python/3.6.4/Python-3.6.4.tgz  tar -xvzf Python-3.6.4.tgz  cd Python-3.6.4  ./configure --with-ssl  make  sudo make install<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™äº›å‘½ä»¤ä¼šä½¿ä½ çš„ubuntuä¸‹è½½python3.6.4ï¼Œå¹¶æ›¿æ¢ä½ ç°åœ¨çš„python3ç‰ˆæœ¬ã€‚</p><ol start="2"><li>å®‰è£…pythonè¿è¡Œç¯å¢ƒ<br>è¾“å…¥sudo passwd è¾“å…¥rootç›¸å…³å¯†ç ï¼Œè¾“å…¥suï¼Œè¿›å…¥è¶…çº§ç®¡ç†å‘˜ï¼ˆå¦‚æœä½ æ²¡è®¾ç½®è¿‡ï¼Œéœ€è¦è®¾ç½®rootç”¨æˆ·å¯†ç ï¼‰ï¼Œä¹Ÿè®¸ä½ åœ¨å®‰è£…æ—¶è¿˜éœ€è¦å‡çº§ä½ çš„apt-getï¼Œå‘½ä»¤è¡Œä¸‹è¾“å…¥apt-get update</li></ol><pre class="line-numbers language-none"><code class="language-none">sudo apt-get install pythonsudo apt-get install python-dev(ç¼–è¯‘å¤–éƒ¨æ¨¡å—æ–‡ä»¶ä½¿ç”¨çš„)sudo apt-get install python-pipsudo apt-get install libxml*sudo apt-get install net-toolssudo apt-get install lsof<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>python3çš„è¯å®‰è£…pipï¼Œå‘½ä»¤ä¸ºsudo apt-get install python3-pip<br>æ‰§è¡Œä¹‹åï¼Œè¾“å…¥python3æ¥ç¡®å®šä½ æ˜¯å¦å®‰è£…æˆåŠŸï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºæ˜¾ç¤ºpython3.6.4å³å®‰è£…æˆåŠŸï¼š</p><p>3.æ›´æ–°pipç‰ˆæœ¬</p><pre class="line-numbers language-none"><code class="language-none">sudo pip install --upgrade pip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>4.å®‰è£…SSH</p><pre class="line-numbers language-none"><code class="language-none">sudo apt-get install openssh-server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>5.å®‰è£… Nginx</p><pre class="line-numbers language-none"><code class="language-none">sudo apt-get install nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>6.å®‰è£… uwsgi</p><pre class="line-numbers language-none"><code class="language-none">sudo pip install uwsgi<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>éƒ¨ç½²djangoé¡¹ç›®å‰è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¼€å¯8000ç«¯å£</p><pre class="line-numbers language-none"><code class="language-none">uwsgi --http :8000  --chdir é¡¹ç›®è·¯å¾„ -w  é¡¹ç›®åç§°.wsgi<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è§£é™¤ç«¯å£è¢«å ç”¨çš„å‘½ä»¤ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo fuser -k 8000/tcp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="è‡³æ­¤ubuntuçš„åŸºæœ¬çš„è½¯ä»¶å¼€å‘ç¯å¢ƒåŸºæœ¬æ­å»ºå®Œæˆï¼Œæœ¬æ–‡åªåšå¿«é€Ÿæ­å»ºç¯å¢ƒçš„æµç¨‹ï¼Œå…·ä½“é—®é¢˜ç½‘ä¸Šéƒ½æœ‰è§£å†³æ–¹æ¡ˆï¼Œè¿˜æœ‰å°±æ˜¯ä¸ºä»€ä¹ˆæ²¡æœ‰æ•°æ®åº“çš„å®‰è£…ï¼ŸåºŸè¯ï¼Œéƒ½æœ‰Dockeräº†ï¼Œè°è¿˜å®‰è£…æ•°æ®åº“å‘€ï¼ï¼ï¼"><a href="#è‡³æ­¤ubuntuçš„åŸºæœ¬çš„è½¯ä»¶å¼€å‘ç¯å¢ƒåŸºæœ¬æ­å»ºå®Œæˆï¼Œæœ¬æ–‡åªåšå¿«é€Ÿæ­å»ºç¯å¢ƒçš„æµç¨‹ï¼Œå…·ä½“é—®é¢˜ç½‘ä¸Šéƒ½æœ‰è§£å†³æ–¹æ¡ˆï¼Œè¿˜æœ‰å°±æ˜¯ä¸ºä»€ä¹ˆæ²¡æœ‰æ•°æ®åº“çš„å®‰è£…ï¼ŸåºŸè¯ï¼Œéƒ½æœ‰Dockeräº†ï¼Œè°è¿˜å®‰è£…æ•°æ®åº“å‘€ï¼ï¼ï¼" class="headerlink" title="è‡³æ­¤ubuntuçš„åŸºæœ¬çš„è½¯ä»¶å¼€å‘ç¯å¢ƒåŸºæœ¬æ­å»ºå®Œæˆï¼Œæœ¬æ–‡åªåšå¿«é€Ÿæ­å»ºç¯å¢ƒçš„æµç¨‹ï¼Œå…·ä½“é—®é¢˜ç½‘ä¸Šéƒ½æœ‰è§£å†³æ–¹æ¡ˆï¼Œè¿˜æœ‰å°±æ˜¯ä¸ºä»€ä¹ˆæ²¡æœ‰æ•°æ®åº“çš„å®‰è£…ï¼ŸåºŸè¯ï¼Œéƒ½æœ‰Dockeräº†ï¼Œè°è¿˜å®‰è£…æ•°æ®åº“å‘€ï¼ï¼ï¼"></a>è‡³æ­¤ubuntuçš„åŸºæœ¬çš„è½¯ä»¶å¼€å‘ç¯å¢ƒåŸºæœ¬æ­å»ºå®Œæˆï¼Œæœ¬æ–‡åªåšå¿«é€Ÿæ­å»ºç¯å¢ƒçš„æµç¨‹ï¼Œå…·ä½“é—®é¢˜ç½‘ä¸Šéƒ½æœ‰è§£å†³æ–¹æ¡ˆï¼Œè¿˜æœ‰å°±æ˜¯ä¸ºä»€ä¹ˆæ²¡æœ‰æ•°æ®åº“çš„å®‰è£…ï¼ŸåºŸè¯ï¼Œéƒ½æœ‰Dockeräº†ï¼Œè°è¿˜å®‰è£…æ•°æ®åº“å‘€ï¼ï¼ï¼</h5>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¬”è®° </tag>
            
            <tag> æ•™ç¨‹ </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ—…è¡Œçš„æ„ä¹‰</title>
      <link href="/hypo-Z.github.io/2021/11/22/7-lu-xing-de-yi-yi/"/>
      <url>/hypo-Z.github.io/2021/11/22/7-lu-xing-de-yi-yi/</url>
      
        <content type="html"><![CDATA[<h1 id="æ—…è¡Œçš„æ„ä¹‰"><a href="#æ—…è¡Œçš„æ„ä¹‰" class="headerlink" title="æ—…è¡Œçš„æ„ä¹‰"></a>æ—…è¡Œçš„æ„ä¹‰</h1><ul><li>ä»Šå¤©çœ‹åˆ°ä¸€å¥è¯:â€å¹´è½»æ—¶,æˆ‘è®¤ä¸ºæ—…è¡Œæ˜¯äººç”Ÿé‡è¦çš„äº‹æƒ…,ä½†æ˜¯</li></ul><p>ç°åœ¨,æˆ‘æ„è¯†åˆ°æ—…è¡Œä¸æ˜¯å¦‚æ­¤ã€‚å®ƒæ²¡æœ‰é‚£ä¹ˆè®©äººå…´å¥‹,ä¹Ÿç®—ä¸ä¸Šæˆå°±,</p><p>è·Ÿå…¶å®ƒçš„æ¶ˆè´¹è¡Œä¸ºæ²¡æœ‰å¤ªå¤§åŒºåˆ«ã€‚æ—…è¡Œä¸­,æˆ‘ä»¬çœŸæ­£æ„Ÿå…´è¶£çš„ä¸œè¥¿éƒ½æ˜¯</p><p>é‚£äº›ç•™åœ¨åŸåœ°,åŠªåŠ›å»ºè®¾çš„äººä»¬å»ºé€ å‡ºæ¥çš„ã€‚</p><p>ç°åœ¨æƒ³æƒ³å»å¹´æˆ‘åšäº†ä¸€å¹´çš„æŠ€æœ¯æ”¯æŒ,ä¹Ÿå»è¿‡äº†ç¥–å›½è®¸å¤šçš„åœ°æ–¹,å¯¹äºæˆ‘æ¥è¯´,ç¬¬ä¸€ä»½</p><p>å·¥ä½œå®ƒè™½ç„¶è°ˆä¸ä¸Šå¥½,ä½†å¯¹äºæˆ‘è‡ªå·±çš„æˆé•¿å’Œè§†ç•Œä¸Šçš„æå‡æ˜¯å·¨å¤§çš„,ä»</p><p>å°æˆ‘å°±å¸Œæœ›åˆ°å¤–ç•Œçš„ä¸–ç•Œå»çœ‹çœ‹.å¤§å±±çš„å­©å­çš„å¿ƒæ€æ€»æ˜¯å•çº¯çš„ã€‚ä¸€å¹´çš„æ—¶é—´,</p><p>ä¸€è¾¹å·¥ä½œçš„åŒæ—¶ä¹Ÿæ¬£èµäº†å„åœ°çš„é£æ™¯,ä½†æ˜¯æˆ‘é—æ†¾æ˜¯ç»™æˆ‘å»æ¢å¯»ç•™åœ¨åŸåœ°</p><p>çš„äººä»¬å»ºé€ å‡ºæ¥çš„ç¾æ™¯ã€ç¾é£Ÿå’Œç¾ä¸½çš„å¿ƒçµçš„æ—¶é—´å¤ªçŸ­ã€‚æ¯ç»è¿‡ä¸€ä¸ª</p><p>åœ°æ–¹éƒ½æ˜¯åŒ†åŒ†è€Œè¿‡,è™½ç„¶æ—¶é—´çŸ­æš‚,ä½†ç•™åœ¨æˆ‘å¿ƒä¸­çš„ç§å­å·²ç»ç§å­,æˆ‘ç›¸ä¿¡è¿™é¢—ç§å­ä¸ä¼šæ­»å»,</p><p>éšç€æ—¶é—´çš„æˆç†Ÿå’Œæˆ‘ä¸ªäººçš„æˆé•¿,ä¸€å®šä¼šå†æ¬¡ç»½æ”¾é‚£ä¸ªçŸ­æš‚å›å¿†ç¾ä¸½çš„</p><p>èŠ±æœµ,å› ä¸ºäººæ˜¯ä¸€ç›´æˆé•¿çš„,ä½†æ˜¯é‚£äº›åœ°æ–¹å’Œé‚£äº›äººä¸€å®š</p><p>ä¼šç•™ä½åŸåœ°ç»§ç»­å»ºé€ ï¼Œç­‰å¾…æ¯ä¸ªåŒ†åŒ†è¿‡å¾€çš„æ—…å®¢ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
            <tag> æ–‡ç«  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœ€é‡è¦çš„äº‹,å°±æ˜¯åšä½ è®¤ä¸ºæ­£ç¡®çš„äº‹</title>
      <link href="/hypo-Z.github.io/2021/11/21/6-zui-chong-yao-de-shi-jiu-shi-zuo-ni-ren-wei-zheng-que-de-shi/"/>
      <url>/hypo-Z.github.io/2021/11/21/6-zui-chong-yao-de-shi-jiu-shi-zuo-ni-ren-wei-zheng-que-de-shi/</url>
      
        <content type="html"><![CDATA[<h1 id="æœ€é‡è¦çš„äº‹-å°±æ˜¯åšä½ è®¤ä¸ºæ­£ç¡®çš„äº‹"><a href="#æœ€é‡è¦çš„äº‹-å°±æ˜¯åšä½ è®¤ä¸ºæ­£ç¡®çš„äº‹" class="headerlink" title="æœ€é‡è¦çš„äº‹,å°±æ˜¯åšä½ è®¤ä¸ºæ­£ç¡®çš„äº‹"></a>æœ€é‡è¦çš„äº‹,å°±æ˜¯åšä½ è®¤ä¸ºæ­£ç¡®çš„äº‹</h1><ul><li>åœ¨å°æ—¶å€™æ¯äº²éƒ½å¤–å‡ºåŠ¡å·¥äº†,ç”±çˆ·çˆ·å¥¶å¥¶æ‰¶å…»åˆ°åˆä¸­,ä»–ä»¬å°±<br>ç¦»ä¸–äº†,ä¹‹åå°±æ˜¯æˆ‘å’Œå§å§åœ¨å®¶,æˆ‘çˆ¸ä¸ºäº†èƒ½ç…§æ˜ åˆ°æˆ‘ä»¬éƒ½åœ¨ç¦»<br>å®¶è¾ƒè¿‘çš„åœ°æ–¹æ‰“å·¥,å¦ˆå¦ˆå¸¸å¹´åœ¨å¤–åŠ¡å·¥,ä»å°åˆ°å¤§çˆ¶æ¯ç”±äºæ–‡åŒ–<br>ç¨‹åº¦éƒ½ä¸é«˜,åœ¨èƒ½ç»™äºˆæˆ‘æ”¯æŒçš„å°±æ˜¯å°½åŠ›ä¾›æˆ‘çš„æ•™è‚²,æ¯æ¬¡ä»–ä»¬èƒ½ä¸<br>æˆ‘æ²Ÿé€šçš„å°±æ˜¯å¸Œæœ›æˆ‘å¥½å¥½è¯»ä¹¦,ä»¥åèƒ½æ‰¾åˆ°ä¸€ä»½å¥½çš„å·¥ä½œ,è€Œç°åœ¨,<br>å¤§å­¦è¯»å®Œäº†,ä¹Ÿæœ‰äº†å·¥ä½œ.æˆ‘ä¸çŸ¥é“æ˜¯ä¸æ˜¯å°±è¾¾åˆ°äº†çˆ¶æ¯çš„æœŸæœ›ã€‚ä»¥å‰çš„<br>æˆ‘å¾ˆè¿·èŒ«,ä¹Ÿå¹¸å¥½æˆ‘è€å®¶æ˜¯ä¸ªå°åœ°æ–¹,æ²¡æœ‰å¤ªå¤šé€‰æ‹©,åœ¨å°å­¦ã€åˆä¸­ã€é«˜ä¸­,<br>æˆ‘å°½æˆ‘çš„å¯èƒ½éƒ½è¿›äº†èƒ½å°½é‡å¥½çš„ç­çº§å­¦ä¹ ,ä¸å‡ºæ„å¤–çš„,æˆ‘è€ƒä¸Šäº†å¤§å­¦,<br>è€Œä¸”æ˜¯ä¸ªä¸€æœ¬,(æˆ‘ä»¥ä¸ºçš„)åœ¨é€‰è€ƒä¸šçš„æ—¶å€™,ä¾æ—§è¿·èŒ«,ä¸çŸ¥é“é€‰ä»€ä¹ˆä¸“ä¸š,<br>ä½†æ˜¯,ä¸çŸ¥é“ä¸ºä»€ä¹ˆ,æˆ‘çš„å¿ƒä¸­å°±è®¤ä¸ºä»¥åçš„ä¸–ç•Œä¸€å®šæ˜¯äº’è”ç½‘çš„ä¸–ç•Œ,æˆ–è®¸<br>æ˜¯æœ‰é¢„æ„Ÿ,æˆ–è®¸è‡ªå·±çˆ±æ‰“æ¸¸æˆ,å¯¹äºæˆ‘å½“æ—¶çš„å¤©çœŸå’Œæƒ³æ³•å…¶å®<br>åˆ°ç°åœ¨æˆ‘ä¹Ÿè§‰å¾—æ˜¯æ­£ç¡®çš„,å› ä¸ºæˆ‘æƒ³æœ‰å­¦ä¹ è½¯ä»¶å¼€å‘æˆ–è®¸æˆ‘çœŸçš„å¯ä»¥æå‡ºä¸ª<br>åå ‚æ¥ã€‚åœ¨å½“æ—¶,æˆ‘åœ¨é€‰å­¦æ ¡æ—¶,æˆ‘è®°å¾—æˆ‘çš„å¤§å­¦çš„ç¬¬ä¸€å¿—æ„¿éƒ½é€‰äº†â€è½¯ä»¶å·¥ç¨‹â€,<br>ä¹‹åæ˜¯è®¡ç®—æœºâ€ç¬åæ­£å°±æ˜¯å’Œè½¯ä»¶ç›¸å…³çš„æˆ‘éƒ½å†™ä¸Šäº†,ä½†æ˜¯ç”±<br>äºè´µå·æœ‰è´«å›°ç”Ÿè¡¥åŠ©,èƒ½å†™ä¸‰ä¸ªæå‰æ‰¹çš„å¤§å­¦åé¢è¿™ä¸ªåé¢æ˜¯é‚£<br>å¤–çœå¤§å­¦ä¸ºäº†ä¸€äº›ç‰¹è®¾å­¦ç§‘è€Œç»™å‡ºçš„åé¢ã€‚ä½†æ˜¯è¿™äº›å¤§å­¦çš„å­¦ç§‘éƒ½ä¸æ˜¯<br>æˆ‘æƒ³å»çš„,æˆ‘å°±æŠ±ç€ä¸æƒ³å»çš„å¿ƒæ€,éšä¾¿é€‰äº†ä¸‰ä¸ªæˆ‘è‡ªè®¤ä¸ºå¾—ä¸åˆ°çš„å¤§å­¦,å¹¶<br>é€‰æ‹©äº†ä¸è½¯ä»¶å·¥ç¨‹æŒ¨äº†ä¸€ç‚¹è¾¹çš„ã€Šç”µå­ä¿¡æ¯ç§‘å­¦ä¸æŠ€æœ¯ã€‹,è€Œæˆ‘ä¹Ÿå› ä¸ºè¿™ä¸ªé˜´å·®<br>é˜³é”™çš„æ¥åˆ°äº†æˆ‘çš„æ¯æ ¡â€å¤©æ´¥å·¥ä¸šå¤§å­¦â€,æˆ‘å¾ˆæ„å¤–,ä¹Ÿ<br>æœ‰ä¸€ç‚¹é—æ†¾,æ²¡æœ‰èƒ½å»æˆ‘å¿ƒå¿ƒå¿µå¿µçš„å¤§å­¦å­¦ç§‘ã€‚</li><li>è¯»äº†ä¹å¹´çš„ä¹‰åŠ¡æ•™è‚²ã€ä»æ¥æ²¡æœ‰äººå‘Šè¯‰æˆ‘è¯¥åšä»€ä¹ˆ<br>çˆ¶æ¯å‘Šè¯‰æˆ‘å¥½å¥½è¯»ä¹¦,æˆ‘å°±å¥½å¥½çš„è€ƒä¸Šäº†å¤§å­¦,<br>ä½†æ˜¯å¤§å­¦çš„å­¦ç§‘å¹¶ä¸æ˜¯æˆ‘æƒ³å­¦ä¹ çš„å­¦ç§‘ã€ä¹Ÿæ²¡æœ‰äººè¯¥å‘Šè¯‰æˆ‘åº”è¯¥åšä»€ä¹ˆäº†,<br>åˆä¸€æ¬¡ä¸å‡ºæ„å¤–çš„,æˆ‘è¿·èŒ«äº†,åœ¨å¤§å­¦é‡Œå……æ»¡äº†è¯±æƒ‘æ¸¸æˆã€é‡‘é’±ã€å¨±ä¹ã€‚<br>é‚£æ—¶çš„æˆ‘å°±åƒä¸ªå­©å­,è„±ç¦»äº†çˆ¶æ¯çš„ç›‘ç®¡,åœ¨å¤§å­¦è‚†æ„çš„æ”¾çºµã€‚å¯ä»¥<br>æƒ³è±¡ä¹‹åçš„å­¦ä¹ å°±åƒè¿˜ç‹‚å¥”çš„é‡é©¬,è¸è¿›æ³¥å¡˜â€”â€”ä¸€è¸èƒ¡å›¾,åœ¨å¤§<br>ä¸‰çš„å­¦ç§‘æœ‰ä¸ƒç§‘å­¦ç§‘ï¼Œæˆ‘å°±æŒ‚äº†å…­ç§‘,è°ˆäº†å››å¹´çš„å¥³å‹ä¹Ÿåˆ†äº†,å½“æ—¶çš„è‡ªå·±<br>å°±èƒ½ç”¨ä¸€ä¸ªå­—å½¢å®¹:â€é¢“åºŸ!åŠ ä¹‹æˆ‘è·Ÿäººå€Ÿé’±,æ¬ äº†ä¸€å±è‚¡å€ºã€‚å¯ä»¥è¿™ä¹ˆè¯´:<br>è¿™æ˜¯æˆ‘æ´»åˆ°ç°åœ¨äººç”Ÿçš„æœ€ä½è°·ã€‚é‚£ä¸ªæ—¶å€™çœŸçš„å¯ä»¥ä½“éªŒã€‚ æ™šä¸Šåœ¨åºŠä¸Šç¡<br>ä¸ç€è§åˆ°ç¬¬äºŒå¤©çš„å¤ªé˜³ã€‚ç»å†é‚£æ®µæ—¶é—´,æˆ‘ä¹Ÿæ²¡æœ‰äº†å…¶å®ƒçš„é¡¾è™‘,å°†å­¦ç§‘<br>è¡¥è€ƒ,æœ€åé ç€å‡ ä¸ªéš¾å…„éš¾å¼Ÿçš„åŒå­¦æŠ—è¿‡äº†å¤§å­¦ç»“æŸã€‚è€Œç°åœ¨æˆ‘å›åˆ°äº†æˆ‘å½“æ—¶<br>æƒ³æŠ¥è€ƒçš„å­¦ç§‘ã€‚åœ¨äº’è”ç½‘åšä¸ªè½¯ä»¶å¼€å‘,æˆ‘å¾ˆå¼€å¿ƒ,å› ä¸ºæˆ‘åœ¨åšç€æˆ‘å–œæ¬¢çš„<br>äº‹æƒ…è€Œæˆ‘ç°åœ¨çš„å·¥ä½œéƒ½é æˆ‘è‡ªå·±å­¦ä¹ è€Œå¾—åˆ°çš„,ç°åœ¨,æˆ‘èƒ½ç†è§£ä»€ä¹ˆæ˜¯æ­£ç¡®çš„äº‹æƒ…ã€‚</li><li>ç½—ç¿”è€å¸ˆåœ¨æ¡£èŠ‚ç›®é‡Œæ›¾è¯´:â€ä½ æœ€é‡è¦æ˜¯åšä½ è§‰å¾—æ­£ç¡®çš„äº‹æƒ…,<br>æœ€é‡è¦çš„æ˜¯ä½ å¬ä¸åˆ°å†…å¿ƒçš„æŠ±æ€¨,æœ€é‡è¦çš„æ˜¯å¤šå¹´ä»¥åçš„ä½ èƒ½å¤Ÿçœ‹å¾—<br>èµ·ç°åœ¨çš„ä½ ,è¿‡å¥½æ¯ä¸€å¤©,æ¼”å¥½å½“ä¸‹çš„å‰§æœ¬,æœç€å¿ƒä¸­çš„é‚£ä¸ªæ ‡æ†å»å‰è¿›,<br>äººè¦åšåˆ°!ä¸æ¸…é«˜,ä¸å¨‡æƒ…,ä¸æŠ±æ€¨,å°±æ˜¯åœ¨é»‘å¤œä¸­çœ‹åˆ°äº†å¾®å…‰,<br>ä½ å°±æœç€å¾®å…‰çš„æ–¹å‘èµ°è¿‡å»,è™½ç„¶æœ‰çš„æ—¶å€™ä½ å»æ€€ç–‘ä½ ä¼šè§‰å¾—<br>æ˜¯ä¸æ˜¯èµ°é”™äº†,ä½†æ˜¯æ‰€æœ‰çš„æ€€ç–‘éƒ½ä¸ºäº†ç¡®ä¿¡:é‚£å°±æ˜¯å¦‚ä½•è¿‡çœ‹èµ·æ¥å¥½çš„ä¸€ç”Ÿ<br>,é‚£ä½ å°±è¦å»å®šä¹‰äº†,ä»€ä¹ˆå«åšå¥½,è¿™ä¸ªä¸–ç•Œæœ‰å¤ªå¤šå…³äºå¥½çš„æ ‡å‡†äº†ã€‚<br>goodï¼ˆå¥½ï¼‰,å¦‚æœåŠ ä¸ªs,å°±å˜æˆäº† goods (å•†å“),æ‰€ä»¥ä¸€åˆ‡äº‹æƒ…<br>æœ€é‡è¦çš„å°±æ˜¯èµšé’±å—!éš¾é“èƒ½èµšé’±çš„èŒä¸šå°±æ˜¯å¥½èŒä¸šå—?é‚£è¿™æ ·åš<br>ä¸€åˆ‡èŒä¸šåˆ†å·¥å°±æ²¡æœ‰æ„ä¹‰äº†ã€‚ä½ è¦å»å¯»æ‰¾ä»€ä¹ˆå«good,ç„¶åä½ æ‰èƒ½å»è¿‡ good<br>çš„ä¸€ç”Ÿ,ä½ æ‰å¯ä»¥é¿å…å»éšæ³¢é€æµ,ä½ æ‰å†…å¿ƒä¼šæœ‰ä¸€ç§ç¬ƒå®š,ä½ æ‰ä¼šæ‹’ç»è·Ÿåˆ«äºº<br>å»æ”€æ¯”,ä¹Ÿæ‹’ç»è¢«åˆ«äººæ”€æ¯”ã€‚å¯¹äºä¸å¯æ§çš„äº‹æƒ…,æˆ‘ä»¬ä¿æŒ<br>ä¹è§‚,å¯¹äºå¯æ§çš„äº‹æƒ…,æˆ‘ä»¬ä¿æŒè°¨æ…ã€‚äºæ˜¯ä½ å°±ä»”ç»†å»å›æƒ³,ä½ è¿™ä¸€ç”Ÿ<br>ä¸­æ‰€é‡åˆ°çš„å¾ˆå¤šç»å†,å¾ˆå¤šé‡è¦çš„æ—¶åˆ»,ä½ æ‰æç„¶å¤§æ‚Ÿ,åŸæ¥ä½ å°±æ˜¯ä¸ªå¾ˆ<br>æ¸ºå°çš„äººâ€ã€‚</li><li>è™½ç„¶ç°åœ¨æˆ‘çš„äººç”Ÿæ‰èµ°äº†å››åˆ†ä¹‹ä¸€çš„é˜¶æ®µ,ä½†æ˜¯æˆ‘è¿˜è¦é¢å¯¹æˆ‘äººç”Ÿçš„ä»¥åçš„<br>å„ä¸ªé‡å¤§æ—¶åˆ»ã€‚æ‰€ä»¥,æˆ‘å¸Œæœ›ä»¥åçš„æˆ‘èƒ½å¤Ÿå¦ç„¶çš„é¢å¯¹,ä¹Ÿå¸Œæœ›ä»¥åçš„<br>è‡ªå·±,èƒ½å¤Ÿçœ‹å¾—èµ·ç°åœ¨çš„è‡ªå·±</li></ul><p>â€”â€”è‡´è‡ªå·±<br>2021.11.20</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
            <tag> æ–‡ç«  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»¥åçš„ä¸–ç•Œå°†æ˜¯æ¸¸æˆçš„ä¸–ç•Œ</title>
      <link href="/hypo-Z.github.io/2021/11/20/5-yi-hou-de-shi-jie-jiang-shi-you-xi-de-shi-jie/"/>
      <url>/hypo-Z.github.io/2021/11/20/5-yi-hou-de-shi-jie-jiang-shi-you-xi-de-shi-jie/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»¥åçš„ä¸–ç•Œå°†æ˜¯æ¸¸æˆçš„ä¸–ç•Œ"><a href="#ä»¥åçš„ä¸–ç•Œå°†æ˜¯æ¸¸æˆçš„ä¸–ç•Œ" class="headerlink" title="ä»¥åçš„ä¸–ç•Œå°†æ˜¯æ¸¸æˆçš„ä¸–ç•Œ"></a>ä»¥åçš„ä¸–ç•Œå°†æ˜¯æ¸¸æˆçš„ä¸–ç•Œ</h1><p>ä¸Šå‘¨åŒæ—¶è§‚çœ‹äº†ä¸¤éƒ¨ç”µå½±,åˆ†åˆ«æ˜¯ã€Šå¤´å·æµå®¶ã€‹ä¸ã€Šå¤±æ§ç©å®¶ã€‹ä¸¤éƒ¨</p><p>ç”µå½±éƒ½æ˜¯è®²è¿°è¿‘æœªæ¥çš„æ¸¸æˆä¸–ç•Œ,ã€Šå¤´å·ç©å®¶ã€‹ä»¥ç©å®¶è§†è§’ä¸ºåˆ‡å…¥ç‚¹,</p><p>è®²è¿°ç©å®¶ä»¥VRçœ¼é•œå’Œä½“æ„Ÿæœè£…ä¸ºåª’ä»‹,è¿›å…¥ä¸€ä¸ªè™šæ‹Ÿä¸–ç•Œä¸ä¼—å¤šç©å®¶</p><p>ä¸€èµ·æ¸¸ç©,è¿™ä¸ªä¸–ç•Œä¸ç°å®ä¸–ç•Œå°±å¦‚åŒä¸€ä¸ªå¹³è¡Œ</p><p>å®‡å®™,ç©å®¶å¯ä»¥åœ¨è¿™ä¸ªå®‡å®™é‡Œé¢åšä»»ä½•å®ƒæƒ³åšçš„äº‹æƒ…ã€‚è€Œ</p><p>ã€Šå¤±æ§ç©å®¶ã€‹åˆ™ä»¥æ¸¸æˆNPCä¸ºè§†è§’,å‘è§‚ä¼—ä»‹ç»äº†äººå·¥æ™ºèƒ½ä¸</p><p>æ¸¸æˆä¸–ç•Œä¸åŒçš„å¯èƒ½æ€§ã€‚åˆæ—¶é€¢å‰æ®µæ—¶é—´,å…ƒå®‡å®™çš„æ¦‚ç‡</p><p>å¤§ç«,å°±å‘äººä»¬æŠ›å‡ºäº†å¯åœ¨äººå·¥æ™ºèƒ½,å¤§æ•°æ®,å»æœåŠ¡é€æ¸</p><p>ç››è¡Œçš„æ—¶ä»£,åœ¨ä¸ä¹…çš„æœªæ¥,å°±ä¼šå‡ºç°è¿™ç§äº§å“ã€‚ä½†æ˜¯,ä¸€æ–¹é¢</p><p>ä¸Šå±‚çš„æœåŠ¡éœ€è¦æœ‰åº•å±‚ç¡¬ä»¶çš„æ”¯æŒã€‚å°±ç°é˜¶æ®µè€Œè¨€,VRçœ¼é•œ</p><p>ä¸ä½“æ„Ÿå¥—ä»¶éƒ½å¾ˆåˆçº§,æœåŠ¡å™¨ä¹Ÿéš¾ä»¥æ”¯æŒè¿™ç§å¤§å‹çš„æ¸¸æˆæœåŠ¡ã€‚æ‰€ä»¥åœ¨æˆ‘çœ‹æ¥æˆ‘å¯¹</p><p>ä»¥åçš„æ¸¸æˆå¸‚åœºä¿æŒä¹è§‚å¿ƒæ€,å¯èƒ½åœ¨æœªæ¥5å¹´çš„æ—¶é—´,æˆ‘ä»¬å°†çœ‹åˆ°æ¸¸æˆ</p><p>å¸‚åœºçš„æ¾æ¸¤å‘å±•ã€‚æˆ‘ä¼šä¸æ–­è§‚å¯Ÿå’ŒéªŒè¯æˆ‘çš„è§‚ç‚¹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
            <tag> æ–‡ç«  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯¹æ–°äººçš„ä¸€äº›å»ºè®®</title>
      <link href="/hypo-Z.github.io/2021/11/19/4-dui-xin-ren-de-yi-xie-jian-yi/"/>
      <url>/hypo-Z.github.io/2021/11/19/4-dui-xin-ren-de-yi-xie-jian-yi/</url>
      
        <content type="html"><![CDATA[<h1 id="è½¯ä»¶å¼€å‘äººå‘˜ä¿ƒé”€ï¼šè·å¾—æ›´é«˜æ°´å¹³çš„å»ºè®®"><a href="#è½¯ä»¶å¼€å‘äººå‘˜ä¿ƒé”€ï¼šè·å¾—æ›´é«˜æ°´å¹³çš„å»ºè®®" class="headerlink" title="è½¯ä»¶å¼€å‘äººå‘˜ä¿ƒé”€ï¼šè·å¾—æ›´é«˜æ°´å¹³çš„å»ºè®®"></a>è½¯ä»¶å¼€å‘äººå‘˜ä¿ƒé”€ï¼šè·å¾—æ›´é«˜æ°´å¹³çš„å»ºè®®</h1><p>æˆ‘æœ€è¿‘çš„ä¿ƒé”€æ´»åŠ¨è¿›å±•é¡ºåˆ©ã€‚å½“<a href="https://blog.pragmaticengineer.com/things-ive-learned-transitioning-from-engineer-to-engineering-manager/">æˆ‘ä»å·¥ç¨‹å¸ˆè¿‡æ¸¡åˆ°ç®¡ç†äººå‘˜æ—¶</a>ï¼Œæˆ‘æœ‰å…«ä¸ªäººå‘æˆ‘æŠ¥å‘Šã€‚ä¸¤å¹´åï¼Œä»–ä»¬éƒ½è¢«æå‡åˆ°äº†ä¸€ä¸ªæ–°çš„æ°´å¹³ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„å¼€å‘äººå‘˜ï¼Œä»–ä»¬åæ¥åŠ å…¥äº†æˆ‘çš„å›¢é˜Ÿã€‚ä»é‚£ä»¥åï¼Œæˆ‘å¸®åŠ©å›¢é˜Ÿä»¥å¤–çš„äººæ•´ç†äº†æˆåŠŸçš„æ™‹å‡æ¡ˆä¾‹ï¼Œå¹¶æˆä¸ºäº†å‡ ä¸ªå·¥ç¨‹å¸ˆæ™‹å‡å§”å‘˜ä¼šçš„æˆå‘˜ã€‚æœ€è¿‘ï¼Œæˆ‘ä¹Ÿè¢«æå‡åˆ°äº†æ›´é«˜ä¸€çº§çš„å·¥ç¨‹ç®¡ç†ã€‚</p><p>å‡èŒè¿Ÿæ—©ä¼šæˆä¸ºå·¥ç¨‹å¸ˆçš„æ•æ„Ÿè¯é¢˜ã€‚åŠ å…¥ä¸€å®¶å…¬å¸æ—¶ï¼Œå¾ˆå°‘æœ‰å¼€å‘äººå‘˜ä¼šè€ƒè™‘åˆ°è¿™ä¸€ç‚¹â€”â€”è¿™æ˜¯ç†æ‰€å½“ç„¶çš„ï¼Œå› ä¸ºäººä»¬éƒ½ä¸“æ³¨äºè·Ÿä¸Šè¿›åº¦ã€‚ä½†éšç€æ—¶é—´çš„æ¨ç§»ï¼Œéšç€è¶Šæ¥è¶Šå¤šçš„äººåœ¨ä»–ä»¬èº«è¾¹å¾—åˆ°æ™‹å‡ï¼Œæ™‹å‡æˆä¸ºè®¸å¤šäººçš„é¦–è¦è€ƒè™‘ã€‚ä½œä¸ºç»ç†ï¼Œè¿™è‡ªç„¶æˆä¸ºæˆ‘ç»å¸¸æ€è€ƒçš„è¯é¢˜ã€‚</p><p><strong>æœ¬æ–‡æ”¶é›†äº†æˆ‘å‘å›¢é˜Ÿä¸­çš„å·¥ç¨‹å¸ˆæä¾›çš„æ™‹å‡å»ºè®®</strong>- å…¶ä¸­è®¸å¤šäººåæ¥è¢«æå‡åˆ°æ›´é«˜çº§åˆ«ã€‚</p><ul><li><a href="https://blog.pragmaticengineer.com/software-engineering-promotions/#do-your-preparation">åšå¥½å‡†å¤‡</a></li><li><a href="https://blog.pragmaticengineer.com/software-engineering-promotions/#set-your-sight-on-the-promotion">å°†ç›®å…‰æŠ•å‘ä¿ƒé”€</a></li><li><a href="https://blog.pragmaticengineer.com/software-engineering-promotions/#get-help-frequent-feedback">è·å¾—å¸®åŠ©å’Œé¢‘ç¹çš„åé¦ˆ</a></li><li><a href="https://blog.pragmaticengineer.com/software-engineering-promotions/#put-in-the-work">æŠ•å…¥å·¥ä½œ</a></li><li><a href="https://blog.pragmaticengineer.com/software-engineering-promotions/#stay-grounded">è„šè¸å®åœ°</a></li><li>å¸®åŠ©åˆ«äºº</li></ul><h2 id="åšå¥½å‡†å¤‡"><a href="#åšå¥½å‡†å¤‡" class="headerlink" title="åšå¥½å‡†å¤‡"></a>åšå¥½å‡†å¤‡</h2><p>ä¸€æ—¦ä½ å†³å®šä½ å¯¹å‡èŒæœ‰å…´è¶£ï¼Œå°±ä»æ”¶é›†åŸºæœ¬ä¿¡æ¯å¼€å§‹ï¼Œå¹¶è¯„ä¼°å‡èŒå¯¹ä½ çš„ç°å®ç¨‹åº¦ã€‚</p><h4 id="äº†è§£è´µå…¬å¸çš„æ™‹å‡æµç¨‹ã€‚"><a href="#äº†è§£è´µå…¬å¸çš„æ™‹å‡æµç¨‹ã€‚" class="headerlink" title="äº†è§£è´µå…¬å¸çš„æ™‹å‡æµç¨‹ã€‚"></a>äº†è§£è´µå…¬å¸çš„æ™‹å‡æµç¨‹ã€‚</h4><p>æ¯å®¶å…¬å¸éƒ½æœ‰ä¸åŒçš„æ™‹å‡æµç¨‹ã€‚è™½ç„¶ç±»ä¼¼çš„å…¬å¸å¯èƒ½æœ‰ç±»ä¼¼çš„æµç¨‹ï¼Œä½†ä¸è¦æƒ³å½“ç„¶ã€‚å¦‚æœæœ‰å…³äºè¯¥è¿‡ç¨‹çš„ä¿¡æ¯ï¼Œé‚£å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¼€å§‹ã€‚æœ€å¥½çš„èµ·ç‚¹æ˜¯è¯¢é—®æ‚¨çš„ç»ç†ã€‚éšç€å…¬å¸çš„æˆé•¿å’Œæˆç†Ÿï¼Œä¿ƒé”€æµç¨‹å‘ç”Ÿäº†å˜åŒ–ã€‚æˆ‘è§‚å¯Ÿåˆ°çš„æœ€å¸¸è§çš„ä¿ƒé”€è¿‡ç¨‹ç±»å‹æ˜¯ä»¥ä¸‹ä¸‰ç§ï¼š</p><ul><li><strong>éæ­£å¼å‡èŒï¼šç»ç†å†³å®šè°å‡èŒ</strong>ã€‚å‡ ä½ç»ç†è¿›å…¥ä¸€ä¸ªæˆ¿é—´ï¼Œç„¶åæ‹¿å‡ºä¸€ä»½æ™‹å‡äººå‘˜åå•ï¼Œè¿™æ˜¯å°å‹åˆåˆ›å…¬å¸å’Œå…¬å¸çš„å…¸å‹æµç¨‹ã€‚åœ¨ä¼šè®®ä¸Šï¼Œç®¡ç†äººå‘˜ä»‹ç»ä»–ä»¬å›¢é˜Ÿä¸­çš„äººå‘˜ï¼Œç„¶åç”±å›¢é˜Ÿå†³å®šä»–ä»¬æ˜¯å¦å‡†å¤‡å¥½æ™‹å‡ã€‚</li><li><strong>åŠæ­£å¼çš„æ™‹å‡è¿‡ç¨‹ï¼Œæœ‰ä¸€ä¸ªä»¥ç»ç†ä¸ºä¸»çš„æ™‹å‡å§”å‘˜ä¼š</strong>ã€‚éšç€å…¬å¸çš„å‘å±•ï¼Œå°†æ‰€æœ‰ç»ç†èšé›†åœ¨ä¸€èµ·å˜å¾—å›°éš¾ä¸”è€—æ—¶ã€‚æ­¤å¤–ï¼Œå…ˆå‰è¿‡ç¨‹çš„åè§å¼€å§‹å˜å¾—æ›´åŠ æ˜æ˜¾ã€‚é¢†å¯¼å±‚å°†è‡´åŠ›äºåˆ¶å®šä¸€ä¸ªæ›´å…·å¯æ‰©å±•æ€§å’Œæ›´å…¬å¹³çš„æµç¨‹ã€‚è¿™é€šå¸¸ä»å†™ä¸‹æ¯ä¸ªå·¥ç¨‹çº§åˆ«çš„åŸºæœ¬æœŸæœ›å¼€å§‹ï¼Œå¹¶è¦æ±‚ç»ç†æäº¤ç®€çŸ­çš„æ–‡æ¡£ï¼Œè¯´æ˜ä»–ä»¬å›¢é˜Ÿä¸­çš„å·¥ç¨‹å¸ˆä¸ºä»€ä¹ˆå‡†å¤‡æ™‹å‡ã€‚</li><li><strong>æ­£å¼çš„æ™‹å‡æµç¨‹ï¼šæ™‹å‡å¥—é¤å’Œå§”å‘˜ä¼š</strong>ã€‚è°·æ­Œã€ä¼˜æ­¥å’Œå‡ å®¶å¤§å‹ç§‘æŠ€å…¬å¸éƒ½åœ¨æ•ˆä»¿è¿™ç§æµç¨‹ã€‚å®ƒéœ€è¦æœ‰æ˜ç¡®å’Œå¹¿æ³›å®šä¹‰çš„å·¥ä½œé˜¶æ¢¯ï¼Œåœ¨æ¯ä¸ªçº§åˆ«éƒ½æœ‰æ˜ç¡®çš„æœŸæœ›ã€‚æˆ‘ä»¬çš„æƒ³æ³•æ˜¯ä½¿ä¿ƒé”€æ´»åŠ¨å°½å¯èƒ½å…¬æ­£ã€‚ä½œä¸ºæ›´å…¬å¹³å’Œé€æ˜çš„è¿‡ç¨‹çš„å›æŠ¥ï¼Œäº§ç”Ÿäº†æ›´å¤šçš„æ–‡ä»¶ã€‚å¹¿æ³›çš„è‡ªæˆ‘å®¡æŸ¥ã€åŒè¡Œå®¡æŸ¥å’Œç»ç†å®¡æŸ¥è¢«å†™å…¥ã€‚ç”±é«˜çº§å·¥ç¨‹å¸ˆå’Œç®¡ç†äººå‘˜ç»„æˆçš„æ™‹å‡å§”å‘˜ä¼šå†³å®šæ™‹å‡æ˜¯å¦é€šè¿‡ã€‚</li></ul><p>æ‰€æœ‰æ–¹æ³•éƒ½æœ‰å…¶ä¼˜ç‚¹å’Œç¼ºç‚¹ã€‚äº†è§£æ‚¨çš„ç»„ç»‡æ­£åœ¨å…³æ³¨ä»€ä¹ˆï¼Œä»¥ä¾¿æ‚¨æ›´å¥½åœ°äº†è§£æ‚¨å’Œæ‚¨çš„ç»ç†å¿…é¡»å¦‚ä½•å‡†å¤‡ã€‚</p><h4 id="è¯„ä¼°è‡ªå·±"><a href="#è¯„ä¼°è‡ªå·±" class="headerlink" title="è¯„ä¼°è‡ªå·±"></a>è¯„ä¼°è‡ªå·±</h4><p>å¤§å¤šæ•°ç§‘æŠ€å…¬å¸éƒ½é‡‡ç”¨ä¸€ç§æ–¹æ³•ï¼Œå°†å·²ç»åœ¨é‚£é‡Œå·¥ä½œçš„äººæå‡åˆ°æ›´é«˜çš„æ°´å¹³ã€‚æ™‹å‡é€šå¸¸æ˜¯å¯¹æ‚¨çš„å½±å“åŠ›å’ŒæŠ€èƒ½å§‹ç»ˆè¶…å‡ºå¯¹æ‚¨çš„æœŸæœ›çš„è®¤å¯ï¼Œå¹¶ä¸”ç¬¦åˆä¸‹ä¸€ä¸ªçº§åˆ«çš„è§„èŒƒã€‚</p><p>é‚£ä¹ˆï¼Œä¸ä¸‹ä¸€ä¸ªçº§åˆ«ç›¸æ¯”ï¼Œæ‚¨çš„è¡¨ç°å¦‚ä½•ï¼Ÿå½“æ‚¨åœ¨ä¸€å®¶å…¬å¸å·¥ä½œæ—¶ï¼Œå›ç­”è¿™ä¸ªé—®é¢˜è¦å®¹æ˜“å¾—å¤šï¼Œåœ¨æ–‡æ¡£ä¸­æ˜ç¡®å®šä¹‰äº†èƒ½åŠ›å’Œçº§åˆ«ï¼Œæ‚¨å¯ä»¥å‚è€ƒã€‚å®šä¹‰æ˜ç¡®çš„èƒ½åŠ›çš„ä¸€äº›å¾ˆå¥½çš„ä¾‹å­åŒ…æ‹¬<a href="https://progression.monzo.com/">Monzo</a>ã€<a href="https://docs.google.com/spreadsheets/d/12h50IYqd7fsO7tJ0l1OuHYbz5vN2d24a8EIDFhu2AZQ/edit#gid=2035430096">Square</a>æˆ–<a href="https://dresscode.renttherunway.com/blog/ladder">Rent The Runway ç­‰</a>ã€‚å¦‚æœæ‚¨çš„å…¬å¸æ‹¥æœ‰æ˜ç¡®å®šä¹‰çš„èƒ½åŠ›ï¼Œè¯·é€šè¯»æ‚¨æ‰€åœ¨çº§åˆ«å’Œä¸‹ä¸€çº§åˆ«çš„æœŸæœ›ã€‚åˆ—å‡ºæ‚¨æ‰€å±•ç¤ºçš„æŠ€èƒ½ã€æ‚¨æ‰€äº§ç”Ÿçš„å½±å“ä»¥åŠå®ƒå¦‚ä½•ä¸è¿™äº›æœŸæœ›ç›¸åŒ¹é…ã€‚</p><p>å¦‚æœæ‚¨çš„å…¬å¸æ²¡æœ‰æ˜ç¡®çš„èƒ½åŠ›å’ŒæœŸæœ›ï¼Œæ‚¨ä»ç„¶éœ€è¦å¼„æ¸…æ¥šæ‚¨åœ¨å½“å‰çš„æœŸæœ›ä¸­è¡¨ç°å¦‚ä½•ã€‚æ‚¨è¿˜æƒ³çŸ¥é“è¾¾åˆ°ä¸‹ä¸€ä¸ªçº§åˆ«çš„é¢„æœŸç›®æ ‡ã€‚<strong>æ ¹æ®ç»éªŒï¼Œè¦è€ƒè™‘æ™‹å‡ï¼Œæ‚¨åº”è¯¥åœ¨ç›®å‰çš„æ°´å¹³ä¸Šåšå¾—å¾ˆå¥½ã€‚</strong>å› æ­¤ï¼Œæ‚¨å¯ä»¥ä»è·å–æœ‰å…³æ‚¨å½“å‰è¡¨ç°çš„åé¦ˆå¼€å§‹ï¼Œä¸æœ€é€‚åˆå‘æ‚¨æä¾›åé¦ˆçš„äººäº¤è°ˆï¼šæ‚¨çš„ç»ç†ã€‚</p><h4 id="è®©ä½ çš„ç»ç†ç«™åœ¨ä½ è¿™è¾¹"><a href="#è®©ä½ çš„ç»ç†ç«™åœ¨ä½ è¿™è¾¹" class="headerlink" title="è®©ä½ çš„ç»ç†ç«™åœ¨ä½ è¿™è¾¹"></a>è®©ä½ çš„ç»ç†ç«™åœ¨ä½ è¿™è¾¹</h4><p>æ— è®ºæ‚¨çš„å…¬å¸éµå¾ªä»€ä¹ˆæµç¨‹ï¼Œå¦‚æœæ‚¨çš„ç»ç†ä¸æ”¯æŒå‡èŒï¼Œé‚£ä¹ˆæ‚¨è·å¾—æ™‹å‡çš„æœºä¼šéå¸¸æ¸ºèŒ«ã€‚æ‰€ä»¥ä¸€å®šè¦è®©ä½ çš„ç»ç†ç«™åœ¨ä½ è¿™è¾¹ã€‚ä½ æ€ä¹ˆåšåˆ°è¿™ä¸€ç‚¹ï¼Ÿè¯¢é—®ä»–ä»¬ä¿ƒé”€æ˜¯å¦‚ä½•è¿ä½œçš„ï¼Œä»–ä»¬çš„ä¿ƒé”€ç†å¿µæ˜¯ä»€ä¹ˆã€‚ä¸å½“å‰å’Œä¸‹ä¸€çº§åˆ«ç›¸æ¯”ï¼Œè¯¢é—®ä»–ä»¬å¦‚ä½•è¯„ä»·æ‚¨å½“å‰çš„è¡¨ç°ã€‚æ ¹æ®æ‚¨çš„ç»ç†çš„ä¸åŒï¼Œæ‚¨å¯èƒ½ä¼šå†³å®šé€æ­¥æå‡ºè¿™ä¸ªé—®é¢˜ï¼Œä½†æ‚¨è¿Ÿæ—©éœ€è¦å°±æ­¤è¿›è¡Œå¦è¯šçš„å¯¹è¯ã€‚</p><p>è¿™ç§è°ˆè¯å¯¹æˆ‘æ¥è¯´æ€»æ˜¯å¾ˆå°´å°¬ï¼Œä½œä¸ºä¸€åå·¥ç¨‹å¸ˆï¼Œæˆ‘åœ¨èŒä¸šç”Ÿæ¶¯ä¸­å¾ˆé•¿ä¸€æ®µæ—¶é—´éƒ½é¿å…è¿™ç§è°ˆè¯ã€‚å›æƒ³èµ·æ¥ï¼Œæˆ‘å¸Œæœ›æˆ‘æ²¡æœ‰ã€‚åŸå› å¾ˆç®€å•ã€‚</p><p>*<strong>å½“*æ‚¨å‡†å¤‡å¥½*æ—¶ï¼Œ*æ™‹å‡ç¬¦åˆæ‚¨ç»ç†çš„æœ€ä½³åˆ©ç›Šã€‚</strong>ç®¡ç†è€…çš„è¯„åˆ¤æ ‡å‡†æ˜¯ä»–ä»¬æ˜¯å¦æœ‰èƒ½åŠ›è®©ä»–ä»¬çš„å›¢é˜Ÿæä¾›æ›´å¥½çš„äº§å‡ºã€‚ä»–ä»¬é€šè¿‡è®©ä»–ä»¬çš„å·¥ç¨‹å¸ˆä½œä¸ºä¸€ä¸ªå›¢é˜Ÿæ›´æœ‰æ•ˆç‡æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ä¸ºäº†è®©å›¢é˜Ÿæ›´æœ‰æ•ˆç‡ï¼Œå›¢é˜Ÿä¸­çš„å·¥ç¨‹å¸ˆéœ€è¦æˆé•¿ä¸ºæ›´é«˜æ•ˆã€æ›´å¯é å’Œæ›´èµ„æ·±ã€‚å¤–éƒ¨å¯è§çš„å¢é•¿æŒ‡æ ‡ä¹‹ä¸€æ˜¯ä¿ƒé”€æ´»åŠ¨ã€‚æ™‹å‡æ„å‘³ç€ç»ç†å¸®åŠ©è¿™ä¸ªäººæˆé•¿â€”â€”è¦ä¹ˆé€šè¿‡æŒ‡å¯¼ã€æŒ‡å¯¼ï¼Œè¦ä¹ˆåªæ˜¯è®©ä»–ä»¬æ‘†è„±å›°å¢ƒã€‚ä¸€ä¸ªå›¢é˜Ÿè¶Šæ¥è¶Šé«˜çº§çš„ç»ç†è¡¨æ˜ä»–ä»¬åœ¨åŸ¹å…»äººæ‰æ–¹é¢åšå¾—å¾ˆå¥½ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬çŸ¥é“æ™‹å‡ä¼šè®©ç»ç†çœ‹èµ·æ¥å¾ˆå¥½ã€‚å°½ç®¡å¦‚æ­¤ï¼Œä»æœ‰å¾ˆå¤šå¼€å‘äººå‘˜è®¤ä¸º<em>â€œæˆ‘çš„ç»ç†æ°¸è¿œä¸ä¼šææ‹”æˆ‘â€ã€‚</em>é—®é—®è‡ªå·±ï¼šè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿä¸€ä½é¢†å¯¼åœæ»ä¸å‰çš„ç»ç†å¼€å§‹å¼•èµ·æ¥è‡ªä¸Šçº§å’Œå›¢é˜Ÿçš„ä¸å¿…è¦çš„å…³æ³¨ã€‚å¦‚æœäººä»¬ä¸æ–­æ”¶åˆ°å¹³å‡æˆ–å·®åŠ²çš„ç»©æ•ˆè¯„ä¼°ï¼Œè€Œä»ä¸å‡†å¤‡å‡èŒï¼Œé‚£å¯¹ç»ç†æ¥è¯´ä¹Ÿä¸å¥½çœ‹ã€‚æ‰€ä»¥åœ¨ä½ é—®è¿‡è‡ªå·±ä¸ºä»€ä¹ˆä½ çš„ç»ç†ä¼¼ä¹ä¸æƒ³ææ‹”ä½ ä¹‹åï¼Œä¹Ÿé—®é—®ä½ çš„ç»ç†ã€‚å‘Šè¯‰æ‚¨æ‚¨å¯ä»¥å’Œåº”è¯¥å‘å±•å“ªäº›é¢†åŸŸç¬¦åˆä»–ä»¬çš„æœ€å¤§åˆ©ç›Šã€‚</p><h4 id="åœ¨é«˜çº§é…’å§ä»¥ä¸Šçš„ä¿ƒé”€æ´»åŠ¨ä¸­è¦åˆ‡åˆå®é™…"><a href="#åœ¨é«˜çº§é…’å§ä»¥ä¸Šçš„ä¿ƒé”€æ´»åŠ¨ä¸­è¦åˆ‡åˆå®é™…" class="headerlink" title="åœ¨é«˜çº§é…’å§ä»¥ä¸Šçš„ä¿ƒé”€æ´»åŠ¨ä¸­è¦åˆ‡åˆå®é™…"></a>åœ¨é«˜çº§é…’å§ä»¥ä¸Šçš„ä¿ƒé”€æ´»åŠ¨ä¸­è¦åˆ‡åˆå®é™…</h4><p>é€šå¸¸ï¼Œæ™‹å‡åˆ°é«˜çº§èŒä½ä¸»è¦æ˜¯åŸºäºè·å¾—æŠ€èƒ½ã€å±•ç¤ºè¿™äº›æŠ€èƒ½å¹¶äº§ç”Ÿå½±å“ã€‚ä½†æ˜¯ï¼Œåœ¨é«˜çº§å·¥ç¨‹å¸ˆçº§åˆ«ä¹‹ä¸Šï¼Œè¿˜æœ‰å…¶ä»–å› ç´ åœ¨èµ·ä½œç”¨ã€‚</p><p>é¦–å…ˆï¼Œå¯èƒ½æœ‰å¤šå°‘äººå¯ä»¥æ™‹å‡åˆ°æ›´é«˜çº§åˆ«çš„é¢„ç®—é™åˆ¶ã€‚æœ‰äº›åœ°æ–¹éœ€è¦ä¸€ä¸ªå•†ä¸šæ¡ˆä¾‹ï¼Œè¯´æ˜ä¸ºä»€ä¹ˆç»™å®šçš„å›¢é˜Ÿæˆ–åŒºåŸŸéœ€è¦é¢†å¯¼ã€å‘˜å·¥æˆ–é¦–å¸­å·¥ç¨‹å¸ˆã€‚å¦‚æœæ²¡æœ‰å•†ä¸šæ¡ˆä¾‹ï¼Œæ‚¨å¯èƒ½æ— æ³•è·å¾—æ™‹å‡ã€‚å³ä½¿æ‚¨å¯èƒ½æœ‰å…¬å¹³çš„æ™‹å‡æœºä¼šï¼Œä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><p>å…¶æ¬¡ï¼Œåœ¨é«˜çº§å·¥ç¨‹å¸ˆçº§åˆ«ä»¥ä¸Šï¼Œæ‚¨å¯èƒ½ä¼šå‘ç°å¾ˆéš¾æ‰¾åˆ°è¶³å¤Ÿå¤§ä¸”å½±å“åŠ›è¶³ä»¥ä¿è¯æ™‹å‡çš„é¡¹ç›®ã€‚ä¾‹å¦‚ï¼Œæ‚¨çš„å›¢é˜Ÿå¯èƒ½æ­£å¿™äºäº¤ä»˜å°çš„ã€å¢é‡çš„åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½æ²¡æœ‰ä»€ä¹ˆå¤æ‚æ€§ï¼Œä½†å…·æœ‰å¯è§‚çš„å•†ä¸šä»·å€¼ã€‚å‡ ä¹å¯ä»¥è‚¯å®šï¼Œä»…ä»…åœ¨è¿™é‡Œå·¥ä½œå‡ºè‰²ï¼Œæ‚¨ä¸ä¼šè¢«æå‡åˆ°é«˜çº§çº§åˆ«ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨éœ€è¦æŒæ§è‡ªå·±çš„èŒä¸šå¹¶å†³å®šå¦‚ä½•å‰è¿›ã€‚ä½ æ˜¯å¦åœ¨ç­‰å¾…æ–°çš„æœºä¼šåˆ°æ¥ï¼Ÿæ‚¨æ˜¯å¦è°ƒåŠ¨å›¢é˜Ÿæ¥é¢†å¯¼å¤æ‚è€Œæœ‰å½±å“åŠ›çš„ç»¿åœ°é¡¹ç›®çš„å·¥ä½œï¼Ÿæ‚¨æ˜¯å¦æå‡ºäº†ä¸€é¡¹å…·æœ‰å·¨å¤§ä¸šåŠ¡å½±å“çš„æ–°è®¡åˆ’ï¼Œè¯´æœåˆ©ç›Šç›¸å…³è€…å¯åŠ¨å¹¶æœ€ç»ˆé¢†å¯¼å®ƒï¼Ÿæ²¡æœ‰ç®€å•çš„ç­”æ¡ˆï¼šä½ å¿…é¡»é‡‡å–ä¸»åŠ¨ï¼Œäº‰å–æ”¯æŒï¼Œ</p><p><img src="https://blog.pragmaticengineer.com/content/images/2019/10/levels-1.png" alt="img"></p><p><strong>éšç€æ‚¨çš„èŒä¸šé˜¶æ¢¯ä¸Šå‡ï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªçº§åˆ«å˜å¾—è¶Šæ¥è¶Šéš¾ã€‚</strong>è¿™æ˜¯å¼€å‘äººå‘˜é˜¶æ¢¯ä¸Šçš„ç±»ä¼¼æŒ‘æˆ˜ï¼Œå°±åƒç®¡ç†ä¸€æ ·ã€‚ä»ç»ç†åˆ°æ€»ç›‘é€šå¸¸åŒæ ·å›°éš¾ï¼Œå°±åƒä»é«˜çº§å·¥ç¨‹å¸ˆåˆ°å‘˜å·¥æˆ–åŸåˆ™ä¸€æ ·ã€‚</p><h2 id="å°†ç›®å…‰æŠ•å‘ä¿ƒé”€"><a href="#å°†ç›®å…‰æŠ•å‘ä¿ƒé”€" class="headerlink" title="å°†ç›®å…‰æŠ•å‘ä¿ƒé”€"></a>å°†ç›®å…‰æŠ•å‘ä¿ƒé”€</h2><p>ä¸€æ—¦æ‚¨äº†è§£æ™‹å‡æµç¨‹çš„è¿ä½œæ–¹å¼ã€è¯„ä¼°è‡ªå·±å¹¶è®©æ‚¨çš„ç»ç†ç«™åœ¨æ‚¨è¿™è¾¹ï¼Œå°±è¯¥é›†ä¸­æ³¨æ„åŠ›äº†ã€‚</p><h4 id="è®¾å®šç›®æ ‡ä»¥ç¼©å°æ‚¨åœ¨ä¸‹ä¸€çº§åˆ«ç¼ºä¹çš„é¢†åŸŸçš„å·®è·"><a href="#è®¾å®šç›®æ ‡ä»¥ç¼©å°æ‚¨åœ¨ä¸‹ä¸€çº§åˆ«ç¼ºä¹çš„é¢†åŸŸçš„å·®è·" class="headerlink" title="è®¾å®šç›®æ ‡ä»¥ç¼©å°æ‚¨åœ¨ä¸‹ä¸€çº§åˆ«ç¼ºä¹çš„é¢†åŸŸçš„å·®è·"></a>è®¾å®šç›®æ ‡ä»¥ç¼©å°æ‚¨åœ¨ä¸‹ä¸€çº§åˆ«ç¼ºä¹çš„é¢†åŸŸçš„å·®è·</h4><p>æ¯«æ— ç–‘é—®ï¼Œæ‚¨éœ€è¦åœ¨å¤šä¸ªé¢†åŸŸå˜å¾—æ›´å¥½æˆ–å±•ç¤ºå½±å“åŠ›ã€‚è¿™å¯èƒ½æ¶‰åŠè½¯ä»¶å·¥ç¨‹ã€æœ‰å½±å“åŠ›çš„æ‰§è¡Œã€è®¾è®¡å¤æ‚é—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€ä¸ä»–äººæ›´å¥½åœ°åä½œç­‰é¢†åŸŸã€‚</p><p>è®¾å®šå¯å¸®åŠ©æ‚¨å®ç°ç›®æ ‡çš„ SMART ç›®æ ‡ - å…·ä½“ã€å¯è¡¡é‡ã€å¯å®ç°ã€ç°å®ã€åŠæ—¶ã€‚è®¾å®šåªå–å†³äºä½ è‡ªå·±çš„ç›®æ ‡ï¼Œè€Œä¸å–å†³äºå¤–éƒ¨å› ç´ ï¼Œæ¯”å¦‚è¢«ç»™äºˆæœºä¼šã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨ç¡®å®šè¦æ”¹è¿›çš„é¢†åŸŸæ˜¯åœ¨æ¶æ„ä¸Šå˜å¾—æ›´å¥½ï¼Œé‚£ä¹ˆä¸è¦è®¾å®šæ„å»ºå¤æ‚é¡¹ç›®çš„é€šç”¨ç›®æ ‡ã€‚ä½†æ˜¯æ‚¨å¯ä»¥è®¾å®šä¸€ä¸ªç›®æ ‡ï¼Œæ¯æœˆè‡³å°‘å½»åº•å®¡æŸ¥ä¸€ä»½ææ¡ˆï¼Œåœ¨è¯¥é¢†åŸŸæŒ‡å¯¼è‡³å°‘ä¸€ååˆçº§å·¥ç¨‹å¸ˆ 3 ä¸ªæœˆï¼Œæˆ–é˜…è¯»ç›¸å…³ä¹¦ç±å¹¶åœ¨æ¥ä¸‹æ¥çš„ 2 ä¸ªæœˆå†…å‘æ‚¨çš„å›¢é˜Ÿå’Œç»„ç»‡å±•ç¤ºå­¦ä¹ æˆæœã€‚å¦‚æœä½ è¢«ç¡®è®¤é¢†å¯¼ä¸€ä¸ªé¡¹ç›®ï¼Œä½ å¯ä»¥è®¾å®šä¸€ä¸ªç›®æ ‡ï¼Œè®©ä¸¤ä¸ªæ¯”ä½ é«˜çš„äººå®¡æŸ¥ä½ çš„ææ¡ˆï¼Œä»–ä»¬åœ¨ä½ çš„å›¢é˜Ÿä¹‹å¤–ã€‚</p><h4 id="é‡‡å–è¡ŒåŠ¨å¹¶æ‰¿æ‹…è´£ä»»ï¼Œå°±åƒæ‚¨å·²ç»å¤„äºä¸‹ä¸€ä¸ªçº§åˆ«ä¸€æ ·"><a href="#é‡‡å–è¡ŒåŠ¨å¹¶æ‰¿æ‹…è´£ä»»ï¼Œå°±åƒæ‚¨å·²ç»å¤„äºä¸‹ä¸€ä¸ªçº§åˆ«ä¸€æ ·" class="headerlink" title="é‡‡å–è¡ŒåŠ¨å¹¶æ‰¿æ‹…è´£ä»»ï¼Œå°±åƒæ‚¨å·²ç»å¤„äºä¸‹ä¸€ä¸ªçº§åˆ«ä¸€æ ·"></a>é‡‡å–è¡ŒåŠ¨å¹¶æ‰¿æ‹…è´£ä»»ï¼Œå°±åƒæ‚¨å·²ç»å¤„äºä¸‹ä¸€ä¸ªçº§åˆ«ä¸€æ ·</h4><p>æœ‰ä¸¤ç§ä¿ƒé”€æƒ…å†µã€‚ä¸€ä¸ªæ˜¯éå¸¸ç®€å•çš„ï¼šæ¯«æ— ç–‘é—®ï¼Œå·¥ç¨‹å¸ˆå·²ç»åœ¨ä¸‹ä¸€ä¸ªçº§åˆ«æ‰§è¡Œäº†å¾ˆé•¿æ—¶é—´ã€‚å¦ä¸€ä¸ªæ›´å…·æŒ‘æˆ˜æ€§ï¼šè¿™ä¸ªäººè¡¨ç°å‡ºå¾ˆå¤šå¸Œæœ›ï¼Œä½†æœ‰ä¸€äº›åœ°æ–¹ä»–ä»¬æ²¡æœ‰è¾¾åˆ°ä¸‹ä¸€ä¸ªå±‚æ¬¡ã€‚ç¬¬äºŒç§ä¿ƒé”€æ¡ˆä¾‹æ˜¯æŠ›ç¡¬å¸ç±»å‹ï¼Œç»“æœå¯èƒ½ä»¥ä»»ä½•ä¸€ç§æ–¹å¼è¿›è¡Œã€‚</p><p>å½“æ‚¨ä¸ºå‡èŒè€ŒåŠªåŠ›æ—¶ï¼Œç›®æ ‡æ˜¯åœ¨ä¸‹ä¸€ä¸ªçº§åˆ«ä¸Šå§‹ç»ˆå¦‚ä¸€åœ°è¡¨ç°ï¼šä¸è¦ä»…å°†å…¶é™åˆ¶åœ¨æ‚¨çš„é‡ç‚¹é¢†åŸŸã€‚å¦‚æœæ‚¨çš„ç›®æ ‡æ˜¯é«˜å±‚ï¼Œè€Œæ‚¨å›¢é˜Ÿçš„é¡¹ç›®é¢ä¸´é£é™©ï¼Œè¯·å»ºç«‹å¹¶å¸®åŠ©æ•´ä¸ªé¡¹ç›®å–å¾—æˆåŠŸã€‚å¦‚æœä½ çš„ç»ç†è¦æ±‚å¿—æ„¿è€…åšä¸€ä»¶æ— èŠä½†é‡è¦çš„å®¶åŠ¡æ´»ï¼Œè€Œä¸”æ²¡æœ‰äººåŠ ç´§åŠªåŠ›ï¼Œè¯·è€ƒè™‘ä¸¾æ‰‹ã€‚åœ¨ç²‰ç¢è¿™é¡¹å·¥ä½œçš„åŸºç¡€ä¸Šï¼Œè‡ªåŠ¨åŒ–å®ƒçš„ä¸€éƒ¨åˆ†ï¼Œè®©å›¢é˜Ÿä¸­çš„ä¸‹ä¸€ä¸ªäººæ›´å®¹æ˜“å®Œæˆå®ƒã€‚</p><h4 id="è®°å½•æ‚¨çš„æˆå°±å’Œå½±å“"><a href="#è®°å½•æ‚¨çš„æˆå°±å’Œå½±å“" class="headerlink" title="è®°å½•æ‚¨çš„æˆå°±å’Œå½±å“"></a>è®°å½•æ‚¨çš„æˆå°±å’Œå½±å“</h4><p>å½“æ‚¨çš„ç»ç†æˆ–æ‚¨æ•´ç†å‡èŒæ¡ˆä¾‹çš„æ—¶å€™åˆ°äº†ï¼Œç¬¬ä¸€ä¸ªé—®é¢˜å°†æ˜¯å…³äºæ‚¨å–å¾—çš„æˆå°±ï¼Œè¿™ä¿è¯äº†è¿™æ¬¡å‡èŒã€‚åˆ°é‚£ä¸ªæ—¶å€™ï¼Œä½ ä¼šå¿˜è®°ä½ æ‰€åšçš„å¾ˆå¤šä¼Ÿå¤§çš„å·¥ä½œã€‚å› æ­¤ï¼Œæå‰å¼€å§‹å¹¶å¼€å§‹å†™ä¸‹æ‚¨æ­£åœ¨å®Œæˆçš„æ‰€æœ‰å·¥ä½œã€‚</p><p>å¼€å§‹ä¸€ä¸ª<a href="https://blog.pragmaticengineer.com/work-log-template-for-software-engineers/">å·¥ä½œæ—¥å¿—æ–‡ä»¶</a>æˆ–ç±»ä¼¼çš„ä¸œè¥¿ï¼Œä½ ä¼šä¸æ–­æ›´æ–°ã€‚<a href="https://blog.pragmaticengineer.com/work-log-template-for-software-engineers/">è¿™æ˜¯æˆ‘åˆ›å»ºçš„ Google Doc æ¨¡æ¿</a>ã€‚ä¸æ‚¨çš„ç»ç†åˆ†äº«æ­¤ä¿¡æ¯ï¼Œä»¥ä¾¿ä»–ä»¬ä¹Ÿäº†è§£æ‚¨æ‰€åšçš„æ‰€æœ‰å·¥ä½œã€‚æ²¡æœ‰äººæ¯”ä½ æ›´äº†è§£ä½ æ‰€åšçš„å·¥ä½œã€‚ä½ å¯èƒ½ä¼šå› ä¸ºä½ å®Œæˆäº†å¤šå°‘é¢å¤–çš„äº‹æƒ…è€Œè®©ä½ çš„ç»ç†å¤§åƒä¸€æƒŠã€‚å½“ä½ å¾—åˆ°æ™‹å‡æ—¶ï¼Œä½ ä¼šè®©ä½ ä»¬çš„ç”Ÿæ´»æ›´è½»æ¾ã€‚</p><p>è€ƒè™‘é’ˆå¯¹ä¸‹ä¸€ä¸ªèŒä¸šé˜¶æ¢¯çº§åˆ«<a href="https://blog.pragmaticengineer.com/performance-review-template-and-example-for-software-engineers/">è¿›è¡Œè‡ªæˆ‘è¯„ä¼°</a>ï¼Œåˆ—å‡ºæ‚¨è®¤ä¸ºè¯æ˜æ‚¨å·²ç»è¯æ˜åœ¨ä¸‹ä¸€ä¸ªçº§åˆ«å·¥ä½œçš„ä¾‹å­ã€‚å‘æ‚¨çš„ç»ç†å¯»æ±‚åé¦ˆï¼Œå¹¶ä½¿ç”¨æ­¤å®¡æŸ¥æ¥ç¡®å®šæ‚¨å¯ä»¥åŠªåŠ›ç¼©å°çš„ä¸‹ä¸€ä¸ªçº§åˆ«çš„å·®è·ã€‚</p><h2 id="è·å¾—å¸®åŠ©å’Œé¢‘ç¹çš„åé¦ˆ"><a href="#è·å¾—å¸®åŠ©å’Œé¢‘ç¹çš„åé¦ˆ" class="headerlink" title="è·å¾—å¸®åŠ©å’Œé¢‘ç¹çš„åé¦ˆ"></a>è·å¾—å¸®åŠ©å’Œé¢‘ç¹çš„åé¦ˆ</h2><p>äº‰å–æ™‹å‡çš„è¿‡ç¨‹å¹¶ä¸çŸ­ï¼šå¯èƒ½éœ€è¦å‡ ä¸ªæœˆçš„æ—¶é—´ã€‚å¾ˆå®¹æ˜“å¿˜è®°è‡ªå·±çš„è¡¨ç°ï¼Œä»¥åŠæ‚¨æ˜¯å¦ä»ç„¶åœ¨è¯æ˜è‡ªå·±å¤„äºä¸‹ä¸€ä¸ªçº§åˆ«çš„ç›®æ ‡ä¸Šã€‚</p><h4 id="åœ¨å…¬å¸æ‰¾ä¸ªå¯¼å¸ˆï¼Œå¸®ä½ "><a href="#åœ¨å…¬å¸æ‰¾ä¸ªå¯¼å¸ˆï¼Œå¸®ä½ " class="headerlink" title="åœ¨å…¬å¸æ‰¾ä¸ªå¯¼å¸ˆï¼Œå¸®ä½ "></a>åœ¨å…¬å¸æ‰¾ä¸ªå¯¼å¸ˆï¼Œå¸®ä½ </h4><p>è™½ç„¶æ‚¨çš„ç»ç†å¯èƒ½ä¼šåœ¨æ‚¨çš„å‡èŒå·¥ä½œä¸­ç«™åœ¨æ‚¨è¿™è¾¹ï¼Œä½†ä»–ä»¬èƒ½ç»™æ‚¨çš„åé¦ˆä¹Ÿæœ‰é™ã€‚æ‚¨å¯ä»¥<a href="https://blog.pragmaticengineer.com/developers-mentoring-other-developers/">é€šè¿‡è·å¾—ä¸€ä½å¯¼å¸ˆï¼ˆå¦ä¸€ä½å·¥ç¨‹å¸ˆï¼‰</a>æ¥åŠ é€Ÿæ‚¨çš„èŒä¸šå‘å±•ã€‚</p><p>å°è¯•æ‰¾åˆ°å·²ç»å¤„äºä¸‹ä¸€ä¸ªçº§åˆ«çš„å¼€å‘äººå‘˜ã€‚æ›´å¥½çš„æ˜¯ï¼Œå¦‚æœä»–ä»¬åœ¨å…¬å¸å†…å¾—åˆ°ææ‹”ã€‚å‘ä»–ä»¬å¯»æ±‚æŒ‡å¯¼ï¼Œç‰¹åˆ«æ˜¯åœ¨æˆé•¿åˆ°ä¸€ä¸ªæ–°çš„æ°´å¹³ä¸Šã€‚ä¸ä»–ä»¬åˆ†äº«æ‚¨çš„è¯„ä¼°å’Œç›®æ ‡ï¼Œå¹¶å¯»æ±‚åé¦ˆå’Œå¸®åŠ©ä»¥å¸®åŠ©æ‚¨æˆé•¿åˆ°æ›´é«˜çš„æ°´å¹³ã€‚</p><p>åœ¨æˆ‘çš„å…¬å¸å†…ï¼Œæˆ‘æ³¨æ„åˆ°ä¸»åŠ¨å»ºç«‹æ­¤ç±»æŒ‡å¯¼çš„å¼€å‘äººå‘˜çœ‹åˆ°äº†å¤šç§å¥½å¤„ã€‚ä¸€æ–¹é¢ï¼Œä»–ä»¬æ ¹æ®å¯¼å¸ˆçš„åé¦ˆå¯¹è‡ªå·±çš„æˆé•¿æ–¹å¼å˜å¾—æ›´å…·æˆ˜ç•¥æ€§ã€‚è¿™äº›å¯¼å¸ˆé€šå¸¸åœ¨å…¬å¸å·¥ä½œçš„æ—¶é—´æ›´é•¿ï¼Œå¹¶å¸®åŠ©å·¥ç¨‹å¸ˆäº†è§£ä¿ƒé”€æ´»åŠ¨ä¸­ä¸€äº›ä¸å¤ªæ¸…æ¥šçš„éƒ¨åˆ†ã€‚å…¶æ¬¡ï¼Œå³ä½¿ä»–ä»¬æ²¡æœ‰å¾—åˆ°æå‡ï¼Œæœ‰å¯¼å¸ˆçš„å¼€å‘äººå‘˜ä¹Ÿæ›´å®¹æ˜“åå¼¹ã€‚ä»–ä»¬æœ‰è‡ªå·±çš„å¯¼å¸ˆï¼Œä»–ä»¬æŠ•èµ„äºè®©ä»–ä»¬æ›´ä¸Šä¸€å±‚æ¥¼ã€‚è¿™ä½¿è¿™äº›å¼€å‘äººå‘˜æ›´å®¹æ˜“å›¢ç»“ä¸€è‡´ï¼Œç»§ç»­åœ¨ä»–ä»¬çš„æ¸¸æˆä¸­ä¿æŒå‡ºè‰²ï¼Œå¹¶åœ¨ä¸‹ä¸€ä¸ªå‘¨æœŸè¿›è¡Œæ¨å¹¿ã€‚</p><h4 id="è¦æ±‚å®šæœŸã€æ˜ç¡®çš„åé¦ˆ"><a href="#è¦æ±‚å®šæœŸã€æ˜ç¡®çš„åé¦ˆ" class="headerlink" title="è¦æ±‚å®šæœŸã€æ˜ç¡®çš„åé¦ˆ"></a>è¦æ±‚å®šæœŸã€æ˜ç¡®çš„åé¦ˆ</h4><p>è®¾å®šç›®æ ‡å¹¶ä¸ºä¹‹åŠªåŠ›æ˜¯ä¸€å›äº‹ã€‚ä½†æ˜¯ï¼Œå°¤å…¶æ˜¯å½“æ‚¨æ­£åœ¨åŠªåŠ›å®ç°å‡èŒç­‰é‡è¦é‡Œç¨‹ç¢‘æ—¶ï¼Œå®šæœŸè·å¾—æœ‰å…³æ‚¨çš„å·¥ä½œæ–¹å¼çš„åé¦ˆåŒæ ·é‡è¦ã€‚</p><p>æ³¨æ„å®šæœŸå‘ç»ç†å±•ç¤ºæ‚¨è®¤ä¸ºè‡ªå·±å–å¾—çš„è¿›å±•ã€‚å‘ä»–ä»¬è¯¢é—®æœ‰å…³æ‚¨åœ¨ä¸‹ä¸€çº§åˆ«çš„è¿›å±•æƒ…å†µçš„åé¦ˆã€‚å°½æ—©è¿›è¡Œå¯¹è¯ï¼Œäº†è§£ä»–ä»¬æ˜¯å¦æ”¯æŒæ‚¨åœ¨ä¸‹ä¸€ä¸ªå‘¨æœŸè·å¾—æ™‹å‡ã€‚å³ä½¿ç­”æ¡ˆæ˜¯â€œè¿˜æ²¡æœ‰â€ï¼Œè®©ä»–ä»¬å¸®åŠ©å®šä¹‰å¯æ“ä½œçš„äº‹æƒ…ï¼Œå¦‚æœä½ å®Œæˆäº†ï¼Œä½ å°†ä¸ºä¸‹ä¸€ä¸ªçº§åˆ«åšå¥½å‡†å¤‡ã€‚</p><h4 id="é€šè®¯"><a href="#é€šè®¯" class="headerlink" title="é€šè®¯"></a>é€šè®¯</h4><p><a href="https://newsletter.pragmaticengineer.com/">è®¢é˜…æˆ‘çš„æ¯å‘¨é€šè®¯</a>ï¼Œä¸ºå·¥ç¨‹ç»ç†å’Œé«˜çº§å·¥ç¨‹å¸ˆæä¾›å»ºè®®ã€è§‚å¯Ÿå’Œçµæ„Ÿã€‚</p><h2 id="æŠ•å…¥å·¥ä½œ"><a href="#æŠ•å…¥å·¥ä½œ" class="headerlink" title="æŠ•å…¥å·¥ä½œ"></a>æŠ•å…¥å·¥ä½œ</h2><p>å¦‚æœæ‚¨å·²å‘æ‚¨çš„ç»ç†å’Œå¯¼å¸ˆæ˜ç¡®è¡¨ç¤ºæ‚¨æ­£åœ¨ä¸ºæ™‹å‡è€ŒåŠªåŠ›ï¼Œè¯·æŠ•å…¥å·¥ä½œã€‚åœ¨æåå‰çš„å‡ ä¸ªæœˆé‡Œï¼ŒåŠ å€åŠªåŠ›åœ¨æ›´é«˜çš„æ°´å¹³ä¸Šè¡¨ç°ï¼Œå®Œæˆå·¥ä½œå¹¶å¸®åŠ©ä»–äººã€‚</p><h4 id="ä¸è¦ç–è¿œä½ çš„åŒé¾„äºº"><a href="#ä¸è¦ç–è¿œä½ çš„åŒé¾„äºº" class="headerlink" title="ä¸è¦ç–è¿œä½ çš„åŒé¾„äºº"></a>ä¸è¦ç–è¿œä½ çš„åŒé¾„äºº</h4><p>æˆ‘æœ‰æ—¶ä¼šçœ‹åˆ°å·¥ç¨‹å¸ˆçŠ¯çš„ä¸€ä¸ªé”™è¯¯æ˜¯è¿‡äºä¸“æ³¨äº<em>ä»–ä»¬çš„</em>æ™‹å‡ï¼Œä»¥è‡³äºæœ€ç»ˆæŸå®³äº†å›¢é˜Ÿã€‚åˆ°äº†å‡èŒæ—¶é—´ï¼Œä»–ä»¬å¾€å¾€æœ€ç»ˆæ²¡æœ‰å‡èŒï¼Œå› ä¸ºå¾ˆæ˜æ˜¾ï¼Œä»–ä»¬ä¸ä¼˜ç§€çš„å›¢é˜Ÿåˆä½œè€…èƒŒé“è€Œé©°ã€‚è¶Šæ¥è¶Šå¤šçš„å…¬å¸å°å¿ƒç¿¼ç¿¼â€”â€”ç†æ‰€å½“ç„¶ï¼- ä¸ææ‹”æ‹‰ä½å›¢é˜Ÿçš„äººã€‚</p><p>ä¸ºäº†å®ç°æ‚¨ä¸ºæ™‹å‡è€Œè®¾å®šçš„ç›®æ ‡ï¼Œè®©äººä»¬é¿å¼€æ˜¯ä¸€ä¸ªç³Ÿç³•çš„ç­–ç•¥ã€‚é¦–å…ˆï¼Œè¿™æ˜¯éå¸¸çŸ­æœŸçš„æ€è€ƒã€‚åœ¨æ™‹å‡æ—¶å¯èƒ½ä¼šè¦æ±‚æ‚¨å¯èƒ½èµ°è¿‡çš„åŒé¾„äººæä¾›åé¦ˆã€‚ä½†å³ä½¿ä»–ä»¬ä¸æ˜¯ï¼Œè¿™ä¹Ÿæ˜¯ä¸æˆç†Ÿçš„æ ‡å¿—ã€‚æ‚¨è·å¾—çš„èµ„å†è¶Šé«˜ï¼Œå°±è¶ŠæœŸæœ›æ‚¨æˆä¸ºä¸€åå‡ºè‰²çš„å›¢é˜Ÿåˆä½œè€…ï¼Œ<em>åŒæ—¶å–å¾—</em>å¯é çš„æˆç»©ã€‚è¦è¾¾åˆ°å¹³è¡¡å¹¶ä¸æ€»æ˜¯é‚£ä¹ˆå®¹æ˜“ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨å‘ç°è‡ªå·±ä»¥ä¸€ç§è®©å›¢é˜Ÿä¸­çš„äººæ„Ÿåˆ°ä¸å®‰çš„æ–¹å¼æ¨è¿›è‡ªå·±çš„ç›®æ ‡ï¼Œè¯·è€ƒè™‘æ”¹å˜æ‚¨çš„æ–¹æ³•ä»¥æé«˜åä½œæ€§ã€‚</p><h4 id="å³ä½¿ä½ è§‰å¾—å£è¢‹é‡Œæœ‰ä¸œè¥¿ï¼Œä¹Ÿä¸è¦é€€ç¼©"><a href="#å³ä½¿ä½ è§‰å¾—å£è¢‹é‡Œæœ‰ä¸œè¥¿ï¼Œä¹Ÿä¸è¦é€€ç¼©" class="headerlink" title="å³ä½¿ä½ è§‰å¾—å£è¢‹é‡Œæœ‰ä¸œè¥¿ï¼Œä¹Ÿä¸è¦é€€ç¼©"></a>å³ä½¿ä½ è§‰å¾—å£è¢‹é‡Œæœ‰ä¸œè¥¿ï¼Œä¹Ÿä¸è¦é€€ç¼©</h4><p>æœ‰ä¸€æ¬¡ï¼Œå¼€å‘äººå‘˜ä¸ä»–ä»¬çš„ç»ç†è®¾å®šäº†ç›®æ ‡ï¼Œå¦‚æœä»–ä»¬æˆåŠŸé¢†å¯¼å¹¶äº¤ä»˜ ComplexProjectXï¼Œä»–ä»¬å°†è·å¾—æ™‹å‡ã€‚é¡¹ç›®è¿›å±•é¡ºåˆ©ï¼Œäººå°±å‡èŒäº†ã€‚æ­¤äººä¸€å¬è¿™å¥½æ¶ˆæ¯ï¼Œä¸€è„šè¸¹å¼€ï¼Œæ”¾ä¸‹äº†è¿™ä¸ªé¡¹ç›®ï¼Œæ²¡æœ‰å§”æ‰˜ç»™å…¶ä»–äººã€‚éšç€é¡¹ç›®çš„æ¨å‡ºï¼Œè¶Šæ¥è¶Šå¤šçš„é—®é¢˜æµ®å‡ºæ°´é¢ï¼Œæ²¡æœ‰äººé‡‡å–è¡ŒåŠ¨ã€‚æœ€ç»ˆï¼Œä¸å¾—ä¸æ¢å¤æ¨å‡ºã€‚</p><p>è¿™å‘ç”Ÿåœ¨æ™‹å‡å§”å‘˜ä¼šè®¨è®ºè¿™ä½å·¥ç¨‹å¸ˆçš„æ¡ˆå­ä¹‹å‰ã€‚åœ¨è®¨è®ºä¸­ï¼Œä»–ä»¬ä¸€è‡´è®¤ä¸ºï¼Œè™½ç„¶è¿™ä¸ªäººåœ¨å¾ˆå¤šæ–¹é¢éƒ½è¡¨ç°å‡ºå¾ˆé«˜çš„æŠ€èƒ½ï¼Œä½†ä»–ä»¬é€šè¿‡ä»æ–¹å‘ç›˜ä¸Šæ¶ˆå¤±çš„ç¬¬11ä¸ªå°æ—¶æ¥è¡¨ç°å‡ºä¸æˆç†Ÿã€‚æ²¡æœ‰æ²Ÿé€šï¼Œä¹Ÿæ²¡æœ‰å¾ˆå¥½çš„è§£é‡Šä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚è¯¥äººåœ¨é‚£ä¸ªå‘¨æœŸæ²¡æœ‰å¾—åˆ°æå‡ã€‚</p><h2 id="è„šè¸å®åœ°"><a href="#è„šè¸å®åœ°" class="headerlink" title="è„šè¸å®åœ°"></a>è„šè¸å®åœ°</h2><h4 id="ä¸è¦ç›¸ä¿¡ä»»ä½•å‘æ‚¨æ‰¿è¯ºâ€œè‚¯å®šä¼šå‡èŒâ€çš„äººã€‚"><a href="#ä¸è¦ç›¸ä¿¡ä»»ä½•å‘æ‚¨æ‰¿è¯ºâ€œè‚¯å®šä¼šå‡èŒâ€çš„äººã€‚" class="headerlink" title="ä¸è¦ç›¸ä¿¡ä»»ä½•å‘æ‚¨æ‰¿è¯ºâ€œè‚¯å®šä¼šå‡èŒâ€çš„äººã€‚"></a>ä¸è¦ç›¸ä¿¡ä»»ä½•å‘æ‚¨æ‰¿è¯ºâ€œè‚¯å®šä¼šå‡èŒâ€çš„äººã€‚</h4><p>æˆ‘å‘Šè¯‰æˆ‘å›¢é˜Ÿä¸­çš„æ‰€æœ‰å·¥ç¨‹å¸ˆçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ï¼Œæˆ‘å’Œä»»ä½•ç»ç†éƒ½ä¸èƒ½ä¿è¯â€œè‚¯å®šä¼šå‡èŒâ€ã€‚å¦‚æœæœ‰äººå‘Šè¯‰ä»–ä»¬è¿™äº›ï¼Œè¯·ä¸è¦ç›¸ä¿¡ã€‚æˆ‘è§è¿‡å¤ªå¤šçš„å¼€å‘äººå‘˜è¢«è¿™æ ·çš„æ‰¿è¯ºçƒ§æ¯ã€‚å³ä½¿æœ‰æœ€å¥½çš„ç»ç†ï¼Œä¹Ÿæœ‰å¾ˆå¤šåŸå› å¯¼è‡´â€œç¡®å®šâ€çš„æ™‹å‡ä¸ä¼šå®ç°ã€‚</p><p>é¦–å…ˆï¼Œä»»ä½•ç»ç†éƒ½å¯èƒ½ä¼šæ„å¤–ç¦»å¼€ã€‚æœ€å¸¸è§çš„è‹¦æ¶©æ•…äº‹æ˜¯è¿™æ ·çš„ï¼š<em>â€œX ç»ç†ç­”åº”æˆ‘ä¼šå‡èŒï¼Œå› ä¸ºæˆ‘åšå¾—å¾ˆå¥½ã€‚ç„¶åä»–ä»¬ç¦»å¼€äº†ã€‚æˆ‘çš„æ–°ç»ç†æ²¡æœ‰å…‘ç°è¿™ä¸ªæ‰¿è¯ºï¼Œå†³å®šä¸ææ‹”æˆ‘â€ã€‚</em>ç¬¬äºŒä¸ªåŸå› æ˜¯ï¼Œä»»ä½•ç»ç†éƒ½å¯èƒ½è¯¯åˆ¤ä»–ä»¬çš„ç›´å±éƒ¨é—¨çš„è¡¨ç°æˆ–å…¬å¸æ™‹å‡çš„æ”¿æ²»å±€åŠ¿ã€‚ç›¸ä¿¡å…³äºâ€œå·²ç»åœ¨å£è¢‹é‡Œâ€ç±»å‹çš„å£°æ˜çš„å¥½æ¶ˆæ¯å¾ˆè¯±äººï¼šä¸è¦ã€‚å¦‚æœä½ ä»¥è¡¨é¢ä»·å€¼æ¥å—è¿™æ ·çš„æ‰¿è¯ºï¼Œæ— è®ºå®ƒä»¬å¯èƒ½æ˜¯å¤šä¹ˆçœŸè¯šï¼Œä½ éƒ½ä¼šè®©è‡ªå·±å¤±æœ›ã€‚</p><h4 id="ä¸è¦è®©æ™‹å‡æˆä¸ºä½ å”¯ä¸€çš„ç›®æ ‡"><a href="#ä¸è¦è®©æ™‹å‡æˆä¸ºä½ å”¯ä¸€çš„ç›®æ ‡" class="headerlink" title="ä¸è¦è®©æ™‹å‡æˆä¸ºä½ å”¯ä¸€çš„ç›®æ ‡"></a>ä¸è¦è®©æ™‹å‡æˆä¸ºä½ å”¯ä¸€çš„ç›®æ ‡</h4><p>æ— è®ºæ‚¨åœ¨ä¸‹ä¸€çº§åˆ«çš„è¡¨ç°å¦‚ä½•ï¼Œæ— è®ºæ‚¨çš„ç»ç†å¤šä¹ˆæ”¯æŒæ‚¨ï¼Œæ‚¨éƒ½å¯èƒ½ä¸ä¼šå¾—åˆ°æå‡ã€‚å¦‚æœä½ çš„å”¯ä¸€ç›®æ ‡æ˜¯å‡èŒæœ¬èº«ï¼Œä½ ä¼šå£«æ°”ä½è½ï¼Œå¯èƒ½ä¼šè€ƒè™‘è¾èŒå¹¶å¯»æ‰¾æ–°å·¥ä½œï¼Œä»…ä»…å› ä¸ºç»“æœæœ¬èº«ã€‚</p><p>æˆ‘æ›¾ç»æœ‰ä¸€ä½æˆ‘å¼ºçƒˆæ”¯æŒçš„å·¥ç¨‹å¸ˆï¼Œæˆ‘ 100% ç›¸ä¿¡ä»–ä»¬ä¼šå¾—åˆ°æ™‹å‡ã€‚å°½ç®¡æˆ‘ä¸ºè¿™ä¸ªäººè€Œæˆ˜ï¼Œä½†ä»–ä»¬ä»ç„¶æ²¡æœ‰èµ°ä¸Šè¿é”åº—ä¸ºä»–ä»¬è¾©æŠ¤ã€‚æ­¤åï¼Œæˆ‘æ›´åŠ è‡´åŠ›äºå¸®åŠ©è¿™ä½å·¥ç¨‹å¸ˆåœ¨ä¸‹ä¸€ä¸ªå‘¨æœŸä¸­è·å¾—è®¤å¯ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™ä½å¼€å‘äººå‘˜ä¸ä»…å…³æ³¨ç»“æœï¼Œè€Œä¸”åŒæ ·å…³å¿ƒå…¶ä»–é¢†åŸŸçš„å‘å±•ã€‚ä¸‹ä¸€æ¬¡ï¼Œä»–ä»¬ç²‰ç¢äº†æ™‹å‡è¿‡ç¨‹ï¼Œç»§ç»­ä¿æŒé«˜å¢é•¿è½¨è¿¹ã€‚</p><p><strong>å¦‚æœä½ çš„ä¸»è¦ç›®æ ‡æ˜¯èŒä¸šå‘å±•ï¼Œå³ä½¿ä½ æ²¡æœ‰å¾—åˆ°æå‡ï¼Œä½ ä¹Ÿä¼šè·å¾—å®è´µçš„æŠ€èƒ½ã€‚</strong>è¿™äº›æŠ€èƒ½å¯èƒ½æ˜¯ä¼ è¾¾å·¥ç¨‹æœ€ä½³å®è·µã€æŒ‡å¯¼ä»–äººã€é¢†å¯¼é¡¹ç›®ã€åˆ†äº«çŸ¥è¯†ç­‰ã€‚ä¸“æ³¨äºè¿™äº›æŠ€èƒ½ï¼Œè€Œä¸æ˜¯ä»…ä»…æå‡ã€‚æ ¹æ®è´µå…¬å¸éµå¾ªçš„æµç¨‹ï¼Œä¿ƒé”€ä¼šæˆåŠŸè¿˜æ˜¯å¤±è´¥ã€‚ä½†æ²¡æœ‰äººèƒ½å¤ºèµ°ä½ çš„æˆé•¿ã€‚</p><h4 id="ä¿ƒé”€ä¸æ˜¯è·å¾—æ­£é¢åé¦ˆçš„å”¯ä¸€é€”å¾„"><a href="#ä¿ƒé”€ä¸æ˜¯è·å¾—æ­£é¢åé¦ˆçš„å”¯ä¸€é€”å¾„" class="headerlink" title="ä¿ƒé”€ä¸æ˜¯è·å¾—æ­£é¢åé¦ˆçš„å”¯ä¸€é€”å¾„"></a>ä¿ƒé”€ä¸æ˜¯è·å¾—æ­£é¢åé¦ˆçš„å”¯ä¸€é€”å¾„</h4><p>è®¸å¤šäººå°†æ™‹å‡è§†ä¸ºå¯¹å·¥ä½œå‡ºè‰²çš„è¯æ˜ã€‚ç„¶è€Œï¼Œè™½ç„¶æˆåŠŸçš„ä¿ƒé”€ç¡®å®æ„å‘³ç€å‡ºè‰²çš„åé¦ˆï¼Œä½†æ‚¨è·å¾—çš„å¤§éƒ¨åˆ†æ­£é¢è®¤å¯ä¸ä¼šé€šè¿‡ä¿ƒé”€è·å¾—ã€‚</p><p>ä½ æ¯å¤©éƒ½ä¼šä»å’Œä½ ä¸€èµ·å·¥ä½œçš„äººé‚£é‡Œå¾—åˆ°åé¦ˆï¼Œä»–ä»¬ä¼šè¯´â€œ<em>è°¢è°¢</em>â€ã€â€œ<em>ä½ çœŸçš„å¸®äº†æˆ‘</em>â€æˆ–â€œ<em>æ²¡æœ‰ä½ æˆ‘ä¼šè¢«å›°æ›´é•¿æ—¶é—´</em>â€ã€‚ä½ ä¼šä»ä½ çš„ç»ç†å’Œå¯¼å¸ˆé‚£é‡Œå¾—åˆ°åé¦ˆã€‚è€Œä¸”ï¼Œå½“ç„¶ï¼Œè¿˜æœ‰æ­£å¼çš„ç»©æ•ˆè¯„ä¼°ï¼Œæ‚¨çš„ç»ç†è¿˜å°†åœ¨å…¶ä¸­æ€»ç»“æ‚¨æ‰€åšçš„å‡ºè‰²å·¥ä½œ - ä»¥åŠéœ€è¦æ”¹è¿›çš„é¢†åŸŸã€‚è·å¾—å¥–é‡‘æˆ–åŠ è–ªä¹Ÿæ˜¯æ‰€æœ‰ç§¯æçš„åé¦ˆâ€”â€”æ‰€æœ‰è¿™äº›éƒ½å°†æ¯”æ™‹å‡æ›´é¢‘ç¹ã€‚</p><h4 id="ä¿æŒè€å¿ƒå¹¶ä¿æŒç§¯ææ€åº¦ã€‚è¿™æ˜¯ä¸€åœºæ¼«é•¿çš„æ¯”èµ›ã€‚"><a href="#ä¿æŒè€å¿ƒå¹¶ä¿æŒç§¯ææ€åº¦ã€‚è¿™æ˜¯ä¸€åœºæ¼«é•¿çš„æ¯”èµ›ã€‚" class="headerlink" title="ä¿æŒè€å¿ƒå¹¶ä¿æŒç§¯ææ€åº¦ã€‚è¿™æ˜¯ä¸€åœºæ¼«é•¿çš„æ¯”èµ›ã€‚"></a>ä¿æŒè€å¿ƒå¹¶ä¿æŒç§¯ææ€åº¦ã€‚è¿™æ˜¯ä¸€åœºæ¼«é•¿çš„æ¯”èµ›ã€‚</h4><p>æˆ‘æœ‰ä¸€ä½æœ‰å‡ å¹´ç»éªŒçš„æ‰åæ¨ªæº¢çš„å¼€å‘äººå‘˜åŠ å…¥äº†æˆ‘çš„å›¢é˜Ÿï¼Œä»–æ¸´æœ›è¾¾åˆ°é«˜çº§æ°´å¹³ã€‚ä»–ä»¬æœ‰ä¸€ä¸ªæœ‹å‹æœ€è¿‘æ™‹å‡åˆ°äº†è¿™ä¸ªçº§åˆ«ï¼Œä»–ä»¬è§‰å¾—è¿™ä¸ªæœ‹å‹åœ¨ä»–ä»¬ä¹‹å‰ã€‚è¿™ä¸ªäººå¾ˆæ²®ä¸§ï¼Œåœ¨ç»è¿‡ä»–ä»¬çš„è‡ªæˆ‘è¯„ä¼°åï¼Œæˆ‘å‘Šè¯‰ä»–ä»¬ï¼Œä¸ä¸‹ä¸€ä¸ªçº§åˆ«ç›¸æ¯”ï¼Œä»–ä»¬æœ‰å¤ªå¤šçš„å·®è·ï¼Œæ— æ³•åœ¨æœ¬å‘¨æœŸæ™‹å‡ã€‚æˆ‘è¯´ï¼Œå³ä½¿ä»–ä»¬æŠ•å…¥å·¥ä½œï¼Œæˆ‘ä¹Ÿçœ‹ä¸åˆ°ä»–ä»¬åœ¨ä¸‹ä¸€ä¸ªå‘¨æœŸä¹‹å‰å‡èŒï¼Œä¹Ÿå°±æ˜¯ 9 ä¸ªæœˆä¹‹åã€‚æˆ‘å»ºè®®æˆ‘ä»¬åˆ¶å®šä¸€ä¸ªè®¡åˆ’æ¥å®ç°è¿™ä¸€ç›®æ ‡ã€‚</p><p>é¦–å…ˆï¼Œè¿™ä¸ªäººå¾ˆä¸é«˜å…´ï¼Œè®¤ä¸ºæˆ‘å·²ç»ä¸ºä»–ä»¬å‡†å¤‡å¥½äº†ã€‚æ…¢æ…¢åœ°ï¼Œå†·é™ä¸‹æ¥ä¹‹åï¼Œæˆ‘ä»¬åˆ¶å®šäº†ä¸€ä¸ªè®¡åˆ’ã€‚ä¸€æ­¥ä¸€æ­¥åœ°ï¼Œæˆ‘ä»¬å–å¾—äº†è¿›å±•ï¼Œä»–ä»¬å¼€å§‹æ„è¯†åˆ°ä»–ä»¬éœ€è¦åšå¤šå°‘å·¥ä½œã€‚æœ€ç»ˆï¼Œ9ä¸ªæœˆåï¼Œä»–ä»¬å‡èŒäº†ã€‚ä»–ä»¬è¿˜ä¸åˆ°5å¹´çš„ç»éªŒï¼Œå·²ç»æ˜¯é«˜çº§æ°´å¹³äº†ã€‚ä½œä¸ºå‚è€ƒï¼Œæˆ‘èŠ±äº†æ›´é•¿çš„æ—¶é—´æ‰èƒ½è¾¾åˆ°ç›¸åŒçš„æ°´å¹³ã€‚å°½ç®¡å¦‚æ­¤ï¼Œä¸ä»–ä»¬ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»æœªæ„Ÿåˆ°è½åã€‚</p><p>é¢å¤–çš„ 6 ä¸ªæœˆæˆ– 12 ä¸ªæœˆä¼šå¯¹æ‚¨çš„èŒä¸šç”Ÿæ¶¯äº§ç”Ÿå½±å“å—ï¼Ÿä½ è¶Šæ—©æ¥è§¦å®ƒï¼Œä½ å°±è¶Šè®¤ä¸ºå®ƒä¼šèµ·ä½œç”¨ã€‚ç„¶è€Œï¼Œä¸€æ®µæ—¶é—´åï¼Œæ‚¨å¯èƒ½ä¼šæ„è¯†åˆ°è¿™ä¸æ˜¯çŸ­è·‘ï¼Œè€Œæ˜¯é©¬æ‹‰æ¾ã€‚<strong>è™½ç„¶æ‚¨å¯èƒ½ä¼šåœ¨ç¬¬ä¸€ä»½å·¥ä½œå‡ å¹´åè·å¾—æ™‹å‡ï¼Œä½†éšç€æ—¶é—´çš„æ¨ç§»ï¼Œæ™‹å‡ä¼šæ”¾ç¼“ï¼šè·å¾—æ™‹å‡å°†æ›´å…·æŒ‘æˆ˜æ€§ã€‚</strong></p><p>ç©é•¿æ—¶é—´çš„æ¸¸æˆã€‚ä¿æŒç§¯æçš„æ€åº¦å¹¶ä¸“æ³¨äºæ‚¨æŒç»­çš„ä¸“ä¸šæˆé•¿ã€‚å°†æ‚¨çš„æˆé•¿è§†ä¸ºä¸€æ¬¡æ—…ç¨‹ï¼Œè€Œä¸æ˜¯ä¿ƒé”€çš„ç«äº‰ã€‚è¿™æ ·åšä½ ä¼šæ›´åŠ å¹³è¡¡ã€‚</p><h2 id="å¸®åŠ©åˆ«äºº"><a href="#å¸®åŠ©åˆ«äºº" class="headerlink" title="å¸®åŠ©åˆ«äºº"></a>å¸®åŠ©åˆ«äºº</h2><p>åœ¨å…¬å¸å†…æ™‹å‡ä»æ¥éƒ½ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹ã€‚å½“æ‚¨åœ¨è¿™æ–¹é¢å–å¾—æˆåŠŸæ—¶ï¼Œè¯·è€ƒè™‘å›é¦ˆå¹¶æ”¶ç•™æŸäººï¼Œå¸®åŠ©ä»–ä»¬æˆé•¿ã€‚è®©å…¶ä»–äººçŸ¥é“æ‚¨æ„¿æ„æŒ‡å¯¼ä»–äººã€‚å¦‚æœæ‚¨åœ¨å›¢é˜Ÿä¸­çœ‹åˆ°æŸäººå…·æœ‰è‰¯å¥½çš„æˆé•¿æ½œåŠ›å¹¶ä¸”æ‚¨è§‰å¾—å¯ä»¥æä¾›å¸®åŠ©ï¼Œè¯·ä¸»åŠ¨æå‡ºæŒ‡å¯¼ä»–ä»¬ã€‚</p><p>å³ä½¿ä½ è¿˜æ²¡æœ‰å¾—åˆ°æå‡ï¼Œä¹Ÿè¦å¸®åŠ©ä»–äººæˆé•¿å¹¶å› ä»–ä»¬çš„æˆé•¿è€Œè·å¾—è®¤å¯ã€‚å¦‚æœä½ æ‰€åœ¨çš„å…¬å¸æœ‰æ›´é‡é‡çº§çš„æ™‹å‡æµç¨‹ï¼Œæœ‰åŒè¡Œè¯„å®¡ï¼Œä½ å¯èƒ½ä¼šè¢«å…¶ä»–äººè¦æ±‚å¯¹ä»–ä»¬çš„æ™‹å‡è¿›è¡ŒåŒè¡Œè¯„å®¡ã€‚å¦‚æœæ‚¨åœ¨æ›´é«˜çº§åˆ«åŠ å…¥ï¼Œå…¶ä»–å·¥ç¨‹å¸ˆå¯èƒ½ä¼šå‘æ‚¨å¯»æ±‚æœ‰å…³å‘å±•çš„å»ºè®®ã€‚</p><p><strong>ä¸è¦å¿˜è®°ï¼Œå‡èŒæ˜¯å¯¹ä½ æˆé•¿çš„è®¤å¯ã€‚æœ€å¥½çš„æˆé•¿æ–¹å¼ä¹‹ä¸€å°±æ˜¯</strong><a href="https://blog.pragmaticengineer.com/developers-mentoring-other-developers/"><strong>é€šè¿‡æŒ‡å¯¼</strong></a><strong>æ¥</strong><a href="https://blog.pragmaticengineer.com/developers-mentoring-other-developers/"><strong>æ•™å¯¼ä»–äºº</strong></a><strong>ã€‚</strong>ä¿æŒå¹³æ˜“è¿‘äººå’Œä¹äºåŠ©äººçš„æ€åº¦ï¼Œå¹¶ä¸ºæ­¤ä»˜å‡ºä»£ä»·ã€‚ä½ ä¼šå­¦åˆ°æ›´å¤šï¼Œç»“äº¤è®¸å¤šç›Ÿå‹ï¼Œè¿™æ ·ä½ çš„èŒä¸šç”Ÿæ¶¯å°†å˜å¾—æ›´åŠ æ„‰å¿«ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è½¬è½½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ–‡ç«  </tag>
            
            <tag> è½¬è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¹¸å­˜è€…åå·®</title>
      <link href="/hypo-Z.github.io/2021/11/18/3-xing-cun-zhe-pian-chai/"/>
      <url>/hypo-Z.github.io/2021/11/18/3-xing-cun-zhe-pian-chai/</url>
      
        <content type="html"><![CDATA[<h1 id="å¹¸å­˜è€…åå·®"><a href="#å¹¸å­˜è€…åå·®" class="headerlink" title="å¹¸å­˜è€…åå·®"></a>å¹¸å­˜è€…åå·®</h1><ul><li><p>äºŒæˆ˜æ—¶,ç¾å›½é‚€è¯·æ²ƒå¾·æ•™æˆåˆ©ç”¨ç»Ÿè®¡å­¦çŸ¥è¯†åŠ å¼ºé£æœºã€‚æœºç¿¼æ˜¯æœ€å®¹æ˜“å‡»ä¸­çš„<br>ä½ç½®æœºå°¾åˆ™æ˜¯æœ€å°‘è¢«å‡»ä¸­çš„ä½ç½®ï¼Œæ²ƒå¾·æ•™æˆçš„ç»“è®ºï¼šâ€æ˜¯åº”è¯¥åŠ å¼ºæœºå°¾çš„ä¿æŠ¤â€,<br>è€Œå†›æ–¹æŒ‡æŒ¥å®˜è®¤ä¸º:â€åº”è¯¥åŠ å¼ºæœºç¿¼çš„ä¿æŠ¤,å› ä¸ºè¿™æ˜¯æœ€å®¹æ˜“è¢«å‡»<br>ä¸­çš„åœ°æ–¹â€ã€‚</p></li><li><p>æˆ‘ä»¬å¤ªå®¹æ˜“åœ¨ç¼–é€ å†å²ç†è®ºæ—¶å¿˜è®°å·²ç»æ­»å»çš„äºº,ä½†è¿™ä¸ªé—®é¢˜ä¸ä»…å­˜åœ¨äº<br>å†å²ä¸­,è¿˜å­˜åœ¨äºæˆ‘ä»¬åœ¨æ‰€æœ‰é¢†åŸŸæ‰“é€ æ ·æœ¬å¹¶æœé›†è¯æ®çš„æ–¹å¼ä¸­ã€‚æˆ‘ä»¬<br>æŠŠè¿™ç§æ‰­æ›²ç§°ä¸ºåå·®,ä¹Ÿå°±æ˜¯ä½ æ‰€çœ‹åˆ°çš„äº‹ç‰©ä¸çœŸæ­£å­˜åœ¨çš„åº¸ç‰©ä¹‹é—´çš„å·®å¼‚ã€‚<br>æˆ‘ä»¬çš„è®¤çŸ¥ç³»ç»Ÿå¯¹äºä¸å‡ºç°åœ¨æˆ‘ä»¬çœ¼å‰æˆ–ä¸å¼•èµ·æˆ‘ä»¬æ„Ÿæƒ…æ³¨æ„<br>çš„äº‹ç‰©å¯èƒ½æ²¡æœ‰ååº”ã€‚</p></li><li><p>æˆ‘ä»¬å¤©ç”Ÿè‚¤æµ…,åªæ³¨æ„æˆ‘ä»¬çœ‹åˆ°çš„ä¸œè¥¿,ä¸æ³¨æ„æ²¡ç»™<br>æˆ‘ä»¬ç•™ä¸‹ç”ŸåŠ¨å°è±¡çš„ä¸œè¥¿ã€‚æˆ‘ä»¬å‘æ²‰é»˜çš„è¯æ®å‘åŠ¨äº†åŒé‡æˆ˜äº‰ã€‚æ½œæ„è¯†<br>çš„æ¨ç†æœºåˆ¶çš„ç¡®å­˜åœ¨è¿™æ ·çš„æœºåˆ¶å¿½è§†æ²‰é»˜çš„è¯æ®,å³ä½¿æˆ‘ä»¬çŸ¥é“éœ€è¦è€ƒè™‘å®ƒã€‚<br>ä¸è¿›å…¥è§†çº¿åˆ™ä¸è¿›å…¥å¤§è„‘æˆ‘ä»¬å¯¹æŠ½è±¡çš„ä¸œè¥¿æ€€æœ‰å¤©æ€§ä¸Šçš„ç”šè‡³è¡ŒåŠ¨ä¸Šçš„è”‘è§†ã€‚</p></li></ul><p>â€”â€“èŠ‚é€‰è‡ªã€Šé»‘å¤©é¹…ã€‹</p><p>ä½œè€…:çº³è¥¿å§†Â·å°¼å¤æ‹‰æ–¯Â·å¡”å‹’å¸ƒ</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
            <tag> æ–‡ç«  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¶…å‰æ¶ˆè´¹çš„åˆ©ä¸å¼Š?</title>
      <link href="/hypo-Z.github.io/2021/11/17/2-chao-qian-xiao-fei-de-li-yu-bi/"/>
      <url>/hypo-Z.github.io/2021/11/17/2-chao-qian-xiao-fei-de-li-yu-bi/</url>
      
        <content type="html"><![CDATA[<h1 id="è¶…å‰æ¶ˆè´¹çš„åˆ©ä¸å¼Š"><a href="#è¶…å‰æ¶ˆè´¹çš„åˆ©ä¸å¼Š" class="headerlink" title="è¶…å‰æ¶ˆè´¹çš„åˆ©ä¸å¼Š?"></a>è¶…å‰æ¶ˆè´¹çš„åˆ©ä¸å¼Š?</h1><p>å°±åœ¨æ˜¨å¤©,æˆ‘æ¥åˆ°ä¸€ä¸ªç”µè¯,è¯´æ˜¯æƒ³é‚€è¯·æˆ‘å»æ‹›å•†é“¶è¡ŒåŠä¸€å¼ ä¿¡ç”¨å¡,</p><p>æˆ‘å½“æ—¶æ²¡æœ‰ç­”åº”ä»–è¯´æ˜¯è€ƒè™‘ä¸€ä¸‹ï¼Œä¹‹åæˆ‘å°±æƒ³è¿™ç§å½¢å¼çš„æ¶ˆè´¹å¯¹æˆ‘æ¥è¯´çš„åˆ©å¼Šå¦‚ä½•ï¼Ÿ</p><p>åœ¨æˆ‘çœ‹æ¥,å°±åƒèŠ±å‘—ã€ä¿¡ç”¨å¡ä¹‹ç±»å½¢å¼çš„æ¶ˆè´¹æ–¹å¼å°±ä¸</p><p>è´§æ¬¾æ— å¼‚,éƒ½æ˜¯é€æ”¯ä½ çš„ä¸ªäººä¿¡ç”¨ã€åœ¨ä½ æ²¡æœ‰è¿™ä¸ªç»æµå®åŠ›çš„</p><p>æƒ…å†µä¸‹,é“¶è¡Œç»™ä½ æä¾›è¿™ç§æ–¹å¼è®©ä½ æ¶ˆè´¹,è€Œä½ æ°å¥½è¸å…¥è¿™ä¸ªé™·äº•,å› </p><p>ä¸ºé“¶è¡Œç»™ä½ æ”¯å‡ºçš„é’±å°±æ˜¯ä»å…¶å®ƒäººæµå…¥çš„é’±æµè½¬,é“¶è¡Œé€šè¿‡æµè½¬æ”¶å–åˆ©æ¯ã€‚</p><ul><li>è¶…å‰æ¶ˆè´¹çš„åˆ©:è€è¯è¯´çš„å¥½!æ—©å–æ—©äº«å—,æ™šä¹°äº«æŠ˜æ‰£!ä½†æ˜¯å¯¹äºä½ æƒ³è¦è´­</li></ul><p>ä¹°çš„ç‰©å“æ²¡æœ‰è¶³å¤Ÿçš„èµ„é‡‘é“¶è¡Œå°±è·Ÿä½ æä¾›è¿™ç§æ–¹å¼,æŠµæŠ¼ä½ çš„ä¿¡ç”¨ã€</p><p>ä¿ƒä½¿ä½ å»æ¶ˆè´¹è¿™æ ·å°±ä½¿ä½ èƒ½å¤Ÿåœ¨æ¯æœˆä»˜å‡ºè¾ƒå°‘ä»£ä»·æƒ…å†µ,è´­ä¹°ä½ æƒ³è¦çš„ç‰©å“,</p><ul><li>è¶…å‰æ¶ˆè´¹çš„å¼Š:è™½ç„¶ä½ èƒ½å¤Ÿæå‰äº«å—è´­ä¹°ç‰©å“çš„å¿«æ„Ÿ,å»é€æ”¯ä½ çš„ä¿¡ç”¨ã€</li></ul><p>ä½†æ˜¯å®ƒæ˜¯é™åˆ¶çš„,å¹¶ä¸”å…³é”®åœ¨äºä½ æœ‰èƒ½åŠ›è¿˜ä¸Šä½ çš„ä¿¡ç”¨,åœ¨ä½ èµ„é‡‘é“¾</p><p>å……è¶³æƒ…å†µä¸‹,ä¿¡ç”¨èƒ½å¸®ä½ å‘¨è½¬ï¼Œä½†ä½ ä¸èƒ½é æ­¤æ— ä¸ºä¹,</p><p>é€æ”¯ä¿¡ç”¨çš„åæœå°±æ˜¯å¯¹è‡ªèº«ä¿¡ç”¨çš„ç ´åè¿™ç§æ¶ˆè´¹å½¢å¼å±äºé£é™©</p><p>ä¸å¤§,ä½†åæœä¸¥é‡,å°±å¦‚åŒåœ¨æ‚¬å´–æ”€çˆ¬è¿‡ç¨‹ä¸­é£é™©ä¸å¤§ã€‚å› ä¸ºä½ åœ¨</p><p>ä¿é™©ç»³,å°±ç›¸å½“äºä½ çš„èµ„é‡‘é“¾,ä¸€ä½†ä½ çš„ä¿é™©ç»³æ–­å¼€ã€è·Œä¸‹è°·åº•ä¾¿æ˜¯ç²‰èº«ç¢éª¨ã€‚</p><ul><li>æ€»ç»“:å¯¹äºæˆ‘æ¥è¯´ã€è‡ªèº«åœ¨å¯æ”¯é…èµ„é‡‘æƒ…å†µä¸‹å°½å‡å°‘æˆ–è€…ä¸ç”¨</li></ul><p>è¿™ç§æ¶ˆè´¹,å› ä¸ºåªè¦ä½ ä¹ æƒ¯è¿™ç§å½¢å¼çš„æ¶ˆè´¹,ä½ å°±æ²¡æœ‰äº†å¯¹ä»–çš„ç•æƒ§æ„Ÿã€‚</p><p>ä¿—è¯è¯´:æ·¹æ­»çš„éƒ½æ˜¯ä¼šæ°´çš„ã€‚å°å¿ƒé©¶å¾—ä¸‡å¹´èˆ¹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
            <tag> æ–‡ç«  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½ çœ¼ä¸­çš„ä¸–ç•Œ</title>
      <link href="/hypo-Z.github.io/2021/11/16/1-ni-yan-zhong-de-shi-jie/"/>
      <url>/hypo-Z.github.io/2021/11/16/1-ni-yan-zhong-de-shi-jie/</url>
      
        <content type="html"><![CDATA[<h1 id="ä½ çš„çœ¼é‡Œæ˜¯ä»€ä¹ˆæ ·çš„ä¸–ç•Œå°±æ˜¯ä»€ä¹ˆæ ·çš„"><a href="#ä½ çš„çœ¼é‡Œæ˜¯ä»€ä¹ˆæ ·çš„ä¸–ç•Œå°±æ˜¯ä»€ä¹ˆæ ·çš„" class="headerlink" title="ä½ çš„çœ¼é‡Œæ˜¯ä»€ä¹ˆæ ·çš„ä¸–ç•Œå°±æ˜¯ä»€ä¹ˆæ ·çš„,"></a>ä½ çš„çœ¼é‡Œæ˜¯ä»€ä¹ˆæ ·çš„ä¸–ç•Œå°±æ˜¯ä»€ä¹ˆæ ·çš„,</h1><ul><li>è¿™ä¸ªä¸–ç•Œå¾ˆå¤§,è€Œäººå´å¾ˆæ¸ºå°äººå°±å¦‚åŒé©¬è·¯ä¸Šçš„æ²™ç²’å¾®ä¸è¶³é“,</li></ul><p>æ¯ä¸ªäººéƒ½æœ‰ä¸åŒçš„ç”Ÿæ´»ç¯å¢ƒ,ä»å°åˆ°å¤§ï¼Œä½ çœ¼ä¸­çš„ä¸–ç•Œæ˜¯ä»€ä¹ˆæ ·çš„å‘¢?</p><p>æˆ‘è®¤ä¸ºä¸–ç•Œæ˜¯ä¸€ç›´åœ¨å˜åŒ–çš„,è€Œäººä¹Ÿæ˜¯ä¸€æ ·åœ¨æˆé•¿çš„ï¼Œäººçœ¼ä¸­çš„ä¸–ç•Œæ˜¯å¾ˆå±€é™çš„ï¼Œ</p><p>äººçš„ä¸€ç”Ÿæ‰€ç»å†çš„äº‹ç‰©ä¹Ÿæ˜¯æœ‰é™çš„,ä½ èƒ½ç»å†çš„å°±</p><p>åªæ˜¯ä½ èº«è¾¹æ‰€èƒ½æ¥è§¦åˆ°çš„äº‹ä¸ç‰©,åœ¨ä¸€æ–¹é¢æ¥è¯´,è¿™ä¸ªä¸–ç•Œæ˜¯æœ‰ä¸€å¥—å®ƒè‡ªèº«</p><p>è¿è½¬çš„è§„åˆ™,ä½ åªèƒ½åªèº«äºä¸–ç•Œçš„ä¸€ä¸ªå°ç¯å¢ƒä¸­ç”¨ä½ çš„çœ¼ç›å»è§‚å¯Ÿ</p><p>æˆçš„ä¸€å°éƒ¨åˆ†,æ‰€ä»¥è¿™ä¸ªä½ æ‰€è®¤è¯†çš„ä¸–ç•Œä»…ä»…æ˜¯ä½ çœ‹åˆ°çš„ä¸€å°éƒ¨åˆ†ã€è€Œ</p><p>ä½ å°±è®¤ä¸ºè¿™å°±æ˜¯ä¸–ç•Œçš„å…¨éƒ¨,å¿ƒä¸­å°±éš¾å…ä¸ä»–æ‰€çœ‹çš„ä¸–ç•Œäº§ç”Ÿå·®è·ã€‚</p><p>å¦ä¸€æ–¹é¢ã€ä¸–ç•Œæ˜¯ä¸æ–­å˜åŒ–çš„,ä½ æ‰€è§‚å¯Ÿåˆ°çš„ä¸œè¥¿ä¹Ÿæ˜¯ä¸æ–­çš„å˜åŒ–,</p><p>è€Œä¸”äººçš„å¿ƒæ™ºä¸Šçš„æˆé•¿ä¹Ÿä¼šå½±å“ä½ è§‚å¯Ÿè¿™ä¸ªä¸–ç•Œè€Œå¾—å‡ºä¸åŒçš„ç»“</p><p>è®ºã€‚æ‰€ä»¥è¯´,è™½ç„¶è¿™ä¸ªä¸–ç•Œæœ‰è¿™ä¹ˆå¤šæˆ‘ä»¬çœ‹ä¸æ¸…çš„äº‹ç‰©å’Œé“ç†ï¼Œ</p><p>ä½†åªè¦æˆ‘ä»¬ä¸€ç›´ä¿æŒç‹¬ç«‹çš„æ€è€ƒï¼Œå¹¶ä¸”èƒ½æ‹¥æœ‰ä¸€å¥—æˆ‘ä»¬å»è§£é‡Šè¿™ä¸ªä¸–ç•Œ</p><p>çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿‡å¥½å¤§éƒ¨åˆ†çš„äººç”Ÿäº†!</p>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšç¬” </tag>
            
            <tag> æ–‡ç«  </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
